<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
<title></title>
<link href="dist/reset.css" rel="stylesheet">
<link href="dist/reveal.css" rel="stylesheet">
<link href="css/slides-extended.css" rel="stylesheet">
<link href="dist/theme/blood.css" rel="stylesheet" id="theme">
<link href="plugin/highlight/monokai.css" rel="stylesheet">
<link href="plugin/customcontrols/style.css" rel="stylesheet">
<script src="dist/fontawesome/all.min.js" defer></script>
<script type="text/javascript">
function pageInIframe(){return window.location!==window.parent.location}let forgetPop=!0;function onPopState(e){forgetPop?forgetPop=!1:pageInIframe()&&parent.postMessage(e.target.location.href,"app://obsidian.md")}function fitElements(){const e=document.getElementsByClassName("fitText");for(const t in e)if(Object.hasOwnProperty.call(e,t)){const o=e[t];fitElement(o,1,1e3),o.classList.remove("fitText")}}function fitElement(e,t,o){let n=(o+t)/2;if(e.style.fontSize=`${n}px`,Math.abs(t-o)<1)for(;e.scrollHeight>e.offsetHeight;)n--,e.style.fontSize=`${n}px`;else e.scrollHeight>e.offsetHeight?fitElement(e,t,n):fitElement(e,n,o)}window.onpopstate=onPopState,window.onmessage=e=>{"reload"==e.data&&window.document.location.reload(),forgetPop=!0},document.onreadystatechange=()=>{if(fitElements(),"complete"===document.readyState&&(pageInIframe()&&-1!=window.location.href.indexOf("?export")&&parent.postMessage(event.target.location.href,"app://obsidian.md"),-1!=window.location.href.indexOf("print-pdf"))){let e=setInterval((()=>{clearInterval(e),window.print()}),250)}}
</script>
</head>
<body>
<div class="reveal">
<div class="slides"><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

# Dlaczego Playwright?
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<img src="dlaczego-playwright/images/tb_logo_white.png" alt="" style="width: 600px; object-fit: fill">

<img src="dlaczego-playwright/images/tb_napis_white.png" alt="" style="width: 800px; object-fit: fill">

by Maciej Kusz
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## O mnie

- ¬≠tester od ponad 15 lat
- ¬≠automatyzacja w üêç od ponad 10 lat
- ¬≠testowanie UI, API, IoT
- ¬≠tester, test lead, architekt, itp.
- ¬≠prelegent na:
	- meetupach: ≈ÅuczniczQA, KrakQA, ≈ölonzaczQA
	- konferenjach: PyConPL, ConSelenium, TestWarez
-¬≠... oraz wsp√≥≈Çorganizator ≈ölonzaczQA, ConSelenium i TestWarez
- ¬≠a prywatnie mƒÖ≈º, ojciec i zapalony majsterkowicz ...
- ¬≠... autor mkdocs-publisher
- ... oraz szkoleniowiec w ramach **pwts.dev**
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<iframe src="https://wall.sli.do/event/5PkWMjQGinKkxyFesStLzP?section=953fc212-5c4d-439d-9dc1-cc602fe1f38c" width="1366" height="768"></iframe>
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Trochƒô historii

| Framework  | 1 commit |          Wspierane jƒôzyki          |
| ---------- |:--------:|:----------------------------------:|
| Selenium   |   2004   | .NET, Java, Ruby, Python, JavaScript |
| Cypress    |   2017   |             JavaScript             |
| Playwright |   2020   |    .NET, Java, Python, JavaScript    |

<div class="" style="font-size: 20px; position: absolute; left: 50%; top: 90%; height: 10%; width: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

Selenium 4.0.0 ukaza≈Ç siƒô z ko≈Ñcem pa≈∫dziernika 2021
</div>
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Ilo≈õƒá pobra≈Ñ

<img src="dlaczego-playwright/images/npm-5y.png" alt="" style="object-fit: scale-down">


<div class="" style="font-size: 16px; position: absolute; left: 90%; top: 100%; height: 0%; width: 10%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


≈ºr√≥d≈Ço: npm trends

</div>
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Statystyki

<img src="dlaczego-playwright/images/npm-table.png" alt="" style="object-fit: scale-down">


<div class="" style="font-size: 16px; position: absolute; left: 90%; top: 100%; height: 0%; width: 10%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


≈ºr√≥d≈Ço: npm trends

</div>
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Ilo≈õƒá pobra≈Ñ

<img src="dlaczego-playwright/images/npm-2y.png" alt="" style="object-fit: scale-down">


<div class="" style="font-size: 16px; position: absolute; left: 90%; top: 100%; height: 0%; width: 10%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


≈ºr√≥d≈Ço: npm trends

</div>
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

### Ilo≈õƒá pobra≈Ñ

<img src="dlaczego-playwright/images/pypi-selenium.png" alt="" style="width: 900px; object-fit: fill">

<img src="dlaczego-playwright/images/pypi-playwright.png" alt="" style="width: 900px; object-fit: fill">


<div class="" style="font-size: 16px; position: absolute; left: 80%; top: 100%; height: 0%; width: 20%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


≈ºr√≥d≈Ço: pypi stats

</div>
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Problemy Selenium

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->webdriver version hell
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->Shadow DOM (wprowadzone w 4.x)
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->network (wprowadzone w 4.x przez DevTools)
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->brak natywnego API dla testowania REST API
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->[ ] testowanie mobile (appi)
- &shy;<!-- .element: class="fragment" data-fragment-index="6" -->explicit, implicit, fluent wait
- &shy;<!-- .element: class="fragment" data-fragment-index="7" -->brak wsparcia dla async w üêç
- &shy;<!-- .element: class="fragment" data-fragment-index="8" -->nagrywanie video z testu
- &shy;<!-- .element: class="fragment" data-fragment-index="9" -->nagrywanie komunikacji
- &shy;<!-- .element: class="fragment" data-fragment-index="10" -->... og√≥lnie debugowanie testu
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

# Playwright
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Filozofia

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->wbudowana instalacja zale≈ºno≈õci
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->wsparcie dla wielu okien przeglƒÖdarek (tzw. [browser context](https://playwright.dev/python/docs/api/class-browsercontext))
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->wsparcie dla wielu tab√≥w (tzw. [page context](https://playwright.dev/python/docs/api/class-page))
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->wsparcie dla Shadow DOM i iframe
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->mockowanie i modyfikacja REST API
- &shy;<!-- .element: class="fragment" data-fragment-index="6" -->logowanie testu: screenshots, video, tracing
- &shy;<!-- .element: class="fragment" data-fragment-index="7" -->wbudowane narzƒôdzia: Codegen, Inspector, Trace Viewer
- &shy;<!-- .element: class="fragment" data-fragment-index="8" -->tagi, grupowanie, parametryzacja, zr√≥wnoleglanie, itp.
- &shy;<!-- .element: class="fragment" data-fragment-index="9" -->natywne wsparcie dla async w Pythonie
- &shy;<!-- .element: class="fragment" data-fragment-index="10" -->dokumentacja oparta o `pytest` w Pythonie
- &shy;<!-- .element: class="fragment" data-fragment-index="11" -->≈Çatwiejsza konfiguracja w TypeScript
- &shy;<!-- .element: class="fragment" data-fragment-index="12" -->wbudowane raporty w TypeScript
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Wsparcie eksperymentalne

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->Google Chrome i WebView dla Androida (tylko wersja JS)
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->Elektron Apps
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->emulacja Safari
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->[touch screen tap](https://playwright.dev/python/docs/api/class-touchscreen)

```python
async def run(playwright: Playwright):  
	iphone_13 = playwright.devices['iPhone 13']  
	browser = await playwright.webkit.launch(headless=False)  
	context = await browser.new_context(**iphone_13, )
```
<!-- .element: class="fragment" data-fragment-index="4" -->

```javascript
const { chromium, devices } = require('playwright');
const browser = await chromium.launch();
const iphone13 = devices['iPhone 13'];
const context = await browser.newContext({
  ...iphone13,
});
```
<!-- .element: class="fragment" data-fragment-index="5" -->
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Auto-wait

czyli np. dla¬†[locator.click()](https://playwright.dev/python/docs/api/class-locator#locator-click), Playwright upewni siƒô, ≈ºe:

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->locator wskazuje tylko 1 element,
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->element jest¬†[Visible](https://playwright.dev/python/docs/actionability#visible "Visible")
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->element jest¬†[Stable](https://playwright.dev/python/docs/actionability#stable "Stable") - nie jest przekszta≈Çcany
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->element¬†[Receives Events](https://playwright.dev/python/docs/actionability#receives-events "Receives Events") - nie jest przes≈Çoniƒôty
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->element jest¬†[Enabled](https://playwright.dev/python/docs/actionability#enabled "Enabled")
- &shy;<!-- .element: class="fragment" data-fragment-index="6" -->element jest [Editable](https://playwright.dev/python/docs/actionability#editable) - nie jest `readonly`
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<img src="dlaczego-playwright/images/auto-waits.png" alt="" style="object-fit: scale-down">


<div class="" style="font-size: 20px" >

Dokumentacja Playwright - sekcja [Auto-waiting](https://playwright.dev/python/docs/actionability)
</div>
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Asercje

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->uniwersalne, tzn. mo≈ºna sprawdziƒá ka≈ºdy stan
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->prosta sk≈Çadnia
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->wbudowane error message
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->unikalny timeout
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->soft assertions (???)

```python
with check:
	expect(locator, "Some error").to_be_something(timeout=10000)
```
<!-- .element: class="fragment" data-fragment-index="6" -->

```javascript
await expect.soft(locator, "Some error").toBeSomething(timeout=10000)

// Avoid running further if there were soft assertion failures.  
expect(test.info().errors).toHaveLength(0);
```
<!-- .element: class="fragment" data-fragment-index="7" -->
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<img src="dlaczego-playwright/images/assertions.png" alt="" style="object-fit: scale-down">


<div class="" style="font-size: 20px" >

Dokumentacja Playwright - sekcja [Assertions]([https://playwright.dev/python/docs/actionability](https://playwright.dev/python/docs/test-assertions))
</div>
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Timeouty

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->`page.set_default_timeout(10000)`
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->`page.set_default_navigation_timeout(10000)`
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->`expect.set_options(timeout=10000)`
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->... i unikatowe per dana akcja
<br></br>
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->nawigacji
- &shy;<!-- .element: class="fragment" data-fragment-index="6" -->asercji
- &shy;<!-- .element: class="fragment" data-fragment-index="7" -->`beforeAll` \ `afterAll`
- &shy;<!-- .element: class="fragment" data-fragment-index="8" -->fixtury
- &shy;<!-- .element: class="fragment" data-fragment-index="9" -->czas trwania testu
- &shy;<!-- .element: class="fragment" data-fragment-index="10" -->czas trwania wszystkich test√≥w (tylko globalnie)
- &shy;<!-- .element: class="fragment" data-fragment-index="11" -->... i unikatowe per dana akcja
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Lokatory

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->[page.get_by_role(...)](https://playwright.dev/python/docs/locators#locate-by-role), np. przycisk
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->[page.get_by_text(...)](https://playwright.dev/python/docs/locators#locate-by-text)
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->[page.get_by_label(...)](https://playwright.dev/python/docs/locators#locate-by-label) w formularzach
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->[page.get_by_placeholder(...)](https://playwright.dev/python/docs/locators#locate-by-placeholder)¬†w polu `input`
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->[page.get_by_alt_text(...)](https://playwright.dev/python/docs/locators#locate-by-alt-text)¬†alternatywny tekst np. w elemencie `img`
- &shy;<!-- .element: class="fragment" data-fragment-index="6" -->[page.get_by_title(...)](https://playwright.dev/python/docs/locators#locate-by-title)
- &shy;<!-- .element: class="fragment" data-fragment-index="7" -->[page.get_by_test_id(...)](https://playwright.dev/python/docs/locators#locate-by-test-id)¬†przez warto≈õƒá atrybutu¬†`data-testid`
- &shy;<!-- .element: class="fragment" data-fragment-index="8" -->[page.locator("css=...")]([https://playwright.dev/python/docs/locators#locate-by-css-or-xpath](https://playwright.dev/python/docs/other-locators#css-locator))  
- &shy;<!-- .element: class="fragment" data-fragment-index="9" -->[page.locator("xpath=...")]([https://playwright.dev/python/docs/locators#locate-by-css-or-xpath](https://playwright.dev/python/docs/other-locators#xpath-locator))
- &shy;<!-- .element: class="fragment" data-fragment-index="10" -->[page.locator("_react=...")](https://playwright.dev/python/docs/other-locators#react-locator)
- &shy;<!-- .element: class="fragment" data-fragment-index="11" -->[page.locator("_vue=...")](https://playwright.dev/python/docs/other-locators#vue-locator)
- &shy;<!-- .element: class="fragment" data-fragment-index="12" -->..., bo mo≈ºna definiowaƒá w≈Çasne
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Sztuczki z lokatorami

```python [1-5| 6-11|13]
page.get_by_role("listitem").filter(
    has_text="Product 2"
- [ ] ).get_by_role(
    "button", name="Add to cart"
).click()

page.get_by_role("listitem").filter(
    has=page.get_by_role("heading", name="Product 2")  
).get_by_role(
    "button", name="Add to cart"
).click()

page.get_by_role("button").and_(page.getByTitle("Subscribe"))
```

W dokumentacji jest wiƒôcej o: [filtrach](https://playwright.dev/python/docs/locators#filtering-locators), [operatorach](https://playwright.dev/python/docs/locators#locator-operators) i [innych](https://playwright.dev/python/docs/api/class-locator#locator-first)
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Mockowanie REST API

```python [1|1,7-8|2-5|9-10|11-12|]
async def test_mock_the_fruit_api(page: Page):
    async def handle(route: Route):
        json = [{"name": "Strawberry", "id": 21}]
        # fulfill the route with the mock data
        await route.fulfill(json=json)

    # Intercept the route to the fruit API
    await page.route("*/**/api/v1/fruits", handle)
    # Go to the page
    await page.goto("https://demo.playwright.dev/api-mocking")
    # Assert that the Strawberry fruit is visible
    await expect(page.get_by_text("Strawberry")).to_be_visible()
```

```javascript [1|1,13|2-6|8-9|10-11|]
test("mocks a fruit and doesn't call api", async ({ page }) => {  
  // Mock the api call before navigating  
  await page.route('*/**/api/v1/fruits', async route => {  
    const json = [{ name: 'Strawberry', id: 21 }];  
    await route.fulfill({ json });  
  });
    
  // Go to the page  
  await page.goto('https://demo.playwright.dev/api-mocking');  
  // Assert that the Strawberry fruit is visible  
  await expect(page.getByText('Strawberry')).toBeVisible();  
});
```
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Instalacja

```bash [1|3|5|7|]
pip install pytest

pip install playwright

playwright install --with-deps

playwright --version
```


```bash [1|3|5|]
npm init playwright@latest

npx playwright install --with-deps

npx playwright --version
```
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## pytest plugin, ale ...

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->`pip install pytest-playwright`
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->dobry, bo:
	- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->mo≈ºna szybko zaczƒÖƒá (gotowe fixtury)
	- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->(?) wygodny do lokalnego developmentu (CLI)
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->z≈Çy, bo:
	- &shy;<!-- .element: class="fragment" data-fragment-index="6" -->mniejsza kontrola
	- &shy;<!-- .element: class="fragment" data-fragment-index="7" -->podawanie parametr√≥w przez CLI
	- &shy;<!-- .element: class="fragment" data-fragment-index="8" -->(?) ≈õrednio dzia≈Ça z CI/CD
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## jak ≈ºyƒá?

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->w≈Çasna implementacja fixtur
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->parametry konfiguracyjne Playwright przechowywaƒá w zmiennych ≈õrodowiskowych (biblioteka `pydantic`)
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->... i tak samo parametry konfiguracyjne ≈õrodowiska testowego
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## pydantic

```python [1|2,4,5,7|3,6,9-15]
class PlaywrightConfig(pydantic_settings.BaseSettings):  
    model_config = pydantic_settings.SettingsConfigDict(  
        env_prefix="QA_PLAYWRIGHT_",
        env_file=".env",
        frozen=True,
        extra="ignore"  
    )  
  
    browser: str = ""  
    headless: bool = True  
    navigation_timeout_sec: int = 120  
    elements_timeout_sec: int = 60  
    tracing_enable: bool = False  
    tracing_screenshots: bool = True  
    tracing_snapshots: bool = True
```
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## .env i direnv

```bash [1-3]
QA_PLAYWRIGHT_BROWSER=chromium  
QA_PLAYWRIGHT_HEADLESS=false  
QA_PLAYWRIGHT_TRACING_ENABLE=true
```
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Codegen
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

`(npx) playwright codegen demo.playwright.dev/todomvc`

<img src="dlaczego-playwright/images/codegen.jpeg" alt="Codegen" style="width: 1024px; object-fit: fill">
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Inspector
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

`PWDEBUG=1 pytest -s -k test_get_started_link`
`npx playwright test --debug`

<img src="dlaczego-playwright/images/inspector.png" alt="Inspector" style="width: 1024px; object-fit: fill">
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Trace viewer
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

`(npx) playwright show-trace trace.zip`

<img src="dlaczego-playwright/images/traceviewer.png" alt="Trace viewer" style="width: 1024px; object-fit: fill">
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Tips & tricks

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->nagrywaj `traces`
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->u≈ºywaj `page.pause()` do developmentu (i debugowania)
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->zimplementuj w≈Çasne fixtury
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->do testowania tylko REST API u≈ºywaj `requests` lub `httpx`
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## O czym jeszcze nie powiedzia≈Çem?

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->[network](https://playwright.dev/python/docs/network) - zabawa z requestami, np. abort, zmiana kodu b≈Çƒôdu, websockets
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->[session storage](https://playwright.dev/python/docs/auth#session-storage)
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->[wstrzykiwanie JS'a](https://playwright.dev/python/docs/evaluating)
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->[dialog windows](https://playwright.dev/python/docs/dialogs) - wszelkie alerty, itp.
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->[downloads](https://playwright.dev/python/docs/downloads) i [uploads](https://playwright.dev/python/docs/input#upload-files)
- &shy;<!-- .element: class="fragment" data-fragment-index="6" -->[mouse](https://playwright.dev/python/docs/input#mouse-click) i [keyboard](https://playwright.dev/python/docs/input#keys-and-shortcuts)
- &shy;<!-- .element: class="fragment" data-fragment-index="7" -->[drag & drop](https://playwright.dev/python/docs/input#drag-and-drop)
- &shy;<!-- .element: class="fragment" data-fragment-index="8" -->[DevTools Protocol](https://playwright.dev/python/docs/api/class-cdpsession)
- &shy;<!-- .element: class="fragment" data-fragment-index="9" -->..., bo pewnie co≈õ pominƒÖ≈Çem üòâ
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Co jeszcze warto w üêç?

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->`pytest-xdist`
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->`pytest-check`
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->`allure-pytest`
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->`faker` (w JS te≈º)
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->..., bo pewnie i tu co≈õ pominƒÖ≈Çem üòâ
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Dodatkowe narzƒôdzia w Pythonie i JavaScript


|     | Python    |  JavaScript |
| --- | --- |---|
|  "upiƒôkszanie"  kodu | ruff/black    |  prettier |
| sprawdzanie kodu | ruff/flake8 | eslint |
| sprawdzanie typ√≥w | pyright/mypy | eslint |
| pre commit | pre-commit | husky |
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Podsumowanie

- &shy;<!-- .element: class="fragment" data-fragment-index="1" -->codegen, inspector i trace viewer
- &shy;<!-- .element: class="fragment" data-fragment-index="2" -->auto-waits
- &shy;<!-- .element: class="fragment" data-fragment-index="3" -->(soft) asercje (`expect`)
- &shy;<!-- .element: class="fragment" data-fragment-index="4" -->definiowalne timeouty na r√≥≈ºnych poziomach
- &shy;<!-- .element: class="fragment" data-fragment-index="5" -->do CI/CD u≈ºywaj zmiennych ≈õrodowiskowych
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

### Kurs Playwright w TypeScript

[TypeScript + Playwright UI + Playwright API + AI](https://kursy.akademiaqa.pl/zamowienie/?add-to-cart=30557)

<img src="dlaczego-playwright/images/qr-pwts.png" alt="" style="width: 400px; object-fit: fill">
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

## Pytania?

A samƒÖ prezentacjƒô znajdziecie tu:

<img src="dlaczego-playwright/images/qr-code.png" alt="QR" style="width: 400px; object-fit: fill">
</div></script></section><section data-markdown><script type="text/template"><!-- .slide: class="drop" template="" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 768px; width: 1366px; min-height: 768px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

# Koniec
</div></script></section></div>
</div>
<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script src="plugin/zoom/zoom.js"></script>
<script src="plugin/math/math.js"></script>
<script src="plugin/mermaid/mermaid.js"></script>
<script src="plugin/chart/chart.min.js"></script>
<script src="plugin/chart/plugin.js"></script>
<script src="plugin/customcontrols/plugin.js"></script>
<script>
function extend(){const t={};for(let e=0;e<arguments.length;e++){const a=arguments[e];for(const e in a)a.hasOwnProperty(e)&&(t[e]=a[e])}return t}function isLight(t){let e=t.replace("#","");3==e.length&&(e=`${e[0]}${e[0]}${e[1]}${e[1]}${e[2]}${e[2]}`);return(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>155}const bgColor=getComputedStyle(document.documentElement).getPropertyValue("--r-background-color").trim();isLight(bgColor)?document.body.classList.add("has-light-background"):document.body.classList.add("has-dark-background");const defaultOptions={controls:!0,progress:!0,history:!0,center:!0,transition:"default",plugins:[RevealMarkdown,RevealHighlight,RevealZoom,RevealNotes,RevealMath.MathJax3,RevealMermaid,RevealChart,RevealCustomControls],allottedTime:12e4,mathjax3:{mathjax:"plugin/math/mathjax/tex-mml-chtml.js"},markdown:{gfm:!0,mangle:!0,pedantic:!1,smartLists:!1,smartypants:!1},mermaid:{theme:isLight?"default":"dark"},customcontrols:{controls:[]}};pageInIframe()&&(defaultOptions.scrollActivationWidth=5);const queryOptions=Reveal().getQueryHash()||{},options=extend(defaultOptions,{controls:!0,progress:!0,slideNumber:!0,center:!0,transition:"slide",transitionSpeed:"default",width:1366,height:768,margin:.04,minScale:.3,maxScale:2},queryOptions)
</script>
<script>Reveal.initialize(options)</script>
</body>
</html>