let Plugin=()=>{let ieVersion=(browser=/(msie) ([\w.]+)/.exec(window.navigator.userAgent.toLowerCase()))&&"msie"===browser[1]?parseFloat(browser[2]):null;var browser,deck,config,options,initialised=!1;function initOptions(config){var path,sel;(options=config.menu||{}).path=options.path||(document.querySelector('script[src$="menu.js"]')?(sel=document.querySelector('script[src$="menu.js"]'))&&(path=sel.src.slice(0,-7)):path=import.meta.url.slice(0,import.meta.url.lastIndexOf("/")+1),path)||"plugin/menu/",options.path.endsWith("/")||(options.path+="/"),void 0===options.side&&(options.side="left"),void 0===options.numbers&&(options.numbers=!1),"string"!=typeof options.titleSelector&&(options.titleSelector="h1, h2, h3, h4, h5"),void 0===options.hideMissingTitles&&(options.hideMissingTitles=!1),void 0===options.useTextContentForMissingTitles&&(options.useTextContentForMissingTitles=!1),void 0===options.markers&&(options.markers=!0),"string"!=typeof options.themesPath&&(options.themesPath="dist/theme/"),options.themesPath.endsWith("/")||(options.themesPath+="/"),select("link#theme")||(options.themes=!1),!0===options.themes?options.themes=[{name:"Black",theme:options.themesPath+"black.css"},{name:"White",theme:options.themesPath+"white.css"},{name:"League",theme:options.themesPath+"league.css"},{name:"Sky",theme:options.themesPath+"sky.css"},{name:"Beige",theme:options.themesPath+"beige.css"},{name:"Simple",theme:options.themesPath+"simple.css"},{name:"Serif",theme:options.themesPath+"serif.css"},{name:"Blood",theme:options.themesPath+"blood.css"},{name:"Night",theme:options.themesPath+"night.css"},{name:"Moon",theme:options.themesPath+"moon.css"},{name:"Solarized",theme:options.themesPath+"solarized.css"}]:Array.isArray(options.themes)||(options.themes=!1),void 0===options.transitions&&(options.transitions=!1),!0===options.transitions?options.transitions=["None","Fade","Slide","Convex","Concave","Zoom"]:!1===options.transitions||Array.isArray(options.transitions)&&options.transitions.every(function(e){return"string"==typeof e})||(console.error("reveal.js-menu error: transitions config value must be 'true' or an array of strings, eg ['None', 'Fade', 'Slide')"),options.transitions=!1),ieVersion&&ieVersion<=9&&(options.transitions=!1),void 0===options.openButton&&(options.openButton=!0),void 0===options.openSlideNumber&&(options.openSlideNumber=!1),void 0===options.keyboard&&(options.keyboard=!0),void 0===options.sticky&&(options.sticky=!1),void 0===options.autoOpen&&(options.autoOpen=!0),void 0===options.delayInit&&(options.delayInit=!1),void 0===options.openOnInit&&(options.openOnInit=!1)}var mouseSelectionEnabled=!0;function disableMouseSelection(){mouseSelectionEnabled=!1}function reenableMouseSelection(){select("nav.slide-menu").addEventListener("mousemove",function fn(e){select("nav.slide-menu").removeEventListener("mousemove",fn),mouseSelectionEnabled=!0})}function visibleOffset(el){var offsetFromTop=(el=>{for(var _x=0,_y=0;el&&!isNaN(el.offsetLeft)&&!isNaN(el.offsetTop);)_x+=el.offsetLeft-el.scrollLeft,_y+=el.offsetTop-el.scrollTop,el=el.offsetParent;return{top:_y,left:_x}})(el).top-el.offsetParent.offsetTop;return offsetFromTop<0?-offsetFromTop:(offsetFromTop=el.offsetParent.offsetHeight-(el.offsetTop-el.offsetParent.scrollTop+el.offsetHeight))<0?offsetFromTop:0}function keepVisible(el){var offset=visibleOffset(el);offset&&(disableMouseSelection(),el.scrollIntoView(0<offset),reenableMouseSelection())}function scrollItemToTop(el){disableMouseSelection(),el.offsetParent.scrollTop=el.offsetTop,reenableMouseSelection()}function scrollItemToBottom(el){disableMouseSelection(),el.offsetParent.scrollTop=el.offsetTop-el.offsetParent.offsetHeight+el.offsetHeight,reenableMouseSelection()}function selectItem(el){el.classList.add("selected"),keepVisible(el),options.sticky&&options.autoOpen&&openItem(el)}function onDocumentKeyDown(event){if(isOpen())switch(event.stopImmediatePropagation(),event.keyCode){case 72:case 37:var next=parseInt(select(".active-toolbar-button").getAttribute("data-button"))-1;openPanel(null,select('.toolbar-panel-button[data-button="'+(next=next<0?buttons-1:next)+'"]').getAttribute("data-panel"));break;case 76:case 39:(()=>{var next=(parseInt(select(".active-toolbar-button").getAttribute("data-button"))+1)%buttons;openPanel(null,select('.toolbar-panel-button[data-button="'+next+'"]').getAttribute("data-panel"))})();break;case 75:case 38:(currItem=select(".active-menu-panel .slide-menu-items li.selected")||select(".active-menu-panel .slide-menu-items li.active"))?(selectAll(".active-menu-panel .slide-menu-items li").forEach(function(item){item.classList.remove("selected")}),selectItem(select('.active-menu-panel .slide-menu-items li[data-item="'+(parseInt(currItem.getAttribute("data-item"))-1)+'"]')||currItem)):(item=select(".active-menu-panel .slide-menu-items li.slide-menu-item"))&&selectItem(item);break;case 74:case 40:(currItem=select(".active-menu-panel .slide-menu-items li.selected")||select(".active-menu-panel .slide-menu-items li.active"))?(selectAll(".active-menu-panel .slide-menu-items li").forEach(function(item){item.classList.remove("selected")}),selectItem(select('.active-menu-panel .slide-menu-items li[data-item="'+(parseInt(currItem.getAttribute("data-item"))+1)+'"]')||currItem)):(item=select(".active-menu-panel .slide-menu-items li.slide-menu-item"))&&selectItem(item);break;case 33:case 85:var next=selectAll(".active-menu-panel .slide-menu-items li").filter(function(item){return 0<visibleOffset(item)}),visibleItems=selectAll(".active-menu-panel .slide-menu-items li").filter(function(item){return 0==visibleOffset(item)}),firstVisible=0<next.length&&Math.abs(visibleOffset(next[next.length-1]))<next[next.length-1].clientHeight?next[next.length-1]:visibleItems[0];firstVisible&&(firstVisible.classList.contains("selected")&&0<next.length&&(scrollItemToBottom(firstVisible),firstVisible=(visibleItems=selectAll(".active-menu-panel .slide-menu-items li").filter(function(item){return 0==visibleOffset(item)}))[0]==firstVisible?next[next.length-1]:visibleItems[0]),selectAll(".active-menu-panel .slide-menu-items li").forEach(function(item){item.classList.remove("selected")}),selectItem(firstVisible),scrollItemToTop(firstVisible));break;case 34:case 68:var visibleItems=selectAll(".active-menu-panel .slide-menu-items li").filter(function(item){return 0==visibleOffset(item)}),firstVisible=selectAll(".active-menu-panel .slide-menu-items li").filter(function(item){return visibleOffset(item)<0}),lastVisible=0<firstVisible.length&&Math.abs(visibleOffset(firstVisible[0]))<firstVisible[0].clientHeight?firstVisible[0]:visibleItems[visibleItems.length-1];lastVisible&&(lastVisible.classList.contains("selected")&&0<firstVisible.length&&(scrollItemToTop(lastVisible),lastVisible=(visibleItems=selectAll(".active-menu-panel .slide-menu-items li").filter(function(item){return 0==visibleOffset(item)}))[visibleItems.length-1]==lastVisible?firstVisible[0]:visibleItems[visibleItems.length-1]),selectAll(".active-menu-panel .slide-menu-items li").forEach(function(item){item.classList.remove("selected")}),selectItem(lastVisible),scrollItemToBottom(lastVisible));break;case 36:selectAll(".active-menu-panel .slide-menu-items li").forEach(function(item){item.classList.remove("selected")}),(item=select(".active-menu-panel .slide-menu-items li:first-of-type"))&&(item.classList.add("selected"),keepVisible(item));break;case 35:var item;selectAll(".active-menu-panel .slide-menu-items li").forEach(function(item){item.classList.remove("selected")}),(item=select(".active-menu-panel .slide-menu-items:last-of-type li:last-of-type"))&&(item.classList.add("selected"),keepVisible(item));break;case 32:case 13:var currItem;(currItem=select(".active-menu-panel .slide-menu-items li.selected"))&&openItem(currItem,!0);break;case 27:closeMenu(null,!0)}}function openMenu(event){event&&event.preventDefault(),isOpen()||(select("body").classList.add("slide-menu-active"),select(".reveal").classList.add("has-"+options.effect+"-"+options.side),select(".slide-menu").classList.add("active"),select(".slide-menu-overlay").classList.add("active"),options.themes&&(selectAll('div[data-panel="Themes"] li').forEach(function(i){i.classList.remove("active")}),selectAll('li[data-theme="'+select("link#theme").getAttribute("href")+'"]').forEach(function(i){i.classList.add("active")})),options.transitions&&(selectAll('div[data-panel="Transitions"] li').forEach(function(i){i.classList.remove("active")}),selectAll('li[data-transition="'+config.transition+'"]').forEach(function(i){i.classList.add("active")})),selectAll(".slide-menu-panel li.active").forEach(function(i){i.classList.add("selected"),keepVisible(i)}))}function closeMenu(event,force){event&&event.preventDefault(),options.sticky&&!force||(select("body").classList.remove("slide-menu-active"),select(".reveal").classList.remove("has-"+options.effect+"-"+options.side),select(".slide-menu").classList.remove("active"),select(".slide-menu-overlay").classList.remove("active"),selectAll(".slide-menu-panel li.selected").forEach(function(i){i.classList.remove("selected")}))}function toggleMenu(event){isOpen()?closeMenu(event,!0):openMenu(event)}function isOpen(){return select("body").classList.contains("slide-menu-active")}function openPanel(event,ref){openMenu(event);var panel=ref;"string"!=typeof ref&&(panel=event.currentTarget.getAttribute("data-panel")),select(".slide-menu-toolbar > li.active-toolbar-button").classList.remove("active-toolbar-button"),select('li[data-panel="'+panel+'"]').classList.add("active-toolbar-button"),select(".slide-menu-panel.active-menu-panel").classList.remove("active-menu-panel"),select('div[data-panel="'+panel+'"]').classList.add("active-menu-panel")}function openItem(item,force){var h=parseInt(item.getAttribute("data-slide-h")),v=parseInt(item.getAttribute("data-slide-v")),theme=item.getAttribute("data-theme"),highlightTheme=item.getAttribute("data-highlight-theme"),transition=item.getAttribute("data-transition"),h=(isNaN(h)||isNaN(v)||deck.slide(h,v),theme&&changeStylesheet("theme",theme),highlightTheme&&changeStylesheet("highlight-theme",highlightTheme),transition&&deck.configure({transition:transition}),select("a",item));h&&(force||!options.sticky||options.autoOpen&&h.href.startsWith("#")||h.href.startsWith(window.location.origin+window.location.pathname+"#"))&&h.click(),closeMenu()}function clicked(event){"A"!==event.target.nodeName&&event.preventDefault(),openItem(event.currentTarget)}function highlightCurrentSlide(){var state=deck.getState();selectAll("li.slide-menu-item, li.slide-menu-item-vertical").forEach(function(item){item.classList.remove("past"),item.classList.remove("active"),item.classList.remove("future");var h=parseInt(item.getAttribute("data-slide-h")),v=parseInt(item.getAttribute("data-slide-v"));h<state.indexh||h===state.indexh&&v<state.indexv?item.classList.add("past"):h===state.indexh&&v===state.indexv?item.classList.add("active"):item.classList.add("future")})}function matchRevealStyle(){var revealStyle=window.getComputedStyle(select(".reveal"));select(".slide-menu").style.fontFamily=revealStyle.fontFamily}var buttons=0;function initMenu(){function addToolbarButton(title,ref,icon,style,fn,active){var attrs={"data-button":""+buttons++,class:"toolbar-panel-button"+(active?" active-toolbar-button":"")},attrs=(ref&&(attrs["data-panel"]=ref),create("li",attrs));icon.startsWith("fa-")?attrs.appendChild(create("i",{class:style+" "+icon})):attrs.innerHTML=icon+"</i>",attrs.appendChild(create("br"),select("i",attrs)),attrs.appendChild(create("span",{class:"slide-menu-toolbar-label"},title),select("i",attrs)),attrs.onclick=fn,toolbar.appendChild(attrs)}function generateItem(type,section,i,h,v){function text(selector,parent){var el;return""!==selector&&(el=parent?select(selector,section):select(selector))?el.textContent:null}"number"==typeof v&&isNaN(v);var title=section.getAttribute("data-menu-title")||text(".menu-title",section)||text(options.titleSelector,section);if(!(title=!title&&options.useTextContentForMissingTitles?(title=section.textContent.trim())&&title.split("\n").map(function(t){return t.trim()}).join(" ").trim().replace(/^(.{16}[^\s]*).*/,"$1").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")+"...":title)){if(options.hideMissingTitles)return"";type+=" no-title",title="Slide "+(i+1)}var item=create("li",{class:type,"data-item":i,"data-slide-h":h,"data-slide-v":void 0===v?0:v});if(options.markers&&(item.appendChild(create("i",{class:"fas fa-check-circle fa-fw past"})),item.appendChild(create("i",{class:"fas fa-arrow-alt-circle-right fa-fw active"})),item.appendChild(create("i",{class:"far fa-circle fa-fw future"}))),options.numbers){var value=[],format="h.v";switch("string"==typeof options.numbers?format=options.numbers:"string"==typeof config.slideNumber&&(format=config.slideNumber),format){case"c":value.push(i+1);break;case"c/t":value.push(i+1,"/",deck.getTotalSlides());break;case"h/v":value.push(h+1),"number"!=typeof v||isNaN(v)||value.push("/",v+1);break;default:value.push(h+1),"number"!=typeof v||isNaN(v)||value.push(".",v+1)}item.appendChild(create("span",{class:"slide-menu-item-number"},value.join("")+". "))}return item.appendChild(create("span",{class:"slide-menu-item-title"},title)),item}function xhrSuccess(){200<=this.status&&this.status<300?(this.panel.innerHTML=this.responseText,enableCustomLinks(this.panel)):showErrorMsg(this)}function xhrError(){showErrorMsg(this)}function enableCustomLinks(panel){selectAll("ul.slide-menu-items li.slide-menu-item",panel).forEach(function(item,i){item.setAttribute("data-item",i+1),item.onclick=clicked,item.addEventListener("mouseenter",handleMouseHighlight)})}function showErrorMsg(response){var msg="<p>ERROR: The attempt to fetch "+response.responseURL+" failed with HTTP status "+response.status+" ("+response.statusText+").</p><p>Remember that you need to serve the presentation HTML from a HTTP server.</p>";response.panel.innerHTML=msg}function handleMouseHighlight(event){mouseSelectionEnabled&&(selectAll(".active-menu-panel .slide-menu-items li.selected").forEach(function(i){i.classList.remove("selected")}),event.currentTarget.classList.add("selected"))}var panels,toolbar,panel,menu,parent,top,userCondition;initialised||(parent=select(".reveal").parentElement,top=create("div",{class:"slide-menu-wrapper"}),parent.appendChild(top),panels=create("nav",{class:"slide-menu slide-menu--"+options.side}),"string"==typeof options.width&&(-1!=["normal","wide","third","half","full"].indexOf(options.width)?panels.classList.add("slide-menu--"+options.width):(panels.classList.add("slide-menu--custom"),panels.style.width=options.width)),top.appendChild(panels),matchRevealStyle(),parent=create("div",{class:"slide-menu-overlay"}),top.appendChild(parent),parent.onclick=function(){closeMenu(null,!0)},toolbar=create("ol",{class:"slide-menu-toolbar"}),select(".slide-menu").appendChild(toolbar),addToolbarButton("Slides","Slides","fa-images","fas",openPanel,!0),options.custom&&options.custom.forEach(function(element,index,array){addToolbarButton(element.title,"Custom"+index,element.icon,null,openPanel)}),options.themes&&addToolbarButton("Themes","Themes","fa-adjust","fas",openPanel),options.transitions&&addToolbarButton("Transitions","Transitions","fa-sticky-note","fas",openPanel),(top=create("li",{id:"close",class:"toolbar-panel-button"})).appendChild(create("i",{class:"fas fa-times"})),top.appendChild(create("br")),top.appendChild(create("span",{class:"slide-menu-toolbar-label"},"Close")),top.onclick=function(){closeMenu(null,!0)},toolbar.appendChild(top),function createSlideMenu(){var panel,items,slideCount;document.querySelector("section[data-markdown]:not([data-markdown-parsed])")?setTimeout(createSlideMenu,100):((panel=create("div",{"data-panel":"Slides",class:"slide-menu-panel active-menu-panel"})).appendChild(create("ul",{class:"slide-menu-items"})),panels.appendChild(panel),items=select('.slide-menu-panel[data-panel="Slides"] > .slide-menu-items'),slideCount=0,selectAll(".slides > section").forEach(function(section,h){var subsections=selectAll("section",section);0<subsections.length?subsections.forEach(function(subsection,v){var item=generateItem(0===v?"slide-menu-item":"slide-menu-item-vertical",subsection,slideCount,h,v);item&&items.appendChild(item),slideCount++}):((subsections=generateItem("slide-menu-item",section,slideCount,h))&&items.appendChild(subsections),slideCount++)}),selectAll(".slide-menu-item, .slide-menu-item-vertical").forEach(function(i){i.onclick=clicked}),highlightCurrentSlide())}(),deck.addEventListener("slidechanged",highlightCurrentSlide),options.custom&&options.custom.forEach(function(element,index,array){var panel=create("div",{"data-panel":"Custom"+index,class:"slide-menu-panel slide-menu-custom-panel"});element.content?(panel.innerHTML=element.content,enableCustomLinks(panel)):element.src&&function(panel,sURL){var oReq=new XMLHttpRequest;oReq.panel=panel,oReq.arguments=Array.prototype.slice.call(arguments,2),oReq.onload=xhrSuccess,oReq.onerror=xhrError,oReq.open("get",sURL,!0),oReq.send(null)}(panel,element.src),panels.appendChild(panel)}),options.themes&&(panel=create("div",{class:"slide-menu-panel","data-panel":"Themes"}),panels.appendChild(panel),menu=create("ul",{class:"slide-menu-items"}),panel.appendChild(menu),options.themes.forEach(function(t,i){var attrs={class:"slide-menu-item","data-item":""+(i+1)},attrs=(t.theme&&(attrs["data-theme"]=t.theme),t.highlightTheme&&(attrs["data-highlight-theme"]=t.highlightTheme),create("li",attrs,t.name));menu.appendChild(attrs),attrs.onclick=clicked})),options.transitions&&(panel=create("div",{class:"slide-menu-panel","data-panel":"Transitions"}),panels.appendChild(panel),menu=create("ul",{class:"slide-menu-items"}),panel.appendChild(menu),options.transitions.forEach(function(name,i){var item=create("li",{class:"slide-menu-item","data-transition":name.toLowerCase(),"data-item":""+(i+1)},name);menu.appendChild(item),item.onclick=clicked})),options.openButton&&(parent=create("div",{class:"slide-menu-button"}),(top=create("a",{href:"#"})).appendChild(create("i",{class:"fas fa-bars"})),parent.appendChild(top),select(".reveal").appendChild(parent),parent.onclick=openMenu),options.openSlideNumber&&(select("div.slide-number").onclick=openMenu),selectAll(".slide-menu-panel .slide-menu-items li").forEach(function(item){item.addEventListener("mouseenter",handleMouseHighlight)})),options.keyboard&&(document.addEventListener("keydown",onDocumentKeyDown,!1),window.addEventListener("message",function(event){var data;try{data=JSON.parse(event.data)}catch(e){}data&&"triggerKey"===data.method&&onDocumentKeyDown({keyCode:data.args[0],stopImmediatePropagation:function(){}})}),config.keyboardCondition&&"function"==typeof config.keyboardCondition?(userCondition=config.keyboardCondition,config.keyboardCondition=function(event){return userCondition(event)&&(!isOpen()||77==event.keyCode)}):config.keyboardCondition=function(event){return!isOpen()||77==event.keyCode},deck.addKeyBinding({keyCode:77,key:"M",description:"Toggle menu"},toggleMenu)),options.openOnInit&&openMenu(),initialised=!0}function select(selector,el){return(el=el||document).querySelector(selector)}function selectAll(selector,el){return el=el||document,Array.prototype.slice.call(el.querySelectorAll(selector))}function create(tagName,attrs,content){var el=document.createElement(tagName);return attrs&&Object.getOwnPropertyNames(attrs).forEach(function(n){el.setAttribute(n,attrs[n])}),content&&(el.innerHTML=content),el}function changeStylesheet(id,href){var stylesheet=select("link#"+id),parent=stylesheet.parentElement,sibling=stylesheet.nextElementSibling,stylesheet=(stylesheet.remove(),stylesheet.cloneNode());stylesheet.setAttribute("href",href),stylesheet.onload=function(){matchRevealStyle()},parent.insertBefore(stylesheet,sibling)}function loadResource(url,type,callback){function finish(){"function"==typeof callback&&(callback.call(),callback=null)}var resource,head=document.querySelector("head");"script"===type?((resource=document.createElement("script")).type="text/javascript",resource.src=url):"stylesheet"===type&&((resource=document.createElement("link")).rel="stylesheet",resource.href=url);resource.onload=finish,resource.onreadystatechange=function(){"loaded"===this.readyState&&finish()},head.appendChild(resource)}function loadPlugin(){var supported=!ieVersion||9<=ieVersion;if(supported=deck.isSpeakerNotes()&&window.location.search.endsWith("controls=false")?!1:supported){options.delayInit||initMenu();var i,type="menu-ready",args=void 0,supported=document.createEvent("HTMLEvents",1,2),a=(supported.initEvent(type,!0,!0),supported),b=args;for(i in b)a[i]=b[i];document.querySelector(".reveal").dispatchEvent(supported),config.postMessageEvents&&window.parent!==window.self&&window.parent.postMessage(JSON.stringify({namespace:"reveal",eventName:type,state:deck.getState()}),"*")}}return{id:"menu",init:reveal=>{initOptions(config=(deck=reveal).getConfig()),loadResource(options.path+"menu.css","stylesheet",function(){void 0===options.loadIcons||options.loadIcons?loadResource(options.path+"font-awesome/css/all.css","stylesheet",loadPlugin):loadPlugin()})},toggle:toggleMenu,openMenu:openMenu,closeMenu:closeMenu,openPanel:openPanel,isOpen:isOpen,initialiseMenu:initMenu,isMenuInitialised:function(){return initialised}}};String.prototype.startsWith||(String.prototype.startsWith=function(searchString,position){return this.substr(position||0,searchString.length)===searchString}),String.prototype.endsWith||(String.prototype.endsWith=function(search,this_len){return(void 0===this_len||this_len>this.length)&&(this_len=this.length),this.substring(this_len-search.length,this_len)===search});export default Plugin;