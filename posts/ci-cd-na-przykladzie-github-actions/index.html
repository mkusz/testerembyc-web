<!DOCTYPE html>
<html lang="pl" prefix="og: http://ogp.me/ns#">
<head>
<meta content="#FF0000" name="theme-color">
<meta charset="utf-8">
<meta content="Do czego moÅ¼na wykorzystaÄ‡ CI/CD przy tworzeniu bloga oraz potencjalne zastosowania w testach automatycznych na przykÅ‚adzie GitHub Actions" name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>CI/CD na przykÅ‚adzie GitHub Actions | testerembyc.pl</title>
<link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/latolatinfonts.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/blog.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/all.min.css" rel="stylesheet" type="text/css">
<link href="../../rss.xml" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://testerembyc.pl/posts/ci-cd-na-przykladzie-github-actions/" rel="canonical">
<link href="../../images/icons/icon_16x16.png" rel="icon" sizes="16x16">
<link href="../../images/icons/icon_32x32.png" rel="icon" sizes="32x32">
<link href="../../images/icons/icon_64x64.png" rel="icon" sizes="64x64">
<link href="../../images/icons/icon_128x128.png" rel="icon" sizes="128x128">
<link href="../../images/icons/icon_256x256.png" rel="icon" sizes="256x256">
<link href="../../images/icons/icon_512x512.png" rel="icon" sizes="512x512"><!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->
<meta content="Do czego moÅ¼na wykorzystaÄ‡ CI/CD przy tworzeniu bloga oraz potencjalne zastosowania w testach automatycznych na przykÅ‚adzie GitHub Actions" itemprop="description" name="description">
<meta content="Maciej Kusz" name="author">
<link href="../vlog-002-strefa-komfortu-a-twoje-zarobki/" rel="prev" title="Strefa komfortu, a Twoje zarobki [vlog 002]" type="text/html">
<meta content="testerembyc.pl" property="og:site_name">
<meta content="CI/CD na przykÅ‚adzie GitHub Actions" property="og:title">
<meta content="https://testerembyc.pl/posts/ci-cd-na-przykladzie-github-actions/" property="og:url">
<meta content="Do czego moÅ¼na wykorzystaÄ‡ CI/CD przy tworzeniu bloga oraz potencjalne zastosowania w testach automatycznych na przykÅ‚adzie GitHub Actions" property="og:description">
<meta content="https://testerembyc.pl/images/posts/ci-cd-na-przykladzie-github-actions_social.jpg" property="og:image">
<meta content="article" property="og:type">
<meta content="2021-09-16T18:25:00+02:00" property="article:published_time">
<meta content="automatyzacja" property="article:tag">
<meta content="ci/cd" property="article:tag">
<meta content="github" property="article:tag">
<meta content="summary" name="twitter:card">
<meta content="@website" name="twitter:site">
<meta content="@username" name="twitter:creator">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">PrzejdÅº do treÅ›ci</a> <!-- Menubar -->
<div class="blog-masthead">
<div class="container"><!-- This keeps the margins nice -->
<div class="blog-header">
<h1 class="blog-title"><a href="https://testerembyc.pl/"><img alt="testerembyc.pl" id="logo" src="../../images/testerembyc_logo.svg"><span id="blog-title">testerembyc.pl</span></a></h1>
<!-- <p class="lead blog-description">Czyli blog o tym, jak to jest byÄ‡ nie tylko&nbsp;testerem</p> # Original one -->
<p class="lead blog-description">Czyli blog o tym, jak to jest byÄ‡ nie tylko <span>testerem</span></p>
</div>
<nav class="blog-nav" role="navigation"><a class="blog-nav-item" href="../../"><img height="16" src="../../images/icons/icon.svg" title="Strona gÅ‚Ã³wna" width="16"><span>Strona&nbsp;gÅ‚Ã³wna</span></a> <a class="blog-nav-item" href="../../pages/python-kompendium"><i class="fab fa-python" title="Python"></i><span>Python</span></a> <a class="blog-nav-item" href="../../categories/youtube"><i class="fab fa-youtube" title="YouTube"></i><span>YouTube</span></a> <a class="blog-nav-item" href="../../categories/"><i class="fas fa-tags" title="Tagi i kategorie"></i><span>Tagi&nbsp;i&nbsp;kategorie</span></a> <a class="blog-nav-item" href="../../archive.html"><i class="fas fa-archive" title="Archiwum"></i><span>Archiwum</span></a> <a class="blog-nav-item" href="../../pages/o-mnie/"><i class="fas fa-user" title="O mnie"></i><span>O&nbsp;mnie</span></a> <a class="blog-nav-item" href="../../rss.xml"><i class="fas fa-rss" title="RSS"></i><span><span class="caps">RSS</span></span></a></nav>
<!-- START Bootstrap-Cookie-Alert -->
<div class="alert text-center cookiealert" role="alert">
<p><b>Lubisz ciasteczka?</b>&nbsp;ğŸª</p>
<p>UÅ¼ywam ich, aby dostarczyÄ‡ Ci lepszych treÅ›ci. Chcesz wiedzieÄ‡ wiÄ™cej? <a href="../../pages/polityka-prywatnosci/" target="_blank">Kliknij&nbsp;tu.</a></p>
<p><button class="btn btn-danger btn-sm acceptcookies" type="button">LubiÄ™ i akceptujÄ™ ciasteczka</button></p>
</div>
<!-- END Bootstrap-Cookie-Alert -->
<div class="body-content"><!--Body content-->
<div class="row">
<div class="col-sm-9 blog-main">
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h2 class="p-name entry-title blog-post-title" itemprop="headline name"><a class="u-url" href="."><span class="caps">CI</span>/<span class="caps">CD</span> na przykÅ‚adzie GitHub&nbsp;Actions</a></h2>
<div class="metadata blog-post-meta">
<p class="byline author vcard"><span class="byline-name fn">Maciej&nbsp;Kusz</span></p>
<p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2021-09-16T18:25:00+02:00" itemprop="datePublished" title="2021-09-16 18:25">2021-09-16 18:25</time></a></p>
<p class="commentline"><a data-disqus-identifier="cache/posts/ci-cd-na-przykladzie-github-actions.html" href="#disqus_thread">Komentarze</a></p>
<meta content="Do czego moÅ¼na wykorzystaÄ‡ CI/CD przy tworzeniu bloga oraz potencjalne zastosowania w testach automatycznych na przykÅ‚adzie GitHub Actions" itemprop="description" name="description">
<p></p></div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div>
<p class="caption"><a href="../ci-cd-na-przykladzie-github-actions"><img alt="Witaj Å›wiecie" src="../../images/posts/ci-cd-na-przykladzie-github-actions.jpg"></a></p>
<p>Jako tester, szczegÃ³lnie automatyzujÄ…cy, bardzo czÄ™sto spotkamy siÄ™ z zagadnieniami zwiÄ…zanymi z tzw. <a href="https://en.wikipedia.org/wiki/Continuous_delivery">continuous delivery</a> oraz <a href="https://en.wikipedia.org/wiki/Continuous_integration">continuous integration</a>, czyli w skrÃ³cie <em><span class="caps">CI</span>/<span class="caps">CD</span></em>. Jednym z najbardziej popularnych narzÄ™dzi, wspomagajÄ…cych ten proces, jest niewÄ…tpliwie <a href="https://www.jenkins.io">Jenkins</a>. Ma on jednak pewnÄ… wadÄ™, tzn. trzeba go albo zainstalowaÄ‡ na wÅ‚asnym serwerze, albo zapÅ‚aciÄ‡ zewnÄ™trznej firmie, ktÃ³ra udostÄ™pni nam Jenkinsa jako usÅ‚ugÄ™ typu <a href="https://en.wikipedia.org/wiki/Software_as_a_service">SaaS</a> (Software as a Service). W wiÄ™kszoÅ›ci firm obsÅ‚ugÄ… narzÄ™dzi <span class="caps">CI</span>/<span class="caps">CD</span> zajmuje siÄ™ zespÃ³Å‚ DevOps, jednak w maÅ‚ych firmach lub w przypadku projektÃ³w robionych <em>po godzinach</em> w ramach nauki, fajnie byÅ‚oby mÃ³c zautomatyzowaÄ‡ sobie czÄ™Å›Ä‡ zadaÅ„ i nie koniecznie ponosiÄ‡ za to duÅ¼ych opÅ‚at. JednÄ… z takich opcji jest <a href="https://github.com/features/actions">GitHub Actions</a>.</p>
<p>W poniÅ¼szym wpisie zajmÄ™ siÄ™ pokazaniem jak ja wykorzystuje to narzÄ™dzie przy tworzeniu tego bloga oraz omÃ³wiÄ™ moÅ¼liwoÅ›ci wykorzystania go w testach automatycznych. Zapraszam wiÄ™c do dalszej&nbsp;lektury.</p>
<!-- more -->
<div class="toc">
<ul>
<li><a href="#github-actions">GitHub&nbsp;Actions</a></li>
<li><a href="#blog-na-githubie">Blog na GitHubie?</a>
<ul>
<li><a href="#wybor-narzedzi">WybÃ³r&nbsp;narzÄ™dzi</a></li>
<li><a href="#koszty-prowadzenia-bloga">Koszty prowadzenia&nbsp;bloga</a></li>
</ul>
</li>
<li><a href="#jak-wykorzystac-github-actions">Jak wykorzystaÄ‡ GitHub Actions?</a>
<ul>
<li><a href="#generacja-statycznej-strony-z-uzyciem-nikola">Generacja statycznej strony z uÅ¼yciem&nbsp;Nikola</a></li>
<li><a href="#github-pages">GitHub&nbsp;Pages</a></li>
<li><a href="#publiczne-repozytorium">Publiczne&nbsp;repozytorium</a></li>
<li><a href="#dwa-repozytoria">Dwa&nbsp;repozytoria</a></li>
</ul>
</li>
<li><a href="#konfiguracja-github-actions">Konfiguracja GitHub Actions</a>
<ul>
<li><a href="#workflow">Workflow</a>
<ul>
<li><a href="#nazwa-name">Nazwa&nbsp;(name)</a></li>
<li><a href="#wyzwalacze-on">Wyzwalacze&nbsp;(on)</a></li>
<li><a href="#zadanie-job">Zadanie&nbsp;(job)</a></li>
<li><a href="#kroki-steps">Kroki&nbsp;(steps)</a></li>
<li><a href="#cay-workflow">CaÅ‚y&nbsp;Workflow</a></li>
</ul>
</li>
<li><a href="#token">Token</a>
<ul>
<li><a href="#generowanie-tokenu">Generowanie&nbsp;tokenu</a></li>
<li><a href="#bezpieczne-wykorzystanie-tokenu">Bezpieczne wykorzystanie&nbsp;tokenu</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#na-zakonczenie">Na&nbsp;zakoÅ„czenie</a></li>
<li><a href="#koszty">Koszty</a></li>
<li><a href="#github-actions-w-testach-automatycznych">GitHub Actions w testach&nbsp;automatycznych?</a></li>
<li><a href="#podsumowanie">Podsumowanie</a></li>
<li><a href="#bonus">Bonus</a></li>
</ul>
</div>
<h2 id="github-actions">GitHub Actions<a class="headerlink" href="#github-actions" title="Permalink to this heading">Â¶</a></h2>
<p>Jak juÅ¼ powyÅ¼ej napisaÅ‚em, GitHub Actions umoÅ¼liwia automatyzacjÄ™ procesu <span class="caps">CI</span>/<span class="caps">CD</span>. Proces ten powiÄ…zany jest z kodem ÅºrÃ³dÅ‚owym aplikacji, ktÃ³ry przechowywany jest w repozytorium git na stronie <a href="https://github.com/">GitHub</a>. Samo GitHub Actions jest jednÄ… z kilku funkcjonalnoÅ›ci dostÄ™pnych w ramach repozytorium. SÄ… to miÄ™dzy&nbsp;innymi:</p>
<ul>
<li><strong>code</strong> - repozytorium git do przechowywania&nbsp;kodu,</li>
<li><strong>issues</strong> - zarzÄ…dzenia&nbsp;bÅ‚Ä™dami,</li>
<li><strong>pull requests</strong> - zarzÄ…dzanie zmianami w&nbsp;kodzie,</li>
<li><strong>projects</strong> - zarzÄ…dzanie&nbsp;projektem,</li>
<li><strong>wikis</strong> - baza&nbsp;wiedzy,</li>
<li><strong>pages</strong> - hosting statycznej strony&nbsp;www,</li>
</ul>
<p>Jest teÅ¼ kilka innych, mniej istotnych. Do tworzenia tego bloga, sam wykorzystujÄ™ kilka z&nbsp;powyÅ¼szych.</p>
<p>Czy GitHub jest jedynÄ… platformÄ…, ktÃ³ra posiada powyÅ¼sze funkcjonalnoÅ›ci? OczywiÅ›cie, Å¼e nie. JednÄ… z alternatyw, ktÃ³ra posiada niemal identycznÄ… funkcjonalnoÅ›Ä‡, jest <a href="htts://gitlab.com/">GitLab</a>.</p>
<p>Istnieje rÃ³wnieÅ¼ wspomniany wczeÅ›niej <a href="https://www.jenkins.io">Jenkins</a>, jednak jest on narzÄ™dzie stricte do automatyzacji procesu <span class="caps">CI</span>/<span class="caps">CD</span> i nie posiada np. swojego repozytorium&nbsp;git.</p>
<p>PomiÄ™dzy GitHub oraz GitLab istniejÄ… pewne rÃ³Å¼nice jednak wiÄ™kszoÅ›Ä‡ z nich to kwestia kosmetyczne. SÄ… rÃ³wnieÅ¼ pewne mniej lub bardziej istotne rÃ³Å¼nice, ale w codziennym uÅ¼ytkowaniu, nie zawsze sÄ… one zauwaÅ¼alne. Sam uÅ¼ywam obydwu, ale wynika to miÄ™dzy innymi z faktu, Å¼e jeden z moich klientÃ³w, uÅ¼ywa wÅ‚aÅ›nie GitLaba. OsobiÅ›cie bardziej preferujÄ™&nbsp;GitHuba.</p>
<p>O tym, czym sÄ… pojedyncze akcje oraz jak to konkretnie dziaÅ‚a, opiszÄ™ poniÅ¼ej, w punkcie <a href="#Konfiguracja%20GitHub%20Actions">Konfiguracja GitHub Actions</a>.</p>
<h2 id="blog-na-githubie">Blog na GitHubie?<a class="headerlink" href="#blog-na-githubie" title="Permalink to this heading">Â¶</a></h2>
<p>Zapewne zastanawiasz siÄ™, jak wykorzystuje GitHuba i jego repozytorium git do tworzenia tego bloga? Najbardziej oczywista sprawa to przechowywanie kodu ÅºrÃ³dÅ‚owego. Nie jest to jednak jedyna funkcjonalnoÅ›Ä‡, z jakiej&nbsp;korzystam.</p>
<p>PodejmujÄ…c decyzjÄ™ o rozpoczÄ™ciu blogowania, rozwaÅ¼aÅ‚em kilka drÃ³g, jakich narzÄ™dzi uÅ¼ywaÄ‡ oraz gdzie hostowaÄ‡ samego bloga. Opcje jakie rozwaÅ¼yÅ‚em&nbsp;to:</p>
<ul>
<li><a href="https://wordpress.com">WordPress</a> + pÅ‚atny hosting - sam Wordpress jest sprawdzonÄ… platformÄ… i ciÄ…gle jeszcze rozwijanÄ…, jednak mnogoÅ›Ä‡ pluginÃ³w (wiÄ™kszoÅ›Ä‡ dobrych jest dodatkowo pÅ‚atnych), moÅ¼liwoÅ›ci konfiguracji oraz przeogromny wybÃ³r skÃ³rek potrafiÄ… na poczÄ…tku przytÅ‚oczyÄ‡. Dodatkowo dochodzi koszt hostingu oraz zakupu uÅ‚atwiajÄ…cych Å¼ycie pluginÃ³w oraz zarzÄ…dzanie hostingiem, wcale nie uÅ‚atwiajÄ… podjÄ™cia takiej decyzji. NajwiÄ™kszÄ… zaletÄ… jest posiadanie opublikowanych materiaÅ‚Ã³w na wÅ‚asnej platformie, a wiÄ™c w przypadku, np. zmiany hostingu, da siÄ™ Å‚atwo przeprowadziÄ‡&nbsp;migracjÄ™.</li>
<li><a href="https://www.blogger.com/about/">Blogger.com</a> - darmowa platforma sÅ‚uÅ¼Ä…ca do publikacji blogÃ³w, naleÅ¼Ä…ca do Google. Jest to platforma, ktÃ³ra dostarcza sporÄ… iloÅ›Ä‡ funkcjonalnoÅ›ci, ktÃ³ra w zupeÅ‚noÅ›ci wystarcza do prowadzenia wÅ‚asnego bloga. NajwiÄ™ksze wady tego rozwiÄ…zania to zamkniÄ™ta platforma, problem przy ewentualnej migracji oraz ryzyko <a href="https://spidersweb.pl/2016/07/blogspot-utrata-konta.html">usuniÄ™cia bloga przez Google</a>,</li>
<li>
<p>Utworzenie bloga z wykorzystaniem tzw. <em>static pages</em>, czyli strony, ktÃ³rej kod <span class="caps">HTML</span> generowany jest na lokalnym komputerze, a pÃ³Åºniej przesyÅ‚any na dowolny hosting. Prostota tego rozwiÄ…zania ma kilka niewÄ…tpliwych&nbsp;zalet:</p>
<ul>
<li>nie wymaga bazy&nbsp;danych,</li>
<li>Å‚atwo edytowaÄ‡ szablon&nbsp;strony,</li>
<li>strona szybko siÄ™ Å‚Ä…duje (brak poÅ‚Ä…czeÅ„ z bazÄ… danych,&nbsp;itp.),</li>
<li>Å‚atwo wykonaÄ‡&nbsp;backup,</li>
</ul>
<p>SÄ… teÅ¼ pewne wady tego&nbsp;rozwiÄ…zania:</p>
<ul>
<li>koniecznoÅ›Ä‡ delegacji komentarzy do postÃ³w do zewnÄ™trznej&nbsp;usÅ‚ugi,</li>
<li>brak edytora <a href="https://en.wikipedia.org/wiki/WYSIWYG">WYSiWYG</a>.</li>
</ul>
</li>
</ul>
<p>PowyÅ¼sze przykÅ‚ady narzÄ™dzi nie wyczerpujÄ… listy dostÄ™pnych narzÄ™dzi. ZostaÅ‚y one tutaj wyszczegÃ³lnione, aby pokazaÄ‡, jakie sÄ… ich potencjalne wady, zalety oraz&nbsp;koszty.</p>
<h3 id="wybor-narzedzi">WybÃ³r narzÄ™dzi<a class="headerlink" href="#wybor-narzedzi" title="Permalink to this heading">Â¶</a></h3>
<p>PoniewaÅ¼ blog w zaÅ‚oÅ¼eniach miaÅ‚ generowaÄ‡ minimalne koszty, wybraÅ‚em opcjÄ™ z wykorzystaniem <em>static pages</em>. NarzÄ™dzia, jakich uÅ¼yÅ‚em&nbsp;to:</p>
<ul>
<li><a href="https://getnikola.com/">Nikola</a> - jako silnik do tworzenia statycznych stron www, ktÃ³ry funkcjonalnoÅ›ciÄ… i sposobem zarzÄ…dzania treÅ›ciÄ… (podziaÅ‚ na posty i strony) jest bardzo zbliÅ¼ony do WordPressa. Dodatkowo napisany jest w Pythonie, a wiÄ™c bÄ™dÄ™ miaÅ‚ moÅ¼liwoÅ›Ä‡ w miarÄ™ Å‚atwego modyfikowania pewnych mechanizmÃ³w lub tworzenia pluginÃ³w, jeÅ›li zajdzie taka potrzeba. Poza tym dostÄ™pne sÄ… juÅ¼ pluginy stworzone przez innych oraz istnieje moÅ¼liwoÅ›Ä‡ tworzenia treÅ›ci z wykorzystaniem plikÃ³w w formacie <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> (dlaczego to takie waÅ¼ne, opiszÄ™&nbsp;poniÅ¼ej).</li>
<li><a href="https://pages.github.com/">GitHub Pages</a> - wspomniaÅ‚em o tym powyÅ¼ej. Jest to darmowy hosting statycznych stron www, ktÃ³ry jest czÄ™Å›ciÄ… repozytorium git, w ktÃ³rym mogÄ™ przechowywaÄ‡ caÅ‚y silnik oraz treÅ›ci opisane w poprzednim&nbsp;punkcie.</li>
<li><a href="https://obsidian.md/">Obsidian</a> - to narzÄ™dzie do zarzÄ…dzania wiedzÄ…, stworzone z myÅ›lÄ… o zarzÄ…dzaniu wÅ‚asnymi notatkami przy uÅ¼yciu metody <a href="https://en.wikipedia.org/wiki/Zettelkasten">Zettelkasten</a> (moÅ¼na teÅ¼ spotkaÄ‡ siÄ™ z pojÄ™ciem tzw. <a href="https://www.buildingasecondbrain.com">second brain</a>). Samo narzÄ™dzie nie narzuca struktury notatek, ale umoÅ¼liwia, wspomaga oraz wizualizuje schemat poÅ‚Ä…czeÅ„. W przypadku tworzenia bloga, gdzie wpisy potrafiÄ… odnosiÄ‡ siÄ™ do informacji umieszczonych w innych wpisach, takie wspomaganie, jest bardzo cenne oraz mocno przyspiesza pracÄ™. Dodatkowo wszystkie pliki w tym narzÄ™dziu sÄ… plikami we wspomniany wczeÅ›niej formacie <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> co idealnie zgrywa siÄ™ ze wsparciem tego formatu przez&nbsp;NikolÄ™.</li>
<li><a href="https://disqus.com">Disqus</a> - zewnÄ™trzna usÅ‚uga, dostarczajÄ…ca mechanizm komentarzy dla poszczegÃ³lnych&nbsp;wpisÃ³w.</li>
<li><a href="https://www.activecampaign.com">ActiveCampaign</a> - narzÄ™dzie do zarzÄ…dzania listÄ…&nbsp;mailowÄ….</li>
</ul>
<h3 id="koszty-prowadzenia-bloga">Koszty prowadzenia bloga<a class="headerlink" href="#koszty-prowadzenia-bloga" title="Permalink to this heading">Â¶</a></h3>
<p>Zapewne zastanawiasz siÄ™, jakie sÄ… koszty utrzymania bloga? OtÃ³Å¼ sÄ… on stosunkowo nie duÅ¼e, bo tak naprawdÄ™ pÅ‚acÄ™ za utrzymanie domeny <a href="https://testerembyc.pl/">testerembyc.pl</a> oraz miesiÄ™czna opÅ‚ata za narzÄ™dzie do zarzÄ…dzania listÄ… mailowÄ… (planujÄ™ zmianÄ™ narzÄ™dzia, aby z kosztami zejÅ›Ä‡ jeszcze niÅ¼ej). CaÅ‚oÅ›Ä‡ zawiera siÄ™ Å›rednio w okolicach 70zÅ‚/miesiÄ…c. Czy to duÅ¼o? Nie sÄ… to ogromne koszty, ale gdybym do tego doliczyÅ‚ koszt dowolnego (rozsÄ…dnego) hostingu dla WordPress, koszty urosÅ‚yby do okoÅ‚o 120-150zÅ‚/miesiÄ…c, a to juÅ¼ zaczyna byÄ‡ kwota mocno zauwaÅ¼alna w budÅ¼etach niektÃ³rych&nbsp;osÃ³b.</p>
<h2 id="jak-wykorzystac-github-actions">Jak wykorzystaÄ‡ GitHub Actions?<a class="headerlink" href="#jak-wykorzystac-github-actions" title="Permalink to this heading">Â¶</a></h2>
<p>Aby wytÅ‚umaczyÄ‡, po co mi GitHub Actions, muszÄ™ opisaÄ‡ jeszcze jeden aspekt, a dokÅ‚adniej mechanizm dziaÅ‚ania narzÄ™dzia do generowania statycznej strony www oraz tego, jak dziaÅ‚a GitHub&nbsp;Pages.</p>
<h3 id="generacja-statycznej-strony-z-uzyciem-nikola">Generacja statycznej strony z uÅ¼yciem Nikola<a class="headerlink" href="#generacja-statycznej-strony-z-uzyciem-nikola" title="Permalink to this heading">Â¶</a></h3>
<p>Samego procesu konfiguracji caÅ‚ego narzÄ™dzia nie bÄ™dÄ™ opisywaÅ‚, poniewaÅ¼ musiaÅ‚bym poÅ›wiÄ™ciÄ‡ na to zupeÅ‚nie oddzielny wpis. Chodzi tutaj bardziej o kwestie, jaka jest struktura katalogÃ³w i gdzie w niej znajduje siÄ™ wynikowa, statyczna strona&nbsp;<span class="caps">HTML</span>.</p>
<ul>
<li><em>cache</em> - to pliki cache powstajÄ…ce podczas generowoania statycznej strony, ktÃ³re przyÅ›pieszajÄ… proces generacji i zapobiegajÄ… regeneracji podstron, ktÃ³re siÄ™ nie&nbsp;zmieniÅ‚y,</li>
<li><em>images</em> - folder z wszelkiej maÅ›ci plikami&nbsp;graficznymi,</li>
<li><em>pages</em> - peÅ‚ne strony (np. strone <a href="../../pages/o-mnie">o mnie</a>),</li>
<li><em>plugins</em> - zainstalowane dodatkowe&nbsp;pluginy,</li>
<li><em>posts</em> - posty, jak ten, ktÃ³ry wÅ‚aÅ›nie&nbsp;czytasz,</li>
<li><em>themes</em> - skÃ³rka bloga, czyli opis&nbsp;wyglÄ…du.</li>
<li><em>docs</em> - wynikowa statyczna strona www, ktÃ³rÄ… generuje siÄ™ przy pomocy&nbsp;polecenia <code>nikola build</code>.</li>
</ul>
<p>Jak wiÄ™c widzisz, wynikowe pliki znajdujÄ… siÄ™ w podfolderze, a wiÄ™c po wygenerowaniu bÄ™dÄ… czÄ™Å›ciÄ… repozytorium git. MoÅ¼na byÅ‚oby siÄ™ pokusiÄ‡ o takÄ… konfiguracjÄ™, aby wynikowy folder byÅ‚ poza tÄ… strukturÄ…, ale kaÅ¼dy upload strony, wymagaÅ‚by wykonywania rÄ™cznych commitÃ³w do 2&nbsp;repozytoriÃ³w.</p>
<h3 id="github-pages">GitHub Pages<a class="headerlink" href="#github-pages" title="Permalink to this heading">Â¶</a></h3>
<p>WczeÅ›niej wspomniaÅ‚em, Å¼e ta funkcjonalnoÅ›Ä‡ w ramach repozytorium, pozwala na hostowanie statycznych stron www. Wymaga ona jednak, aby samo repozytorium byÅ‚o publicznie&nbsp;dostÄ™pne.</p>
<p>Gdzie wiÄ™c jest&nbsp;problem?</p>
<h3 id="publiczne-repozytorium">Publiczne repozytorium<a class="headerlink" href="#publiczne-repozytorium" title="Permalink to this heading">Â¶</a></h3>
<p>ProblemÃ³w w takiej konfiguracji jest kilka, ale sprowadzajÄ… siÄ™ one gÅ‚Ã³wnie do faktu, Å¼e hostowana strona musi wÅ‚aÅ›nie znajdowaÄ‡ siÄ™ w publicznym repozytorium. Prowadzi to do ujawnienia danych z wszelkich projektÃ³w, nad ktÃ³rymi pracujÄ™ i gromadzÄ™&nbsp;materiaÅ‚y.</p>
<p>Dodatkowo w ramach repozytorium zaczÄ…Å‚em prowadziÄ‡ swojÄ… tablicÄ™ kanban z planami dotyczÄ…cymi publikacji na blogu oraz swoim <a href="https://www.youtube.com/channel/UCm3xa7IkyYBFSZrisCBx53A">kanale YouTube</a>. Posiadanie materiaÅ‚Ã³w oraz planÃ³w ich publikacji w jednym miejscu bardzo uÅ‚atwia mi pracÄ™, a dodatkowo chciaÅ‚bym, aby nie byÅ‚y one widoczne do czasu ukoÅ„czenia prac nad nimi i samej publikacji. Aby to osiÄ…gnÄ…Ä‡, dobrze byÅ‚oby odseparowaÄ‡ od siebie czÄ™Å›Ä‡ zwiÄ…zanÄ… z narzÄ™dziami oraz plikami ÅºrÃ³dÅ‚owymi od wynikowej&nbsp;pracy.</p>
<h3 id="dwa-repozytoria">Dwa repozytoria<a class="headerlink" href="#dwa-repozytoria" title="Permalink to this heading">Â¶</a></h3>
<p>NajÅ‚atwiejszym sposobem osiÄ…gniÄ™cia powyÅ¼szego zaÅ‚oÅ¼enia, jest utworzenie 2&nbsp;repozytoriÃ³w:</p>
<ul>
<li>repozytorium prywatne, gdzie bÄ™dÄ… znajdowaÅ‚y siÄ™ wszystkie materiaÅ‚y oraz pliki&nbsp;ÅºrÃ³dÅ‚owe,</li>
<li>repozytorium publiczne, ktÃ³re bÄ™dzie zawieraÅ‚o tylko wynikowe pliki, ktÃ³re tworzÄ… statycznÄ… stronÄ™ z blogiem i z ktÃ³rego nastÄ™puje hosting bloga przy uÅ¼yciu GitHub&nbsp;Actions.</li>
</ul>
<p>Dodatkowo ideaÅ‚em byÅ‚oby, aby statyczne pliki tworzyÅ‚y siÄ™ w momencie, gdy zmodyfikowany zostanie gÅ‚Ã³wny branch w prywatnym repozytorium. NastÄ™pnie powinien nastÄ…piÄ‡ automatyczny commit tak utworzonym plikÃ³w do publicznego&nbsp;repozytorium.</p>
<p>W tym miejscu dochodzimy do punktu, gdzie GitHub Actions wkraczajÄ… na&nbsp;scenÄ™.</p>
<h2 id="konfiguracja-github-actions">Konfiguracja GitHub Actions<a class="headerlink" href="#konfiguracja-github-actions" title="Permalink to this heading">Â¶</a></h2>
<p>Zanim zaczniemy wspÃ³lnÄ… zabawÄ™, chciaÅ‚bym uÅ›wiadomiÄ‡ Ci jednÄ… rzecz, tzn. ten wpis nie pokrywa peÅ‚nego zakresu moÅ¼liwoÅ›ci oraz nie omawia wszelkich moÅ¼liwych aspektÃ³w konfiguracji GitHub Actions. Jest to temat bardzo obszerny i aby to zrobiÄ‡, naleÅ¼aÅ‚oby przedstawiÄ‡ go w postaci kursu. JeÅ›li temat zainteresuje CiÄ™, polecam zapoznaÄ‡ siÄ™ z <a href="https://docs.github.com/en/actions">dokumentacjÄ… znajdujÄ…cÄ… siÄ™ na stronie GitHub</a>.</p>
<h3 id="workflow">Workflow<a class="headerlink" href="#workflow" title="Permalink to this heading">Â¶</a></h3>
<p>GitHub Actions wykonywane sÄ… pod wpÅ‚ywem jakiegoÅ› wydarzenia (tzw. event-driven). Aby wiedzieÄ‡, jakie wydarzenie jest wyzwalaczem akcji (tzw. trigger) oraz jaka akcja musi siÄ™ wykonaÄ‡, potrzebny jest nam jakiÅ› kontener, ktÃ³ry bÄ™dzie przetrzymywaÅ‚ caÅ‚y ten opis. Takim konterem w sensie logicznym jest wÅ‚aÅ›nie <em>workflow</em>. PoniewaÅ¼ caÅ‚y czas funkcjonujemy w granicach repozytorium git, najprostszÄ… i najbardziej logicznÄ… formÄ… przetrzymywania takie opisu bÄ™dzie jakiÅ› plik tekstowy. W przypadku GitHub Actions taki plik powinien byÄ‡ w formacie <a href="https://en.wikipedia.org/wiki/YAML"><span class="caps">YAML</span></a>.</p>
<p>Dodatkowo taki plik powinien siÄ™ znajdowaÄ‡ w odpowiednim miejscu struktury katalogÃ³w w repozytorium, tak aby narzÄ™dzia, ktÃ³re odpowiadajÄ… za wykonanie akcji, wiedziaÅ‚y gdzie szukaÄ‡ ich&nbsp;opisu.</p>
<p>W prywatnym repozytorium z kodem bloga musiaÅ‚em wiÄ™c utworzyÄ‡ strukturÄ™&nbsp;katalogÃ³w <code>.github/workflow</code> oraz w nim umieÅ›ciÄ‡ plik <span class="caps">YAML</span>. Ja ten plik po prostu&nbsp;nazwaÅ‚em <code>deploy-nikola.yml</code>.</p>
<p>ZawartoÅ›Ä‡ tego pliku posiada 3&nbsp;sekcje:</p>
<ul>
<li><code>name</code> - zawiera nazwÄ™ danego&nbsp;workflow,</li>
<li><code>on</code> - zawiera konfiguracjÄ™ wyzwalaczy, ktÃ³re spowoduje uruchomienie danego workflow (moÅ¼e byÄ‡ ich wiÄ™cej niÅ¼&nbsp;jedne),</li>
<li><code>jobs</code> - zawiera konfiguracjÄ™ danego&nbsp;zadania.</li>
</ul>
<h4 id="nazwa-name">Nazwa (name)<a class="headerlink" href="#nazwa-name" title="Permalink to this heading">Â¶</a></h4>
<p>PoniewaÅ¼&nbsp;sekcja <code>name</code> jest bardzo prosta i oznacza po prostu nazwÄ™ danego workflow. W formacie <span class="caps">YAML</span> wyglÄ…da to&nbsp;nastÄ™pujÄ…co:</p>
<pre class="code literal-block"><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">deploy-nikola</span>
</pre>
<h4 id="wyzwalacze-on">Wyzwalacze (on)<a class="headerlink" href="#wyzwalacze-on" title="Permalink to this heading">Â¶</a></h4>
<p>PeÅ‚na lista wyzwalaczy znajduje siÄ™ <a href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows">tutaj</a>. Ja w swoim workflow, wykorzystaÅ‚em tylko jeden,&nbsp;czyli <code>push</code>, ktÃ³ry skonfigurowaÅ‚em tak, aby dziaÅ‚aÅ‚, tylko w momencie, gdy zmieni siÄ™ zawartoÅ›Ä‡ gÅ‚Ã³wnego brancha mojego repozytorium. W formacie <span class="caps">YAML</span> wyglÄ…da to&nbsp;nastÄ™pujÄ…co:</p>
<pre class="code literal-block"><span class="nt">on</span><span class="p">:</span>  
  <span class="nt">push</span><span class="p">:</span>  
    <span class="nt">branches</span><span class="p">:</span>  
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">main</span>
</pre>
<p>W przypadku starszych repozytoriÃ³w nazwa gÅ‚Ã³wnego brancha moÅ¼e byÄ‡ inna (master). PowÃ³d zmiany nazwy doczekaÅ‚&nbsp;siÄ™ szerszego opisu w jednym z oficjalnych <a href="https://github.com/github/renaming">repozytoriÃ³w</a> samego&nbsp;GitHuba.</p>
<p>Dodatkowo w przyszÅ‚oÅ›ci rozwaÅ¼Ä™ rÃ³wnieÅ¼ dodanie dodatkowego wyzwalacza w postaci uruchamiania workflow kaÅ¼dego dnia o wybranej godzinie. Pozwoli mi to na skorzystanie z moÅ¼liwoÅ›ci publikacji artykuÅ‚Ã³w z przyszÅ‚Ä… datÄ…. PrzyjmujÄ…c, Å¼e chciaÅ‚bym, aby strona przebudowywaÅ‚a siÄ™ codziennie o godzinie 10:00, taki wyzwalacz wyglÄ…daÅ‚by&nbsp;tak:</p>
<pre class="code literal-block"><span class="nt">on</span><span class="p">:</span>  
  <span class="nt">schedule</span><span class="p">:</span>  
    <span class="p p-Indicator">-</span> <span class="nt">cron</span><span class="p">:</span> <span class="s">'0</span><span class="nv"> </span><span class="s">10</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*'</span>
</pre>
<p>ZauwaÅ¼, Å¼e skÅ‚adnia zgodna jest ze skÅ‚adniÄ… tzw. <a href="https://en.wikipedia.org/wiki/Cron">cron</a>, czyli tzw. planisty (scheduler). SkÅ‚adnia prezentuje siÄ™&nbsp;nastÄ™pujÄ…co:</p>
<pre class="code literal-block"><span class="go">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minuta (0 - 59)</span>
<span class="go">â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ godzina (0 - 23)</span>
<span class="go">â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ dzieÅ„ miesiÄ…ca (1 - 31)</span>
<span class="go">â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ miesiÄ…c (1 - 12 lub JAN-DEC)</span>
<span class="go">â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ dzieÅ„ tygodnia (0 - 6 lub SUN-SAT)       </span>
<span class="go">* * * * *</span>
</pre>
<p>IstniejÄ… rÃ³wnieÅ¼ pewne znaki specjalne, modyfikujÄ…ce powyÅ¼sze&nbsp;wartoÅ›ci:</p>
<ul>
<li><code>*</code> - dowolna&nbsp;wartoÅ›Ä‡,</li>
<li><code>,</code> - separator wartoÅ›ci, np. uruchom codziennie o godzinie 10:00 i&nbsp;12:00: <code>0 10,12 * * *</code>,</li>
<li><code>-</code> - zakres wartoÅ›ci od/do, np. uruchom o kaÅ¼dej peÅ‚nej godzinie miÄ™dzy 15, a&nbsp;20: <code>0 15-20 * * *</code>,</li>
<li><code>\</code> - wartoÅ›Ä‡ krokowa, np. uruchamiaj co 15&nbsp;minut: <code>0/15 * * * *</code>.</li>
</ul>
<h4 id="zadanie-job">Zadanie (job)<a class="headerlink" href="#zadanie-job" title="Permalink to this heading">Â¶</a></h4>
<p>Konfiguracja konkretnego zadania to moÅ¼e byÄ‡ bardzo krÃ³tka (np. usuniÄ™cie danego katalogu) lub bardzo zÅ‚oÅ¼ona. PoniÅ¼ej znajduje siÄ™ moja konfiguracja i na jej przykÅ‚adzie omÃ³wiÄ™, jak siÄ™ buduje takie zadania i co one&nbsp;zawierajÄ….</p>
<pre class="code literal-block"><span class="nt">jobs</span><span class="p">:</span>  
  <span class="nt">Deploy-Nikola</span><span class="p">:</span>  
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>  
    <span class="nt">steps</span><span class="p">:</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Checkout Git repository</span>  
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install Python 3.8</span>  
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v2</span>  
        <span class="nt">with</span><span class="p">:</span>  
          <span class="nt">python-version</span><span class="p">:</span> <span class="s">'3.8'</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install Python libraries from requirements.txt</span>  
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">py-actions/py-dependency-install@v2</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install missing Ubuntu packages</span>  
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sudo apt-get install -y jpegoptim optipng tidy</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Build Nikola static site for testerembyc.pl</span>  
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nikola build</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Commit static site to repository with GitHub Pages enabled</span>  
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cpina/github-action-push-to-another-repository@main</span>  
        <span class="nt">env</span><span class="p">:</span>  
          <span class="nt">API_TOKEN_GITHUB</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ secrets.API_TOKEN_GITHUB }}</span>  
        <span class="nt">with</span><span class="p">:</span>  
          <span class="nt">user-name</span><span class="p">:</span> <span class="s">"user"</span>  
          <span class="nt">user-email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user@email.com</span>  
          <span class="nt">source-directory</span><span class="p">:</span> <span class="s">"docs"</span>  
          <span class="nt">destination-github-username</span><span class="p">:</span> <span class="s">"user"</span>  
          <span class="nt">destination-repository-name</span><span class="p">:</span> <span class="s">"public-repo"</span>  
          <span class="nt">target-branch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main</span>
</pre>
<p>DuÅ¼o tego, ale przeÅ›ledÅºmy wspÃ³lnie, co tu siÄ™ dzieje i co oznacza. Aha. Å»eby nie byÅ‚o, dane w ostatnich 6 linijkach zostaÅ‚y zmienione i nie sÄ… prawdziwymi&nbsp;danymi.</p>
<pre class="code literal-block"><span class="nt">jobs</span><span class="p">:</span>  
  <span class="nt">Deploy-Nikola</span><span class="p">:</span>
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>  
    <span class="nt">steps</span><span class="p">:</span>  
</pre>
<p>Tu raczej nie bÄ™dzie problemu:&nbsp;- <code>jobs</code> - oznacza, Å¼e w tym miejscu znajduje siÄ™ konfiguracja naszego zadania,&nbsp;- <code>Deploy-Nikola</code> - to po prostu nazwa naszego zadania,&nbsp;- <code>runs-on: ubuntu-latest</code> - definiuje, w jakim systemie operacyjnym dane zadanie, a dokÅ‚adniej jego kroki, majÄ… zostaÄ‡ uruchomione,&nbsp;- <code>steps</code> - kolejne kroki naszego&nbsp;zadania.</p>
<p>PowyÅ¼sze nie powinno stanowiÄ‡&nbsp;problemu.</p>
<h4 id="kroki-steps">Kroki (steps)<a class="headerlink" href="#kroki-steps" title="Permalink to this heading">Â¶</a></h4>
<p>Zanim jednak przejdziemy do omawiania samych krokÃ³w, zastanÃ³wmy siÄ™ czym, w ogÃ³le one sÄ…? OtÃ³Å¼ kroki to nic innego jak poszczegÃ³lne akcje, ktÃ³re muszÄ… zostaÄ‡ wykonane, aby nasze zadanie zostaÅ‚o uznane za&nbsp;ukoÅ„czone.</p>
<p>Pojedynczy krok skÅ‚ada&nbsp;siÄ™:</p>
<ul>
<li><code>name</code> - nazwa kroku do wyÅ›wietlenia (nie jest&nbsp;wymagane),</li>
<li><code>uses</code> - nazwa predefiniowanej akcji, ktÃ³ra zostanie&nbsp;wykonana,</li>
<li><code>env</code> - zmienna Å›rodowiskowa, jaka powinna zostaÄ‡ ustawiona w danym&nbsp;kroku,</li>
<li><code>with</code> - dodatkowe dane konfiguracyjne, ktÃ³re zostanÄ… przekazane do predefiniowanej&nbsp;akcji,</li>
<li><code>run</code> - komenda systemowa do wykonania&nbsp;(np. <code>ls -la</code>).</li>
</ul>
<p>NaleÅ¼y tutaj jeszcze zauwaÅ¼yÄ‡ kilka&nbsp;rzeczy:</p>
<ul>
<li><code>run</code> oraz <code>uses</code> nigdy nie wystÄ™pujÄ… razem, tzn. albo&nbsp;wykorzystujemy <code>run</code> do wywoÅ‚ania komendy systemowej,&nbsp;albo <code>uses</code> do wywoÅ‚ania&nbsp;akcji,</li>
<li><code>with</code> wystÄ™puje tylko w poÅ‚Ä…czeniu&nbsp;z <code>uses</code>.</li>
</ul>
<div class="admonition alert">
<p>ZauwaÅ¼, Å¼e w przypadku chÄ™ci uÅ¼ycia predefiniowanych krokÃ³w, to co wystÄ™puje&nbsp;po <code>uses</code> to tak naprawdÄ™ nazwa repozytorium znajdujÄ…cego siÄ™ w portalu GitHub. Jako przykÅ‚ad, moÅ¼e zerknaÄ‡ na pierwszy krok, czyli <a href="https://github.com/actions/checkout">actions/checkout@v2</a>. Czy to oznacza, Å¼e moÅ¼emy takie kroki tworzyÄ‡ samodzielnie? OczywiÅ›cie. Nic nie stoi na przeszkodzie, a caÅ‚y proces zostaÅ‚ odpowiednio <a href="https://docs.github.com/en/actions/creating-actions/about-actions">udokumentowany</a>.</p>
</div>
<p>WracajÄ…c teraz do analizy poszczegÃ³lnych krokÃ³w, omÃ³wiÄ™ je jako prosty zestaw kolnych akcji, jakie zostanÄ… wykonane, a dopasowanie, ktÃ³ra akcja co oznacza, zostawiÄ™ juÅ¼ Tobie (wierzÄ™, Å¼e sobie poradzisz z tym&nbsp;zadaniem):</p>
<ol>
<li>Pobierz zawartoÅ›Ä‡ repozytorium - naleÅ¼y mieÄ‡ na uwadze, Å¼e dzieje siÄ™ to w kontekÅ›cie repozytorium, w ktÃ³rym znajduje siÄ™ definicja danego workflow, czyli pobieramy dane z prywatnego&nbsp;repozytorium.</li>
<li>Zainstaluj Pythona 3.8 - zauwaÅ¼, Å¼e w przypadku tej akcji, okreÅ›lamy jakÄ… o jakÄ… wersjÄ™ Pythona nam chodzi. PoniewaÅ¼ na komputerze, na ktÃ³rym tworzÄ™ tego bloga, mam zainstalowanego Pythona 3.8, uÅ¼yÅ‚em tej samej wersji, aby zminimalizowaÄ‡ iloÅ›Ä‡ ewentualnych&nbsp;bÅ‚Ä™dÃ³w.</li>
<li>Zainstaluj biblioteki z listy znajdujacej siÄ™ w&nbsp;pliku <code>requirements.txt</code>.</li>
<li>Zainstaluj brakujÄ…ce narzÄ™dzia w systemie - poniewaÅ¼ korzystamy z Ubuntu, wykorzystane zostaÅ‚o polecenie&nbsp;systemowe <code>apt-get</code>, ktÃ³re sÅ‚uÅ¼y wÅ‚aÅ›nie do instalacji pakietÃ³w z&nbsp;oprogramowaniem.</li>
<li>Zbuduj statycznÄ… stronÄ™ - w tym celu wywoÅ‚ane zostanie polecenie sÅ‚uÅ¼Ä…ce do tego&nbsp;celu.</li>
<li>Zakomituj statycznÄ… stronÄ™ do publicznego repozytorium z wÅ‚Ä…czonÄ… usÅ‚ugÄ… GitHub Pages - zauwaÅ¼, Å¼e w tym kroku, jest duÅ¼o danych konfiguracyjnych, oraz tworzona jest zmienna Å›rodowiskowa, w ktÃ³rej przechowany zostanie token sÅ‚uÅ¼Ä…cy do dostÄ™pu do <span class="caps">API</span> GitHuba. Token ten sÅ‚uÅ¼y do autoryzacji oraz przeprowadzenia samego procesu commitu do repozytorium. Aby mÃ³c uÅ¼ywaÄ‡ tokenu, naleÅ¼y go najpierw wygenerowaÄ‡, a nastÄ™pnie umieÅ›ciÄ‡ w odpowiednim&nbsp;miejscu,</li>
</ol>
<h4 id="cay-workflow">CaÅ‚y Workflow<a class="headerlink" href="#cay-workflow" title="Permalink to this heading">Â¶</a></h4>
<p>CaÅ‚y&nbsp;plik <code>deploy-nikola.yml</code> wyglÄ…da&nbsp;nastÄ™pujÄ…co:</p>
<pre class="code literal-block"><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">deploy-nikola</span>  
<span class="nt">on</span><span class="p">:</span>  
  <span class="nt">push</span><span class="p">:</span>  
    <span class="nt">branches</span><span class="p">:</span>  
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master</span>  
<span class="nt">jobs</span><span class="p">:</span>  
  <span class="nt">Deploy-Nikola</span><span class="p">:</span>  
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>  
    <span class="nt">steps</span><span class="p">:</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Checkout Git repository</span>  
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install Python 3.8</span>  
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v2</span>  
        <span class="nt">with</span><span class="p">:</span>  
          <span class="nt">python-version</span><span class="p">:</span> <span class="s">'3.8'</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install Python libraries from requirements.txt</span>  
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">py-actions/py-dependency-install@v2</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install missing Ubuntu packages</span>  
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sudo apt-get install -y jpegoptim optipng tidy</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Build Nikola static site for testerembyc.pl</span>  
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nikola build</span>  
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Commit static site to repository with GitHub Pages enabled</span>  
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cpina/github-action-push-to-another-repository@main</span>  
        <span class="nt">env</span><span class="p">:</span>  
          <span class="nt">API_TOKEN_GITHUB</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ secrets.API_TOKEN_GITHUB }}</span>  
        <span class="nt">with</span><span class="p">:</span>  
          <span class="nt">user-name</span><span class="p">:</span> <span class="s">"user"</span>  
          <span class="nt">user-email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user@email.com</span>  
          <span class="nt">source-directory</span><span class="p">:</span> <span class="s">"docs"</span>  
          <span class="nt">destination-github-username</span><span class="p">:</span> <span class="s">"user"</span>  
          <span class="nt">destination-repository-name</span><span class="p">:</span> <span class="s">"public-repo"</span>  
          <span class="nt">target-branch</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main</span>
</pre>
<h3 id="token">Token<a class="headerlink" href="#token" title="Permalink to this heading">Â¶</a></h3>
<p>Token to nic innego jak klucz, dziÄ™ki ktÃ³remu jesteÅ›my w stanie wykonywaÄ‡ pewne operacje z wykorzystanie <span class="caps">REST</span> <span class="caps">API</span> portalu&nbsp;GitHub.</p>
<h4 id="generowanie-tokenu">Generowanie tokenu<a class="headerlink" href="#generowanie-tokenu" title="Permalink to this heading">Â¶</a></h4>
<p>Aby wygenerowaÄ‡ token, naleÅ¼y byÄ‡ zalogowanym na swoim koncie w portalu GitHub, a nastÄ™pnie przejÅ›Ä‡ do zakÅ‚adki <strong>Settings</strong> &gt; <strong>Developer settings</strong> &gt; <strong>Personal access tokens</strong> &gt; <strong>Generate new token</strong> lub po prostu przejÅ›Ä‡ na adres <a href="https://github.com/settings/tokens/new">https://github.com/settings/tokens/new</a> (w tym miejscu moÅ¼emy zostaÄ‡ poproszeni o ponowne podanie naszego&nbsp;hasÅ‚a).</p>
<p class="captionb"><img alt="Account settings" src="../../images/posts/ci-cd-na-przykladzie-github-actions/account_settings.png"> Account&nbsp;settings</p>
<p class="captionb"><img alt="Dev settings" src="../../images/posts/ci-cd-na-przykladzie-github-actions/dev_settings.png"> Dev&nbsp;settings</p>
<p class="captionb"><img alt="Personal access token" src="../../images/posts/ci-cd-na-przykladzie-github-actions/personal_access_token.png"> Personal access&nbsp;token</p>
<p class="captionb"><img alt="Generate new token" src="../../images/posts/ci-cd-na-przykladzie-github-actions/generate_new_token.png"> Generate new&nbsp;token</p>
<p>NastÄ™pnie naleÅ¼y wypeÅ‚niÄ‡/zaznaczyÄ‡ poniÅ¼sze&nbsp;pola:|</p>
<ul>
<li><em>Note</em> - tutaj podajemy nazwÄ™ naszego&nbsp;tokenu,</li>
<li><em>Expiration</em> - okres przez jaki nasz token bÄ™dzie zdatny do&nbsp;uÅ¼ytku,</li>
<li><em>Select scopes</em> - zakres uprawnieÅ„:
<ul>
<li><em>repo:status - Access commit&nbsp;status</em></li>
<li><em>public_repo - Access public&nbsp;repositiories</em></li>
</ul>
</li>
</ul>
<p>oraz kliknÄ…Ä‡ przycisk <strong>Generate token</strong>.</p>
<div class="admonition alert">
<p>NaleÅ¼y pamiÄ™taÄ‡, Å¼e ten zestaw uprawnieÅ„ jest wystarczajÄ…cy w przypadku akcji commitowania do publicznego repozytorium. JeÅ›li w swoim workflow, bÄ™dziesz uÅ¼ywaÄ‡ innych akcji, moÅ¼e okazaÄ‡ siÄ™, Å¼e powyÅ¼szy zestaw uprawnieÅ„ bedzie&nbsp;niewystarczajÄ…cy.</p>
</div>
<p class="captionb"><img alt="New personal access token" src="../../images/posts/ci-cd-na-przykladzie-github-actions/new_personal_access_token.png"> New personal access&nbsp;token</p>
<p>Po wygenerowaniu tokenu, mamy jedynÄ… moÅ¼liwoÅ›Ä‡ skopiowania tokenu, o czym przypomina stosowny komunika. NaleÅ¼y go sobie gdzieÅ› zapisaÄ‡ albo od razu&nbsp;wykorzystaÄ‡.</p>
<p class="captionb"><img alt="Token" src="../../images/posts/ci-cd-na-przykladzie-github-actions/token.png">&nbsp;Token</p>
<h4 id="bezpieczne-wykorzystanie-tokenu">Bezpieczne wykorzystanie tokenu<a class="headerlink" href="#bezpieczne-wykorzystanie-tokenu" title="Permalink to this heading">Â¶</a></h4>
<p>Aby wykorzystaÄ‡ token, musimy zapisaÄ‡ go jako tzw. secret w repozytorium, w ktÃ³rym uruchamiane zostanie tworzone workflow. Secret to nic innego jak zmienna Å›rodowiskowa, do ktÃ³rej bÄ™dÄ… miaÅ‚y dostÄ™p wykonywane akcje. Aby utworzyÄ‡ secret, naleÅ¼y wykonaÄ‡ kilka poniÅ¼szych krokÃ³w w&nbsp;repozytorium.</p>
<p>W moim przypadku musiaÅ‚em przejÅ›Ä‡ do mojego prywatnego repozytorium, a nastÄ™pnie przejÅ›Ä‡ do zakÅ‚adki <strong>Settings</strong> &gt; <strong>Secrets</strong> &gt; <strong>New repository secret</strong>.</p>
<p class="captionb"><img alt="Repository settings" src="../../images/posts/ci-cd-na-przykladzie-github-actions/repository_settings.png"> Repository&nbsp;settings</p>
<p class="captionb"><img alt="Secrets" src="../../images/posts/ci-cd-na-przykladzie-github-actions/secrets.png">&nbsp;Secrets</p>
<p class="captionb"><img alt="New repository secret" src="../../images/posts/ci-cd-na-przykladzie-github-actions/new_repository_secret.png"> New repository&nbsp;secret</p>
<p>NastÄ™pnie naleÅ¼y wypeÅ‚niÄ‡/zaznaczyÄ‡ poniÅ¼sze&nbsp;pola:|</p>
<ul>
<li><em>Name</em> - nazwa zmiennej Å›rodowiskowej, w moim przypadku byÅ‚o&nbsp;to <code>API_TOKEN_GITHUB</code>,</li>
<li><em>Value</em> - wartoÅ›Ä‡ zmiennej Å›rodowiskowej, w moim przypadku byÅ‚ to wygenerowany wczeÅ›niej&nbsp;token,</li>
</ul>
<p>oraz kliknÄ…Ä‡ przycisk <strong>Add secret</strong>.</p>
<p class="captionb"><img alt="New secret" src="../../images/posts/ci-cd-na-przykladzie-github-actions/new_secret.png"> New&nbsp;secret</p>
<h2 id="na-zakonczenie">Na zakoÅ„czenie<a class="headerlink" href="#na-zakonczenie" title="Permalink to this heading">Â¶</a></h2>
<p>Å»eby to wszystko teraz zadziaÅ‚aÅ‚o, musimy jeszcze umieÅ›ciÄ‡&nbsp;plik <code>deploy-nikola.yml</code> (<code>git commit</code> oraz <code>git push</code>) w repozytorium. Od teraz kaÅ¼dy kolejna zmiana lub dodanie plikÃ³w do gÅ‚Ã³wnego brancha, spowoduje automatyczne uruchomienie utworzonego workflow oraz akcji, jakie zostaÅ‚o w nim ustawione. PodglÄ…d moÅ¼emy zawsze znaleÅºÄ‡ w zakÅ‚adce <strong>Actions</strong> naszego repozytorium, a nastÄ™pnie przejÅ›Ä‡ do naszego workflow oraz ostatnio wykonanego uruchomienia&nbsp;workflow.</p>
<p class="captionb"><img alt="Actions" src="../../images/posts/ci-cd-na-przykladzie-github-actions/actions.png">&nbsp;Actions</p>
<p class="captionb"><img alt="Action status" src="../../images/posts/ci-cd-na-przykladzie-github-actions/action_details.png"> Action&nbsp;Status</p>
<h2 id="koszty">Koszty<a class="headerlink" href="#koszty" title="Permalink to this heading">Â¶</a></h2>
<p>GitHub Actions jest darmowe, ale ma pewne ograniczenie, tzn. w ramach darmowego konta, moÅ¼na wykorzystaÄ‡ maksymalnie 2000 minut, w ktÃ³rych czasie kaÅ¼dy tzw. runner, bÄ™dzie wykonywaÅ‚ akcje opisane w ramach akcji. Ograniczenie to moÅ¼na obejÅ›Ä‡, jeÅ›li wykorzystamy tzw. self-hosted runners, czyli jeÅ›li runner bÄ™dzie uruchamiany na naszym&nbsp;serwerze.</p>
<h2 id="github-actions-w-testach-automatycznych">GitHub Actions w testach automatycznych?<a class="headerlink" href="#github-actions-w-testach-automatycznych" title="Permalink to this heading">Â¶</a></h2>
<p>Zapewne po przeczytaniu caÅ‚ego tego wpisu, masz juÅ¼ kilka wÅ‚asnych pomysÅ‚Ã³w, jak moÅ¼na wykorzystaÄ‡ GitHub Actions w testach automatycznych. PoniÅ¼ej przedstawiam listÄ™ kilku wÅ‚asnych pomysÅ‚Ã³w. ByÄ‡ moÅ¼e pokrywajÄ… siÄ™ z Twoimi pomysÅ‚ami, a byÄ‡ moÅ¼e podpowiedzÄ… kilka&nbsp;nowych.</p>
<ul>
<li>W niemal identyczny sposÃ³b jak powyÅ¼ej opisany (tzn. z wykorzystaniem GitHub Actions oraz GitHub Pages) moÅ¼na generowaÄ‡ raporty z narzÄ™dzia, jakim jest <a href="http://allure.qatools.ru">Allure</a>.</li>
<li>Podobnie ma siÄ™ sprawa z generacjÄ… dokumentacji kodu testÃ³w automatycznych, np. przy uÅ¼yciu biblioteki <a href="https://www.sphinx-doc.org/en/master/">Sphinx</a>.</li>
<li>Cykliczne uruchamianie testÃ³w&nbsp;automatycznych.</li>
<li>Health check Å›rodowiska testowego lub&nbsp;produkcji.</li>
<li>Tworzenie i odtwarzanie backupu Å›rodowiska testowego wraz z danymi&nbsp;testowymi.</li>
<li>Automatyczne zarzÄ…dzanie Å›rodowiskiem testowym, np. dynamiczne tworzenie Å›rodowisk testowych na potrzeby przeprowadzenia testÃ³w oraz ich wyÅ‚Ä…czenie po ich&nbsp;zakoÅ„czeniu.</li>
<li>Automatyczne uruchamianie testÃ³w np. regresji po deploymencie w celu weryfikacji jego&nbsp;poprawnoÅ›ci.</li>
<li>Uruchamianie unittestÃ³w utworzonych dla naszych testÃ³w&nbsp;automatycznych.</li>
<li>Automatyczne generowanie <span class="caps">CV</span> do celÃ³w rekrutacji (by Jakub SpÃ³rna z bloga <a href="https://sporna.dev">https://sporna.dev</a>)</li>
</ul>
<div class="admonition alert">
<p>JeÅ›li masz jakiÅ› ciekawy pomysÅ‚, ktÃ³rego nie umieÅ›ciÅ‚em na powyÅ¼szej liÅ›cie, daj koniecznie znaÄ‡, a chÄ™tnie go dopiszÄ™ powyÅ¼ej z zaznaczeniem kto byÅ‚ autorem tego&nbsp;pomysÅ‚u.</p>
</div>
<h2 id="podsumowanie">Podsumowanie<a class="headerlink" href="#podsumowanie" title="Permalink to this heading">Â¶</a></h2>
<p>JeÅ›li udaÅ‚o Ci siÄ™ dotrzeÄ‡ do tego miejsca, to gratulujÄ™ wytrwaÅ‚oÅ›ci. Temat <span class="caps">CI</span>/<span class="caps">CD</span> jest bardzo obszerny i przedstawiony powyÅ¼ej opis to zaledwie <em>liÅºniÄ™cie</em> tematu oraz pokazanie, Å¼e to wcale nie jest takie trudne. Mam nadziejÄ™, Å¼e zachÄ™ciÅ‚em CiÄ™ do zmierzenia siÄ™ z tym tematem. JeÅ›li tak to Å¼yczÄ™ powodzenia, a jeÅ›li nie to zachÄ™cam do sprÃ³bowania. Wiedza ta na pewno nie bÄ™dzie wiedzÄ… bezuÅ¼ytecznÄ…, a jeszcze nie raz w Twojej karierze moÅ¼e okazaÄ‡ siÄ™ bardzo pomocna, np. podczas rozmowy kwalifikacyjnej lub jako dodatkowy wpis w&nbsp;<span class="caps">CV</span>.</p>
<h2 id="bonus">Bonus<a class="headerlink" href="#bonus" title="Permalink to this heading">Â¶</a></h2>
<p>GitHub Actions udostÄ™pnia moÅ¼liwoÅ›Ä‡ prezentacji statusu danego workflow w postaci&nbsp;graficznej.</p>
<p class="caption"><img alt="Workflow status" src="../../images/posts/ci-cd-na-przykladzie-github-actions/status.png"> Workflow&nbsp;status</p>
<p>Graficzny status generowany jest w postaci pliku svg dostÄ™pnego w unikatowym dla danego repozytorium oraz danego workflow linku. U mnie prezentuje siÄ™ on nastÄ™pujÄ…co <a href="https://github.com/mkusz/testerembyc/actions/workflows/deploy-nikola.yml/badge.svg">https://github.com/mkusz/testerembyc/actions/workflows/deploy-nikola.yml/badge.svg</a>. Aby wykorzystaÄ‡ go np. w pliku <span class="caps">README</span>.md, ktÃ³ry znajduje siÄ™ w gÅ‚Ã³wnym folderze naszego repozytorium naleÅ¼y skorzystaÄ‡ z odpowiedniej skÅ‚adni, ktÃ³ra umieÅ›ci plik graficzny z danego linku. W moim wypadku wyglÄ…da on&nbsp;tak:</p>
<pre class="code literal-block">![](https://github.com/mkusz/testerembyc/actions/workflows/deploy-nikola.yml/badge.svg)
</pre></div>
<div class="col-md-6"><img src="../../images/page_lm/jak_zaczac_automatyzowac.jpg"></div>
<div class="col-md-6">
<form action="https://maciejkusz.activehosted.com/proc.php" id="_form_5_" method="post" name="_form_5_" novalidate=""><input name="u" type="hidden" value="5"><input name="f" type="hidden" value="5"><input name="s" type="hidden"><input name="c" type="hidden" value="0"><input name="m" type="hidden" value="0"><input name="act" type="hidden" value="sub"><input name="v" type="hidden" value="2">
<h3>Zapraszam do newslettera<a class="headerlink" href="#_form_5_" title="Permalink to this heading">Â¶</a></h3>
<div class="_form-content">
<p>JeÅ›li powyÅ¼szy artykuÅ‚ uznajesz za wartoÅ›ciowy oraz masz ochotÄ™ byÄ‡ informowany o nowoÅ›ciach na moim blogu, to zachÄ™cam CiÄ™ do zapisania siÄ™ do mojego newslettera. ObiecujÄ™, Å¼e nie bÄ™dÄ™ CiÄ™ spamowaÅ‚, a tylko od czasu do czasu wyÅ›lÄ™ Ci powiadomienie o nowym artykule lub przeÅ›lÄ™ krÃ³tkiego maila z ciekawymi informacjami.<br>
<strong><span class="caps">BONUS</span>:</strong> Dodatkowo otrzymasz mÃ³j mini poradnik: <em>Jak zaczÄ…Ä‡ automatyzowaÄ‡ testy? Czyli 12 pytaÅ„ i odpowiedzi, ktÃ³re w tym&nbsp;pomogÄ…</em></p>
<div class="input-group" id="basic-fullname-group"><span class="input-group-addon" id="basic-fullname">ImiÄ™</span> <input aria-describedby="basic-fullname" class="form-control" name="fullname" placeholder="Wpisz swoje imiÄ™" type="text"></div>
<div class="input-group" id="basic-lastname-group"><span class="input-group-addon" id="basic-lastname">Nazwisko</span> <input aria-describedby="basic-fullname" class="form-control" name="lastname" placeholder="Wpisz swoje nazwisko" type="text"></div>
<div class="input-group" id="basic-email-group"><span class="input-group-addon" id="basic-email">E-mail</span> <input aria-describedby="basic-email" class="form-control" name="email" placeholder="Wpisz swÃ³j e-mail" required="" type="text"></div>
<button class="_submit btn btn-danger" id="_form_5_submit" style="margin-left: auto; margin-right: auto; display: block;" type="submit">Zapisz siÄ™</button>
<div class="_clear-element"></div>
</div>
<div class="_form-thank-you" style="display:none;"></div>
<p style="font-size: 10px; margin-top: 5px;">Wszystkie podane przez Ciebie dane, bÄ™dÄ… przetwarzane zgodnie z <a href="../../pages/polityka-prywatnosci">politykÄ… prywatnoÅ›ci</a>.</p>
</form>
<script type="text/javascript">
        window.cfields = [];
        window._show_thank_you = function(id, message, trackcmp_url) {
          var form = document.getElementById('_form_' + id + '_'), thank_you = form.querySelector('._form-thank-you');
          form.querySelector('._form-content').style.display = 'none';
          thank_you.innerHTML = message;
          thank_you.style.display = 'block';
          if (typeof(trackcmp_url) != 'undefined' && trackcmp_url) {
            // Site tracking URL to use after inline form submission.
            _load_script(trackcmp_url);
          }
          if (typeof window._form_callback !== 'undefined') window._form_callback(id);
        };
        window._show_error = function(id, message, html) {
          var form = document.getElementById('_form_' + id + '_'), err = document.createElement('div'), button = form.querySelector('button'), old_error = form.querySelector('._form_error');
          if (old_error) old_error.parentNode.removeChild(old_error);
          err.innerHTML = message;
          err.className = '_error-inner _form_error _no_arrow';
          var wrapper = document.createElement('div');
          wrapper.className = '_form-inner';
          wrapper.appendChild(err);
          button.parentNode.insertBefore(wrapper, button);
          document.querySelector('[id^="_form"][id$="_submit"]').disabled = false;
          if (html) {
            var div = document.createElement('div');
            div.className = '_error-html';
            div.innerHTML = html;
            err.appendChild(div);
          }
        };
        window._load_script = function(url, callback) {
            var head = document.querySelector('head'), script = document.createElement('script'), r = false;
            script.type = 'text/javascript';
            script.charset = 'utf-8';
            script.src = url;
            if (callback) {
              script.onload = script.onreadystatechange = function() {
              if (!r && (!this.readyState || this.readyState == 'complete')) {
                r = true;
                callback();
                }
              };
            }
            head.appendChild(script);
        };
        (function() {
          if (window.location.search.search("excludeform") !== -1) return false;
          var getCookie = function(name) {
            var match = document.cookie.match(new RegExp('(^|; )' + name + '=([^;]+)'));
            return match ? match[2] : null;
          }
          var setCookie = function(name, value) {
            var now = new Date();
            var time = now.getTime();
            var expireTime = time + 1000 * 60 * 60 * 24 * 365;
            now.setTime(expireTime);
            document.cookie = name + '=' + value + '; expires=' + now + ';path=/';
          }
              var addEvent = function(element, event, func) {
            if (element.addEventListener) {
              element.addEventListener(event, func);
            } else {
              var oldFunc = element['on' + event];
              element['on' + event] = function() {
                oldFunc.apply(this, arguments);
                func.apply(this, arguments);
              };
            }
          }
          var _removed = false;
          var form_to_submit = document.getElementById('_form_5_');
          var allInputs = form_to_submit.querySelectorAll('input, select, textarea'), tooltips = [], submitted = false;

          var getUrlParam = function(name) {
            var regexStr = '[\?&]' + name + '=([^&#]*)';
            var results = new RegExp(regexStr, 'i').exec(window.location.href);
            return results != undefined ? decodeURIComponent(results[1]) : false;
          };

          for (var i = 0; i < allInputs.length; i++) {
            var regexStr = "field\\[(\\d+)\\]";
            var results = new RegExp(regexStr).exec(allInputs[i].name);
            if (results != undefined) {
              allInputs[i].dataset.name = window.cfields[results[1]];
            } else {
              allInputs[i].dataset.name = allInputs[i].name;
            }
            var fieldVal = getUrlParam(allInputs[i].dataset.name);

            if (fieldVal) {
                    if (allInputs[i].dataset.autofill === "false") {
                        continue;
                    }
              if (allInputs[i].type == "radio" || allInputs[i].type == "checkbox") {
                if (allInputs[i].value == fieldVal) {
                  allInputs[i].checked = true;
                }
              } else {
                allInputs[i].value = fieldVal;
              }
            }
          }

          var remove_tooltips = function() {
            for (var i = 0; i < tooltips.length; i++) {
              tooltips[i].tip.parentNode.removeChild(tooltips[i].tip);
            }
              tooltips = [];
          };
          var remove_tooltip = function(elem) {
            for (var i = 0; i < tooltips.length; i++) {
              if (tooltips[i].elem === elem) {
                tooltips[i].tip.parentNode.removeChild(tooltips[i].tip);
                tooltips.splice(i, 1);
                return;
              }
            }
          };
          var create_tooltip = function(elem, text) {
            var tooltip = document.createElement('div'), arrow = document.createElement('div'), inner = document.createElement('div'), new_tooltip = {};
            if (elem.type != 'radio' && elem.type != 'checkbox') {
              tooltip.className = 'label label-danger';
              tooltip.innerHTML = text;
              elem.parentNode.parentNode.insertBefore(tooltip, elem.parentNode);
            } else {
              tooltip.className = '_error-inner _no_arrow';
              tooltip.innerHTML = text;
              elem.parentNode.insertBefore(tooltip, elem);
              new_tooltip.no_arrow = true;
            }
            new_tooltip.tip = tooltip;
            new_tooltip.elem = elem;
            tooltips.push(new_tooltip);
            return new_tooltip;
          };
          var resize_tooltip = function(tooltip) {
            var rect = tooltip.elem.getBoundingClientRect();
            var doc = document.documentElement, scrollPosition = rect.top - ((window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0));
            if (scrollPosition < 40) {
              tooltip.tip.className = tooltip.tip.className.replace(/ ?(_above|_below) ?/g, '') + ' _below';
            } else {
              tooltip.tip.className = tooltip.tip.className.replace(/ ?(_above|_below) ?/g, '') + ' _above';
            }
          };
          var resize_tooltips = function() {
            if (_removed) return;
            for (var i = 0; i < tooltips.length; i++) {
              if (!tooltips[i].no_arrow) resize_tooltip(tooltips[i]);
            }
          };
          var validate_field = function(elem, remove) {
            var tooltip = null, value = elem.value, no_error = true;
            remove ? remove_tooltip(elem) : false;
            if (elem.type != 'checkbox') elem.className = elem.className.replace(/ ?_has_error ?/g, '');
            if (elem.getAttribute('required') !== null) {
              if (elem.type == 'radio' || (elem.type == 'checkbox' && /any/.test(elem.className))) {
                var elems = form_to_submit.elements[elem.name];
                if (!(elems instanceof NodeList || elems instanceof HTMLCollection) || elems.length <= 1) {
                  no_error = elem.checked;
                }
                else {
                  no_error = false;
                  for (var i = 0; i < elems.length; i++) {
                    if (elems[i].checked) no_error = true;
                  }
                }
                if (!no_error) {
                  tooltip = create_tooltip(elem, "Wybierz opcjÄ™.");
                }
              } else if (elem.type =='checkbox') {
                var elems = form_to_submit.elements[elem.name], found = false, err = [];
                no_error = true;
                for (var i = 0; i < elems.length; i++) {
                  if (elems[i].getAttribute('required') === null) continue;
                  if (!found && elems[i] !== elem) return true;
                  found = true;
                  elems[i].className = elems[i].className.replace(/ ?_has_error ?/g, '');
                  if (!elems[i].checked) {
                    no_error = false;
                    elems[i].className = elems[i].className + ' _has_error';
                    err.push("Zaznaczenie %s jest wymagane".replace("%s", elems[i].value));
                  }
                }
                if (!no_error) {
                  tooltip = create_tooltip(elem, err.join('<br/>'));
                }
              } else if (elem.tagName == '<span class="caps">SELECT</span>') {
                var selected = true;
                if (elem.multiple) {
                  selected = false;
                  for (var i = 0; i < elem.options.length; i++) {
                    if (elem.options[i].selected) {
                      selected = true;
                      break;
                    }
                  }
                } else {
                  for (var i = 0; i < elem.options.length; i++) {
                    if (elem.options[i].selected && !elem.options[i].value) {
                      selected = false;
                    }
                  }
                }
                if (!selected) {
                  elem.className = elem.className + ' _has_error';
                  no_error = false;
                  tooltip = create_tooltip(elem, "Wybierz opcjÄ™.");
                }
              } else if (value === undefined || value === null || value === '') {
                elem.className = elem.className + ' _has_error';
                no_error = false;
                tooltip = create_tooltip(elem, "To pole jest wymagane.");
              }
            }
            if (no_error && elem.name == 'email') {
              if (!value.match(/^[\+_a-z0-9-'&=]+(\.[\+_a-z0-9-']+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,})$/i)) {
                elem.className = elem.className + ' _has_error';
                no_error = false;
                tooltip = create_tooltip(elem, "Wpisz poprawny adres e-mail.");
              }
            }
            if (no_error && /date_field/.test(elem.className)) {
              if (!value.match(/^\d\d\d\d-\d\d-\d\d$/)) {
                elem.className = elem.className + ' _has_error';
                no_error = false;
                tooltip = create_tooltip(elem, "Wpisz poprawnÄ… datÄ™.");
              }
            }
            tooltip ? resize_tooltip(tooltip) : false;
            return no_error;
          };
          var needs_validate = function(el) {
            return el.name == 'email' || el.getAttribute('required') !== null;
          };
          var validate_form = function(e) {
            var err = form_to_submit.querySelector('._form_error'), no_error = true;
            if (!submitted) {
              submitted = true;
              for (var i = 0, len = allInputs.length; i < len; i++) {
                var input = allInputs[i];
                if (needs_validate(input)) {
                  if (input.type == 'text') {
                    addEvent(input, 'blur', function() {
                      this.value = this.value.trim();
                      validate_field(this, true);
                    });
                    addEvent(input, 'input', function() {
                      validate_field(this, true);
                    });
                  } else if (input.type == 'radio' || input.type == 'checkbox') {
                    (function(el) {
                      var radios = form_to_submit.elements[el.name];
                      for (var i = 0; i < radios.length; i++) {
                        addEvent(radios[i], 'click', function() {
                          validate_field(el, true);
                        });
                      }
                    })(input);
                  } else if (input.tagName == 'SELECT') {
                    addEvent(input, 'change', function() {
                      validate_field(this, true);
                    });
                  } else if (input.type == 'textarea'){
                    addEvent(input, 'input', function() {
                      validate_field(this, true);
                    });
                  }
                }
              }
            }
            remove_tooltips();
            for (var i = 0, len = allInputs.length; i < len; i++) {
              var elem = allInputs[i];
              if (needs_validate(elem)) {
                if (elem.tagName.toLowerCase() !== "select") {
                  elem.value = elem.value.trim();
                }
                validate_field(elem) ? true : no_error = false;
              }
            }
            if (!no_error && e) {
              e.preventDefault();
            }
            resize_tooltips();
            return no_error;
          };
          addEvent(window, 'resize', resize_tooltips);
          addEvent(window, 'scroll', resize_tooltips);
          window._old_serialize = null;
          if (typeof serialize !== 'undefined') window._old_serialize = window.serialize;
          _load_script("//d3rxaij56vjege.cloudfront.net/form-serialize/0.3/serialize.min.js", function() {
            window._form_serialize = window.serialize;
            if (window._old_serialize) window.serialize = window._old_serialize;
          });
          var form_submit = function(e) {
            e.preventDefault();
            if (validate_form()) {
              // use this trick to get the submit button <span class="amp">&amp;</span> disable it using plain javascript
              document.querySelector('#_form_5_submit').disabled = true;
                    var serialized = _form_serialize(document.getElementById('_form_5_'));
              var err = form_to_submit.querySelector('._form_error');
              err ? err.parentNode.removeChild(err) : false;
              _load_script('https://maciejkusz.activehosted.com/proc.php?' + serialized + '&jsonp=true');
            }
            return false;
          };
          addEvent(form_to_submit, 'submit', form_submit);
        })();

</script></div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../categories/automatyzacja/" rel="tag">automatyzacja</a></li>
<li><a class="tag p-category" href="../../categories/cicd/" rel="tag">ci/cd</a></li>
<li><a class="tag p-category" href="../../categories/github/" rel="tag">github</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../vlog-002-strefa-komfortu-a-twoje-zarobki/" rel="prev" title="Strefa komfortu, a Twoje zarobki [vlog 002]">Poprzedni&nbsp;post</a></li>
</ul>
</nav>
</aside>
<section class="comments hidden-print">
<h2>Komentarze</h2>
<div id="disqus_thread"></div>
<script>
        var disqus_shortname ="testerembyc",
            disqus_url="https://testerembyc.pl/posts/ci-cd-na-przykladzie-github-actions/",
        disqus_title="CI/CD na przyk\u0142adzie GitHub Actions",
        disqus_identifier="cache/posts/ci-cd-na-przykladzie-github-actions.html",
        disqus_config = function () {
            this.language = "pl";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> <a class="dsq-brlink" href="https://disqus.com" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a></section>
</article>
<script>
var disqus_shortname="testerembyc";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());
</script></div>
<div class="col-sm-3 blog-sidebar">
<div class="sidebar-module sidebar-module-inset">
<form action="https://www.google.com/search" method="get" role="search"><input name="cx" type="hidden" value="013548426528546093847:kxj9yxvrzlu"><input name="ie" type="hidden" value="utf-8"><input name="hl" type="hidden" value="pl">
<div class="input-group"><input aria-describedby="basic-search" class="form-control" name="q" placeholder="Szukaj" type="text">
<div class="input-group-btn"><button class="btn btn-danger" type="submit"><span class="glyphicon glyphicon-search" id="basic-search"></span></button></div>
</div>
<input name="sitesearch" type="hidden" value="testerembyc"></form>
</div>
<div class="sidebar-module sidebar-module-inset">
<h3>Darmowy&nbsp;poradnik</h3>
<a href="../../pages/jak-zaczac-automatyzowac-testy/"><img src="../../images/page_lm/jak_zaczac_automatyzowac_small.jpg"></a>
<p><strong>Jak zaczÄ…Ä‡ automatyzowaÄ‡&nbsp;testy?</strong></p>
<p>Poznaj 12 pytaÅ„, ktÃ³re pomogÄ… Ci rozpoczÄ…Ä‡ proces automatyzacji testÃ³w. W zupeÅ‚nym oderwaniu od jÄ™zyka programowania, frameworkÃ³w do testÃ³w oraz technologi w jakiej napisana zostaÅ‚a aplikacja, ktÃ³rÄ… bÄ™dziesz testowaÄ‡. CaÅ‚oÅ›Ä‡ opisana prostym i zrozumiaÅ‚ym&nbsp;jÄ™zykiem.</p>
<p style="text-align: center"><a class="_submit btn btn-danger" href="../../pages/jak-zaczac-automatyzowac-testy/">Pobieram&nbsp;poradnik</a></p>
</div>
<div class="sidebar-module sidebar-module-inset">
<h3>O&nbsp;mnie</h3>
<a href="../../pages/o-mnie/"><img src="../../images/me_bw_small.jpg"></a>
<p>Nazywam siÄ™ <strong>Maciej Kusz</strong> i od 2008 roku zajmujÄ™ siÄ™ testowaniem oprogramowania. Na poczÄ…tku byÅ‚y to testy manualne, od 2011 poczÄ…tki testÃ³w automatycznych, a od 2013 automatyzacjÄ… testÃ³w z wykorzystaniem <strong>Pythona</strong>. Przez te kilka lat, zdarzyÅ‚o mi siÄ™ juÅ¼ byÄ‡ w kilku firmach i w kilku rÃ³Å¼nych projektach. Na stronie <a href="../../pages/o-mnie/">o mnie</a>, znajdujdziesz ciut wiÄ™cej informacji na ten&nbsp;temat.</p>
</div>
<div class="sidebar-module sidebar-module-inset">
<form action="https://maciejkusz.activehosted.com/proc.php" id="_form_3_" method="post" name="_form_3_" novalidate=""><input name="u" type="hidden" value="3"><input name="f" type="hidden" value="3"><input name="s" type="hidden"><input name="c" type="hidden" value="0"><input name="m" type="hidden" value="0"><input name="act" type="hidden" value="sub"><input name="v" type="hidden" value="2">
<h3>Newsletter</h3>
<div class="_form-content">
<p>Chcesz byÄ‡ powiadamiany o nowoÅ›ciach na tej stronie oraz innych moich&nbsp;projektach?</p>
<p>JeÅ›li tak, to zapisz siÄ™ poniÅ¼ej do&nbsp;newsletterâ€™a.</p>
<div class="input-group" id="basic-fullname-group"><span class="input-group-addon" id="basic-fullname">ImiÄ™</span> <input aria-describedby="basic-fullname" class="form-control" name="fullname" placeholder="Wpisz swoje imiÄ™" type="text"></div>
<div class="input-group" id="basic-lastname-group"><span class="input-group-addon" id="basic-lastname">Nazwisko</span> <input aria-describedby="basic-fullname" class="form-control" name="lastname" placeholder="Wpisz swoje nazwisko" type="text"></div>
<div class="input-group" id="basic-email-group"><span class="input-group-addon" id="basic-email">E-mail</span> <input aria-describedby="basic-email" class="form-control" name="email" placeholder="Wpisz swÃ³j e-mail" required="" type="text"></div>
<button class="_submit btn btn-danger" id="_form_3_submit" style="margin-left: auto; margin-right: auto; display: block;" type="submit">Zapisz siÄ™</button>
<div class="_clear-element"></div>
</div>
<div class="_form-thank-you" style="display:none;"></div>
<p style="font-size: 10px; margin-top: 5px;">Wszystkie podane przez Ciebie dane, bÄ™dÄ… przetwarzane zgodnie z <a href="../../pages/polityka-prywatnosci">politykÄ… prywatnoÅ›ci</a>.</p>
</form>
<script type="text/javascript">
window.cfields = [];
window._show_thank_you = function(id, message, trackcmp_url) {
  var form = document.getElementById('_form_' + id + '_'), thank_you = form.querySelector('._form-thank-you');
  form.querySelector('._form-content').style.display = 'none';
  thank_you.innerHTML = message;
  thank_you.style.display = 'block';
  if (typeof(trackcmp_url) != 'undefined' && trackcmp_url) {
    // Site tracking URL to use after inline form submission.
    _load_script(trackcmp_url);
  }
  if (typeof window._form_callback !== 'undefined') window._form_callback(id);
};
window._show_error = function(id, message, html) {
  var form = document.getElementById('_form_' + id + '_'), err = document.createElement('div'), button = form.querySelector('button'), old_error = form.querySelector('._form_error');
  if (old_error) old_error.parentNode.removeChild(old_error);
  err.innerHTML = message;
  err.className = '_error-inner _form_error _no_arrow';
  var wrapper = document.createElement('div');
  wrapper.className = '_form-inner';
  wrapper.appendChild(err);
  button.parentNode.insertBefore(wrapper, button);
  document.querySelector('[id^="_form"][id$="_submit"]').disabled = false;
  if (html) {
    var div = document.createElement('div');
    div.className = '_error-html';
    div.innerHTML = html;
    err.appendChild(div);
  }
};
window._load_script = function(url, callback) {
    var head = document.querySelector('head'), script = document.createElement('script'), r = false;
    script.type = 'text/javascript';
    script.charset = 'utf-8';
    script.src = url;
    if (callback) {
      script.onload = script.onreadystatechange = function() {
      if (!r && (!this.readyState || this.readyState == 'complete')) {
        r = true;
        callback();
        }
      };
    }
    head.appendChild(script);
};
(function() {
  if (window.location.search.search("excludeform") !== -1) return false;
  var getCookie = function(name) {
    var match = document.cookie.match(new RegExp('(^|; )' + name + '=([^;]+)'));
    return match ? match[2] : null;
  }
  var setCookie = function(name, value) {
    var now = new Date();
    var time = now.getTime();
    var expireTime = time + 1000 * 60 * 60 * 24 * 365;
    now.setTime(expireTime);
    document.cookie = name + '=' + value + '; expires=' + now + ';path=/';
  }
      var addEvent = function(element, event, func) {
    if (element.addEventListener) {
      element.addEventListener(event, func);
    } else {
      var oldFunc = element['on' + event];
      element['on' + event] = function() {
        oldFunc.apply(this, arguments);
        func.apply(this, arguments);
      };
    }
  }
  var _removed = false;
  var form_to_submit = document.getElementById('_form_3_');
  var allInputs = form_to_submit.querySelectorAll('input, select, textarea'), tooltips = [], submitted = false;

  var getUrlParam = function(name) {
    var regexStr = '[\?&]' + name + '=([^&#]*)';
    var results = new RegExp(regexStr, 'i').exec(window.location.href);
    return results != undefined ? decodeURIComponent(results[1]) : false;
  };

  for (var i = 0; i < allInputs.length; i++) {
    var regexStr = "field\[(\d+)\]";
    var results = new RegExp(regexStr).exec(allInputs[i].name);
    if (results != undefined) {
      allInputs[i].dataset.name = window.cfields[results[1]];
    } else {
      allInputs[i].dataset.name = allInputs[i].name;
    }
    var fieldVal = getUrlParam(allInputs[i].dataset.name);

    if (fieldVal) {
      if (allInputs[i].type == "radio" || allInputs[i].type == "checkbox") {
        if (allInputs[i].value == fieldVal) {
          allInputs[i].checked = true;
        }
      } else {
        allInputs[i].value = fieldVal;
      }
    }
  }

  var remove_tooltips = function() {
    for (var i = 0; i < tooltips.length; i++) {
      tooltips[i].tip.parentNode.removeChild(tooltips[i].tip);
    }
      tooltips = [];
  };
  var remove_tooltip = function(elem) {
    for (var i = 0; i < tooltips.length; i++) {
      if (tooltips[i].elem === elem) {
        tooltips[i].tip.parentNode.removeChild(tooltips[i].tip);
        tooltips.splice(i, 1);
        return;
      }
    }
  };
  var create_tooltip = function(elem, text) {
    var tooltip = document.createElement('label'), arrow = document.createElement('div'), inner = document.createElement('div'), new_tooltip = {};
    if (elem.type != 'radio' && elem.type != 'checkbox') {
      tooltip.className = 'label label-danger';
      tooltip.innerHTML = text;
      elem.parentNode.parentNode.insertBefore(tooltip, elem.parentNode);
    } else {
      tooltip.className = '_error-inner _no_arrow';
      tooltip.innerHTML = text;
      elem.parentNode.insertBefore(tooltip, elem);
      new_tooltip.no_arrow = true;
    }
    new_tooltip.tip = tooltip;
    new_tooltip.elem = elem;
    tooltips.push(new_tooltip);
    return new_tooltip;
  };
  var resize_tooltip = function(tooltip) {
    var rect = tooltip.elem.getBoundingClientRect();
    var doc = document.documentElement, scrollPosition = rect.top - ((window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0));
    if (scrollPosition < 40) {
      tooltip.tip.className = tooltip.tip.className.replace(/ ?(_above|_below) ?/g, '') + ' _below';
    } else {
      tooltip.tip.className = tooltip.tip.className.replace(/ ?(_above|_below) ?/g, '') + ' _above';
    }
  };
  var resize_tooltips = function() {
    if (_removed) return;
    for (var i = 0; i < tooltips.length; i++) {
      if (!tooltips[i].no_arrow) resize_tooltip(tooltips[i]);
    }
  };
  var validate_field = function(elem, remove) {
    var tooltip = null, value = elem.value, no_error = true;
    remove ? remove_tooltip(elem) : false;
    if (elem.type != 'checkbox') elem.className = elem.className.replace(/ ?_has_error ?/g, '');
    if (elem.getAttribute('required') !== null) {
      if (elem.type == 'radio' || (elem.type == 'checkbox' && /any/.test(elem.className))) {
        var elems = form_to_submit.elements[elem.name];
        if (!(elems instanceof NodeList || elems instanceof HTMLCollection) || elems.length <= 1) {
          no_error = elem.checked;
        }
        else {
          no_error = false;
          for (var i = 0; i < elems.length; i++) {
            if (elems[i].checked) no_error = true;
          }
        }
        if (!no_error) {
          tooltip = create_tooltip(elem, "Wybierz opcjÄ™.");
        }
      } else if (elem.type =='checkbox') {
        var elems = form_to_submit.elements[elem.name], found = false, err = [];
        no_error = true;
        for (var i = 0; i < elems.length; i++) {
          if (elems[i].getAttribute('required') === null) continue;
          if (!found && elems[i] !== elem) return true;
          found = true;
          elems[i].className = elems[i].className.replace(/ ?_has_error ?/g, '');
          if (!elems[i].checked) {
            no_error = false;
            elems[i].className = elems[i].className + ' _has_error';
            err.push("Zaznaczenie %s jest wymagane".replace("%s", elems[i].value));
          }
        }
        if (!no_error) {
          tooltip = create_tooltip(elem, err.join('<br/>'));
        }
      } else if (elem.tagName == '<span class="caps">SELECT</span>') {
        var selected = true;
        if (elem.multiple) {
          selected = false;
          for (var i = 0; i < elem.options.length; i++) {
            if (elem.options[i].selected) {
              selected = true;
              break;
            }
          }
        } else {
          for (var i = 0; i < elem.options.length; i++) {
            if (elem.options[i].selected && !elem.options[i].value) {
              selected = false;
            }
          }
        }
        if (!selected) {
          elem.className = elem.className + ' _has_error';
          no_error = false;
          tooltip = create_tooltip(elem, "Wybierz opcjÄ™.");
        }
      } else if (value === undefined || value === null || value === '') {
        elem.className = elem.className + ' _has_error';
        no_error = false;
        tooltip = create_tooltip(elem, "To pole jest wymagane.");
      }
    }
    if (no_error && elem.name == 'email') {
      if (!value.match(/^[\+_a-z0-9-'&=]+(\.[\+_a-z0-9-']+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,})$/i)) {
        elem.className = elem.className + ' _has_error';
        no_error = false;
        tooltip = create_tooltip(elem, "Wpisz poprawny adres e-mail.");
      }
    }
    if (no_error && /date_field/.test(elem.className)) {
      if (!value.match(/^\d\d\d\d-\d\d-\d\d$/)) {
        elem.className = elem.className + ' _has_error';
        no_error = false;
        tooltip = create_tooltip(elem, "Wpisz poprawnÄ… datÄ™.");
      }
    }
    tooltip ? resize_tooltip(tooltip) : false;
    return no_error;
  };
  var needs_validate = function(el) {
    return el.name == 'email' || el.getAttribute('required') !== null;
  };
  var validate_form = function(e) {
    var err = form_to_submit.querySelector('._form_error'), no_error = true;
    if (!submitted) {
      submitted = true;
      for (var i = 0, len = allInputs.length; i < len; i++) {
        var input = allInputs[i];
        if (needs_validate(input)) {
          if (input.type == 'text') {
            addEvent(input, 'blur', function() {
              this.value = this.value.trim();
              validate_field(this, true);
            });
            addEvent(input, 'input', function() {
              validate_field(this, true);
            });
          } else if (input.type == 'radio' || input.type == 'checkbox') {
            (function(el) {
              var radios = form_to_submit.elements[el.name];
              for (var i = 0; i < radios.length; i++) {
                addEvent(radios[i], 'click', function() {
                  validate_field(el, true);
                });
              }
            })(input);
          } else if (input.tagName == 'SELECT') {
            addEvent(input, 'change', function() {
              validate_field(this, true);
            });
          } else if (input.type == 'textarea'){
            addEvent(input, 'input', function() {
              validate_field(this, true);
            });
          }
        }
      }
    }
    remove_tooltips();
    for (var i = 0, len = allInputs.length; i < len; i++) {
      var elem = allInputs[i];
      if (needs_validate(elem)) {
        if (elem.tagName.toLowerCase() !== "select") {
          elem.value = elem.value.trim();
        }
        validate_field(elem) ? true : no_error = false;
      }
    }
    if (!no_error && e) {
      e.preventDefault();
    }
    resize_tooltips();
    return no_error;
  };
  addEvent(window, 'resize', resize_tooltips);
  addEvent(window, 'scroll', resize_tooltips);
  window._old_serialize = null;
  if (typeof serialize !== 'undefined') window._old_serialize = window.serialize;
  _load_script("//d3rxaij56vjege.cloudfront.net/form-serialize/0.3/serialize.min.js", function() {
    window._form_serialize = window.serialize;
    if (window._old_serialize) window.serialize = window._old_serialize;
  });
  var form_submit = function(e) {
    e.preventDefault();
    if (validate_form()) {
      // use this trick to get the submit button <span class="amp">&amp;</span> disable it using plain javascript
      document.querySelector('#_form_3_submit').disabled = true;
            var serialized = _form_serialize(document.getElementById('_form_3_'));
      var err = form_to_submit.querySelector('._form_error');
      err ? err.parentNode.removeChild(err) : false;
      _load_script('https://maciejkusz.activehosted.com/proc.php?' + serialized + '&jsonp=true');
    }
    return false;
  };aw
  addEvent(form_to_submit, 'submit', form_submit);
})();

</script></div>
<div class="sidebar-module sidebar-module-inset">
<h3>Linki</h3>
<ol class="list-unstyled">
<li><a href="../../pages/polityka-prywatnosci/">Polityka&nbsp;prywatnoÅ›ci</a></li>
<li><a href="../../pages/regulamin/">Regulamin</a></li>
</ol>
<ol class="list-unstyled icons">
<li><a class="fas fa-at" href="mailto:maciej@testerembyc.pl" target="_blank"></a></li>
<li><a class="fab fa-facebook" href="https://www.facebook.com/testerembyc/" target="_blank"></a></li>
<li><a class="fab fa-instagram" href="https://www.instagram.com/testerembyc/" target="_blank"></a></li>
<li><a class="fab fa-linkedin" href="https://www.linkedin.com/in/maciej-kusz/" target="_blank"></a></li>
<li><a class="fab fa-youtube" href="https://www.youtube.com/channel/UCm3xa7IkyYBFSZrisCBx53A" target="_blank"></a></li>
</ol>
</div>
</div>
<!--End of body content--></div>
</div>
<footer class="blog-footer" id="footer">Â© 2021 <span style="font-weight: bold; color: #ffffff;">Maciej Kusz</span> w oparciu o silnik <a href="https://getnikola.com/" rel="nofollow" target="_blank"><img src="../../images/nikola_logo.svg" style="max-height: 20px; max-width: 50px"></a> z wykorzystaniem <a href="https://pages.github.com/" rel="nofollow" target="_blank"><img src="../../images/githubpages_logo.svg" style="max-height: 15px; max-width: 80px;"></a></footer>
</div>
</div>
<script type="text/javascript">
/*
 * Bootstrap Cookie Alert by Wruczek
 * https://github.com/Wruczek/Bootstrap-Cookie-Alert
 * Released under MIT license
 */
(function () {
    "use strict";

    var cookieAlert = document.querySelector(".cookiealert");
    var acceptCookies = document.querySelector(".acceptcookies");

    if (!cookieAlert) {
       return;
    }


    // Show the alert if we cant find the "acceptCookies" cookie
    if (!getCookie("acceptCookies")) {
        cookieAlert.classList.add("show");
    } else {
        cookieAlert.classList.remove("show")
    }

    // When clicking on the agree button, create a 1 year
    // cookie to remember user's choice and close the banner
    acceptCookies.addEventListener("click", function () {
        setCookie("acceptCookies", true, 365);
        cookieAlert.classList.remove("show");
    });

    // Cookie functions from w3schools
    function setCookie(cname, cvalue, exdays) {
        var d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        var expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }

    function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) === ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) === 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }
})();
</script>
<script src="../../assets/js/jquery.min.js"></script>
<script src="../../assets/js/bootstrap.min.js"></script>
<script src="../../assets/js/baguetteBox.min.js"></script>
<script src="../../assets/js/fancydates.min.js"></script><!-- fancy dates -->
<script>

    moment.locale("pl");
    fancydates(0, "YYYY-MM-DD HH:mm");
</script><!-- end fancy dates -->
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
</script><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-143859058-1"></script>
<script>

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-143859058-1');
</script><!-- Load Facebook SDK for JavaScript -->
<div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      xfbml            : true,
      version          : 'v3.3'
    });
  };

  (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/pl_PL/sdk/xfbml.customerchat.js';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script><!-- Your customer chat code -->
<div attribution="setup_tool" class="fb-customerchat" logged_in_greeting="Witaj! JeÅ›li chcesz dowiedzieÄ‡ siÄ™ czegoÅ› wiÄ™cej, to zapraszam do rozmowy ;)" logged_out_greeting="Witaj! JeÅ›li chcesz dowiedzieÄ‡ siÄ™ czegoÅ› wiÄ™cej, to zapraszam do rozmowy ;)" page_id="391052181505294" theme_color="#337ab7"></div>
<!-- Facebook Pixel Code -->
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '444619046317574');
  fbq('track', 'PageView');
</script><noscript><img alt="Facebook Pixel" height="1" src="https://www.facebook.com/tr?id=444619046317574&amp;ev=PageView&amp;noscript=1" style="display:none" width="1"></noscript> <!-- End Facebook Pixel Code -->
</body>
</html>
