<!DOCTYPE html>
<html class="no-js" lang="pl">
<head>
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1" name="viewport">
<meta content="Potęgi Pythona ciąg dalszy" name="description">
<meta content="Maciej 'maQ' Kusz" name="author">
<link href="https://testerembyc.pl/posts/jeszcze-mniejszy-framework-do-testow-w-pythonie/" rel="canonical">
<link href="../plany-vs-rzeczywistosc/" rel="prev">
<link href="../najmniejszy-framework-do-testow-w-pythonie/" rel="next">
<link href="../../feed_rss_created.xml" rel="alternate" title="Kanał RSS" type="application/rss+xml">
<link href="../../feed_rss_updated.xml" rel="alternate" title="Kanał RSS zaktualizowanych treści" type="application/rss+xml">
<link href="../../assets/images/icon.svg" rel="icon">
<meta content="mkdocs-1.5.3, mkdocs-material-9.4.5" name="generator">
<title>
Jeszcze mniejszy framework do testów w Pythonie - TesteremByc.pl
</title>
<link href="../../assets/stylesheets/main.6a10b989.min.css" rel="stylesheet">
<link href="../../assets/stylesheets/palette.356b1318.min.css" rel="stylesheet">
<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CLato:400,400i,700,700i&amp;display=fallback" rel="stylesheet">
<style>:root{--md-text-font:"Roboto";--md-code-font:"Lato"}</style>
<link href="../../assets/stylesheets/testerembyc.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
<link href="../../assets/stylesheets/obsidian.min.css" rel="stylesheet">
<link href="../../assets/stylesheets/obsidian.min.css.map" rel="stylesheet">
<link href="../../assets/stylesheets/blog.min.css" rel="stylesheet">
<link href="../../assets/stylesheets/blog.min.css.map" rel="stylesheet">
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">
function __md_analytics(){function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","G-L9Q1L6NPGD"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&a("event","search",{search_term:this.value})}),document$.subscribe(function(){var t=document.forms.feedback;if(void 0!==t)for(var e of t.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault(),a("event","feedback",{page:document.location.pathname,data:e=this.getAttribute("data-md-value")}),t.firstElementChild.disabled=!0,(e=t.querySelector(".md-feedback__note [data-md-value='"+e+"']"))&&(e.hidden=!1)}),t.hidden=!1}),location$.subscribe(function(e){a("config","G-L9Q1L6NPGD",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-L9Q1L6NPGD",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}
</script>
<script>var consent;"undefined"!=typeof __md_analytics&&(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
<link href="https://testerembyc.pl/feed_rss_created.xml" rel="alternate" title="testerembyc.pl (w kolejności utworzenia)" type="application/rss+xml">
<link href="https://testerembyc.pl/feed_rss_updated.xml" rel="alternate" title="testerembyc.pl (w kolejności aktualizacji)" type="application/rss+xml">
<meta content="article" property="og:type">
<meta content="Jeszcze mniejszy framework do testów w Pythonie" property="og:title">
<meta content="Potęgi Pythona ciąg dalszy" property="og:description">
<meta content="TesteremByc.pl" property="og:site_name">
<meta content="pl_PL" property="og:locale">
<meta content="https://testerembyc.pl/posts/jeszcze-mniejszy-framework-do-testow-w-pythonie/" property="og:url">
<meta content="https://testerembyc.pl/images/posts/2021/jeszcze-mniejszy-framework-do-testow-w-pythonie_social.jpg" property="og:image">
<meta content="summary_large_image" property="twitter:card">
<meta content="Jeszcze mniejszy framework do testów w Pythonie" property="twitter:title">
<meta content="Potęgi Pythona ciąg dalszy" property="twitter:description">
<meta content="https://testerembyc.pl/images/posts/2021/jeszcze-mniejszy-framework-do-testow-w-pythonie_social.jpg" property="twitter:image">
</head>
<body data-md-color-accent="red" data-md-color-primary="black" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input type="checkbox" class="md-toggle" id="__drawer" autocomplete="off" data-md-toggle="drawer">
<input type="checkbox" class="md-toggle" id="__search" autocomplete="off" data-md-toggle="search">
<label class="md-overlay" for="__drawer">
</label>
<div data-md-component="skip">
<a href="#gdzie-skonczylismy" class="md-skip">
Przejdź do treści
</a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav class="md-grid md-header__inner" aria-label="Nagłówek">
<a href="https://testerembyc.pl" class="md-header__button md-logo" title="TesteremByc.pl" aria-label="TesteremByc.pl" data-md-component="logo">
<img src="../../assets/images/logo.svg" alt="logo">
</a>
<label class="md-icon md-header__button" for="__drawer">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<svg viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" height="20mm" id="svg1039" inkscape:version="0.92.4 (f8dce91, 2019-08-02)" sodipodi:docname="testerembyc_icon.svg" version="1.1" width="20mm" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs id="defs1033">
<radialgradient cx="64.326332" cy="96.215584" fx="64.326332" fy="96.215584" gradienttransform="matrix(0,-0.98175075,0.77989777,0,19.37179,182.16642)" gradientunits="userSpaceOnUse" id="radialGradient919" inkscape:collect="always" r="7.0193777" xlink:href="#linearGradient5689">
</radialgradient>
<lineargradient id="linearGradient5689" inkscape:collect="always">
<stop id="stop5685" offset="0" style="stop-color:#fff;stop-opacity:1">
</stop>
<stop id="stop5687" offset="1" style="stop-color:#fff;stop-opacity:0">
</stop>
</lineargradient>
</defs>
<sodipodi:namedview bordercolor="#666666" borderopacity="1.0" id="base" inkscape:current-layer="layer1" inkscape:cx="-28.991432" inkscape:cy="26.808653" inkscape:document-units="mm" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:snap-page="true" inkscape:window-height="1025" inkscape:window-maximized="1" inkscape:window-width="1920" inkscape:window-x="0" inkscape:window-y="1107" inkscape:zoom="5.6" pagecolor="#ffffff" showgrid="false">
</sodipodi:namedview>
<metadata id="metadata1036">
<rdf:rdf>
<cc:work rdf:about="">
<dc:format>
image/svg+xml
</dc:format>
<dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage">
</dc:type>
<dc:title>
</dc:title>
</cc:work>
</rdf:rdf>
</metadata>
<g id="layer1" transform="translate(0,-277)" inkscape:groupmode="layer" inkscape:label="Layer 1">
<g id="g4656" transform="matrix(1.0199441,0,0,1.0199441,-0.69802429,-29.320044)" inkscape:export-filename="/home/maq/git/testerembyc/images/icon_16x16.png" inkscape:export-xdpi="20.73" inkscape:export-ydpi="20.73">
<rect height="19.608906" id="rect855" style="opacity:1;fill:none;fill-opacity:1;stroke:none;stroke-width:.38428652;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="19.608906" x="0.68438643" y="300.33023">
</rect>
<g id="g917" transform="matrix(0.66790733,0,0,0.66790733,-52.484256,230.83754)" inkscape:export-filename="/home/maq/testerembyc_white.png" inkscape:export-xdpi="309.29999" inkscape:export-ydpi="309.29999">
<path 
d="m 87.851056,107.65028 c 0,0 1.477443,-0.34242 1.477443,-0.34242 0,0 1.573071,-0.36459 1.573071,-0.36459 0,0 1.678296,-0.38898 1.678296,-0.38898 0,0 1.794438,-0.41589 1.794438,-0.41589 3.989108,-0.92455 3.989108,-0.92455 6.214756,2.02857 0,0 1.17854,1.56374 1.17854,1.56374 0,0 1.22587,1.62658 1.22587,1.62658 0,0 1.27611,1.69322 1.27611,1.69322 0,0 1.3295,1.76407 1.3295,1.76407 2.83318,3.75924 2.83318,3.75924 0,7.51838 0,0 -1.3295,1.76402 -1.3295,1.76402 0,0 -1.27611,1.69319 -1.27611,1.69319 0,0 -1.22587,1.6265 -1.22587,1.6265 0,0 -1.17854,1.56373 -1.17854,1.56373 -2.225638,2.95304 -2.225638,2.95304 -6.214787,2.02849 0,0 -1.794449,-0.41588 -1.794449,-0.41588 0,0 -1.678305,-0.38898 -1.678305,-0.38898 0,0 -1.573079,-0.36457 -1.573079,-0.36457 0,0 -1.477453,-0.34243 -1.477453,-0.34243 -2.700903,-0.62597 -2.700903,-0.62597 -3.938507,-3.41544 0,0 -0.593298,-1.33726 -0.593298,-1.33726 0,0 -0.577221,-1.30103 -0.577221,-1.30103 0,0 -0.561786,-1.26623 -0.561786,-1.26623 0,0 -0.546971,-1.23283 -0.546971,-1.23283 -1.051744,-2.37058 -1.051744,-2.37058 1.8e-5,-4.74115 0,0 0.546976,-1.23283 0.546976,-1.23283 0,0 0.5618,-1.26624 0.5618,-1.26624 0,0 0.577233,-1.30102 0.577233,-1.30102 0,0 0.593307,-1.33726 0.593307,-1.33726 1.237628,-2.78947 1.237628,-2.78947 3.938518,-3.41546 0,0 0,0 0,0" 
id="path857" inkscape:connector-curvature="0" style="fill:none;fill-opacity:1;stroke:#fff;stroke-width:2.09781361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" sodipodi:nodetypes="ccccccccccccccccccccccccccccccc">
</path>
<path 
d="m 88.15101,108.1596 c 0,0 1.408555,-0.32646 1.408555,-0.32646 0,0 1.499724,-0.34759 1.499724,-0.34759 0,0 1.600043,-0.37084 1.600043,-0.37084 0,0 1.71077,-0.3965 1.71077,-0.3965 3.80311,-0.88144 3.80311,-0.88144 5.924978,1.93398 0,0 1.12359,1.49084 1.12359,1.49084 0,0 1.16871,1.55073 1.16871,1.55073 0,0 1.21661,1.61427 1.21661,1.61427 0,0 1.26752,1.68182 1.26752,1.68182 2.70108,3.58396 2.70108,3.58396 0,7.16783 0,0 -1.26752,1.68177 -1.26752,1.68177 0,0 -1.21661,1.61424 -1.21661,1.61424 0,0 -1.16871,1.55067 -1.16871,1.55067 0,0 -1.12359,1.49081 -1.12359,1.49081 -2.121858,2.81535 -2.121858,2.81535 -5.925008,1.93391 0,0 -1.71078,-0.39649 -1.71078,-0.39649 0,0 -1.600051,-0.37084 -1.600051,-0.37084 0,0 -1.499733,-0.34758 -1.499733,-0.34758 0,0 -1.408564,-0.32646 -1.408564,-0.32646 -2.574969,-0.59678 -2.574969,-0.59678 -3.754868,-3.25619 0,0 -0.565635,-1.27491 -0.565635,-1.27491 0,0 -0.550307,-1.24037 -0.550307,-1.24037 0,0 -0.535592,-1.20719 -0.535592,-1.20719 0,0 -0.521467,-1.17534 -0.521467,-1.17534 -1.002706,-2.26005 -1.002706,-2.26005 1.7e-5,-4.52009 0,0 0.521472,-1.17534 0.521472,-1.17534 0,0 0.535605,-1.2072 0.535605,-1.2072 0,0 0.550319,-1.24036 0.550319,-1.24036 0,0 0.565643,-1.27491 0.565643,-1.27491 1.179922,-2.65941 1.179922,-2.65941 3.754879,-3.25621 0,0 0,0 0,0" 
id="path859" inkscape:connector-curvature="0" style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" sodipodi:nodetypes="ccccccccccccccccccccccccccccccc">
</path>
<g id="g865" transform="matrix(0,-1.0683229,1.0683229,0,-7.8341971,188.27027)" style="stroke:#fff;stroke-opacity:1">
<path d="m 70.856264,97.004792 c -0.604698,0 -1.21801,-0.353822 -1.695896,-0.971837 -0.466563,-0.603373 -0.757776,-1.399241 -0.816623,-2.202727 -0.116614,-1.59225 0.69743,-2.808629 1.811498,-2.808629 1.114067,0 2.213145,1.216379 2.469643,2.808629 0.129435,0.803486 0.02472,1.599354 -0.300457,2.202727 -0.333066,0.618015 -0.863467,0.971837 -1.468165,0.971837 0,0 0,0 0,0" id="path861" inkscape:connector-curvature="0" style="fill:#fff;fill-opacity:1;stroke:#fff;stroke-width:.5;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path 
d="m 274.5305,359.25358 c 0.22343,-1.48081 0.20715,-3.05438 -0.042,-4.61933 -0.25147,-1.53843 -0.72233,-3.03417 -1.37866,-4.39716 -0.002,10e-4 -0.004,0.002 -0.006,0.003 -0.0674,0.0265 -0.13673,0.0497 -0.20772,0.0693 -0.0711,0.0195 -0.1438,0.0354 -0.21775,0.0478 -0.0732,0.0123 -0.14758,0.021 -0.22282,0.0262 -0.0538,0.003 -0.10801,0.005 -0.1625,0.005 -0.0769,3e-5 -0.15422,-0.004 -0.23179,-0.0108 -0.0772,-0.007 -0.15457,-0.018 -0.23173,-0.0324 -0.0776,-0.0145 -0.15489,-0.0325 -0.2316,-0.054 -0.0762,-0.0212 -0.15171,-0.0459 -0.22626,-0.0739 -0.0748,-0.028 -0.14849,-0.0594 -0.22086,-0.0939 -0.0723,-0.0348 -0.14305,-0.0728 -0.21213,-0.11375 -0.069,-0.0406 -0.13615,-0.0842 -0.20128,-0.13048 -0.0651,-0.0464 -0.12814,-0.0955 -0.18877,-0.14714 -0.0607,-0.0517 -0.11886,-0.10581 -0.17438,-0.16218 -0.0555,-0.0564 -0.10833,-0.11507 -0.15816,-0.17562 -0.0497,-0.0602 -0.0964,-0.12227 -0.1399,-0.18594 -0.0439,-0.0639 -0.0845,-0.1294 -0.12167,-0.19618 -0.0366,-0.0662 -0.0698,-0.13354 -0.0996,-0.20183 -0.0301,-0.0689 -0.0566,-0.13859 -0.0795,-0.20892 -0.0227,-0.0701 -0.0418,-0.14064 -0.0571,-0.21146 -0.011,-0.0497 -0.0202,-0.0995 -0.0275,-0.14922 -0.009,-0.0709 -0.015,-0.1417 -0.0168,-0.2121 -0.002,-0.0701 -7.4e-4,-0.13968 0.005,-0.20859 0.005,-0.0692 0.0135,-0.13769 0.0259,-0.20512 0.0133,-0.067 0.0303,-0.13276 0.051,-0.19718 0.0201,-0.0646 0.0439,-0.1278 0.0711,-0.1893 0.0276,-0.0613 0.0588,-0.12091 0.0933,-0.17849 0.0342,-0.0575 0.0717,-0.11302 0.1124,-0.16627 0.0408,-0.0532 0.0848,-0.10419 0.1317,-0.15264 0.047,-0.0485 0.0969,-0.0944 0.14959,-0.13759 0.0522,-0.0432 0.10714,-0.0836 0.1645,-0.12113 -1.6208,-1.58942 -3.50199,-2.45176 -5.32508,-2.45281 -4.21037,3e-4 -7.28682,4.59738 -6.84626,10.615 0.47168,6.43832 4.73661,11.99758 9.4956,11.99797 2.06108,-0.001 3.90339,-1.09203 5.17273,-3.04377 -0.0225,-0.0127 -0.0448,-0.0258 -0.067,-0.0391 -0.0746,-0.047 -0.14741,-0.0974 -0.21799,-0.1509 -0.0706,-0.0537 -0.13891,-0.11045 -0.2047,-0.17014 -0.0658,-0.0598 -0.12904,-0.12234 -0.18938,-0.18751 -0.0604,-0.0652 -0.1178,-0.13301 -0.17207,-0.20301 -0.0541,-0.0696 -0.10501,-0.14132 -0.15253,-0.21491 -0.0477,-0.0733 -0.092,-0.14839 -0.13278,-0.22497 -0.0402,-0.077 -0.0768,-0.15545 -0.10956,-0.23494 -0.0331,-0.0796 -0.0624,-0.16012 -0.0878,-0.24136 -0.0251,-0.0803 -0.0463,-0.16128 -0.0635,-0.24249 -0.0125,-0.058 -0.023,-0.11601 -0.0315,-0.17407 -0.0109,-0.0819 -0.0177,-0.16362 -0.0204,-0.24491 -0.003,-0.0809 -0.002,-0.16127 0.003,-0.24082 0.004,-0.0799 0.0129,-0.15894 0.0255,-0.23677 0.0135,-0.0773 0.031,-0.15322 0.0525,-0.22756 0.0209,-0.0746 0.0457,-0.14747 0.0743,-0.21843 0.029,-0.0708 0.0618,-0.1395 0.0982,-0.20593 0.0361,-0.0664 0.0757,-0.13037 0.11884,-0.1918 0.0432,-0.0614 0.0899,-0.12017 0.1397,-0.17605 0.0499,-0.0559 0.10301,-0.10886 0.15907,-0.15867 0.0556,-0.0498 0.11409,-0.0964 0.17525,-0.13969 0.0619,-0.0432 0.12648,-0.0829 0.19341,-0.11908 0.066,-0.0365 0.13437,-0.0693 0.20473,-0.0985 0.0709,-0.0287 0.14381,-0.0536 0.21834,-0.0747 0.074,-0.0214 0.14969,-0.0389 0.22663,-0.0526 0.0773,-0.0136 0.1558,-0.0232 0.23523,-0.0288 0.0563,-0.004 0.11301,-0.007 0.17006,-0.007 0.0807,5.1e-4 0.1619,0.005 0.24336,0.0135 0.0811,0.008 0.16229,0.0198 0.2434,0.0356 0.0809,0.0154 0.1616,0.0346 0.24179,0.0577 0.0608,0.0188 0.12121,0.0398 0.18111,0.0629 0,0 6.4e-4,-5e-5 6.4e-4,-5e-5" 
id="path863" inkscape:connector-curvature="0" style="fill:#000;fill-opacity:1;stroke:#fff;stroke-width:1.88976383;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="scale(0.26458333)">
</path>
</g>
<path d="m 98.793261,119.54956 c 0,4.47863 -3.057012,7.61681 -6.402021,7.07794 -2.952131,-0.47556 -5.102395,-3.71557 -5.102396,-7.28502 0,-3.56947 2.150264,-6.73205 5.102396,-7.10133 1.552629,-0.19424 3.134515,0.41299 4.364123,1.74381 1.287567,1.39354 2.037898,3.41389 2.037898,5.5646 0,0 0,0 0,0" id="path867" inkscape:connector-curvature="0" style="fill:red;fill-opacity:1;stroke:#fff;stroke-width:.51578605;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 91.974609,118.38867 -3.845703,2.08008 c -0.713944,0.0906 -1.309304,0.40016 -1.773437,0.71875 -0.563803,0.387 -0.976563,0.78125 -0.976563,0.78125 a 0.91369383,0.91369383 0 1 0 1.257813,1.32422 c 0,0 0.321689,-0.30427 0.751953,-0.59961 0.430263,-0.29534 0.984934,-0.48973 1.072266,-0.48438 l 0.259765,0.0176 3.224609,-1.74609 3.765626,2.17383 0.214843,0.0137 c 0.346954,0.0213 1.311359,0.47614 2.048828,0.98437 0.73747,0.50824 1.302735,1.00586 1.302735,1.00586 a 0.91369383,0.91369383 0 1 0 1.208986,-1.36914 c 0,0 -0.635878,-0.56456 -1.474611,-1.14258 -0.739607,-0.5097 -1.616616,-1.01758 -2.595703,-1.19336 z" id="path869" inkscape:connector-curvature="0" 
style="color:#000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000;solid-opacity:1;vector-effect:none;fill:#000;fill-opacity:1;fill-rule:nonzero;stroke:#fff;stroke-width:.30000001;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate">
</path>
<path d="m 85.550781,118.40625 a 0.91369383,0.91369383 0 1 0 -0.03125,1.82617 l 15.207029,0.27344 a 0.91369383,0.91369383 0 1 0 0.0332,-1.82617 z" id="path871" inkscape:connector-curvature="0" 
style="color:#000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000;solid-opacity:1;vector-effect:none;fill:#000;fill-opacity:1;fill-rule:nonzero;stroke:#fff;stroke-width:.30000001;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate">
</path>
<g id="g877" transform="matrix(0,-0.98175075,0.98175075,0,0.30472683,182.16642)">
<path d="m 70.856264,97.004792 c -0.604698,0 -1.21801,-0.353822 -1.695896,-0.971837 -0.466563,-0.603373 -0.757776,-1.399241 -0.816623,-2.202727 -0.116614,-1.59225 0.69743,-2.808629 1.811498,-2.808629 1.114067,0 2.213145,1.216379 2.469643,2.808629 0.129435,0.803486 0.02472,1.599354 -0.300457,2.202727 -0.333066,0.618015 -0.863467,0.971837 -1.468165,0.971837 0,0 0,0 0,0" id="path873" inkscape:connector-curvature="0" style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.5;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path 
d="m 274.5305,359.25358 c 0.22343,-1.48081 0.20715,-3.05438 -0.042,-4.61933 -0.25147,-1.53843 -0.72233,-3.03417 -1.37866,-4.39716 -0.002,10e-4 -0.004,0.002 -0.006,0.003 -0.0674,0.0265 -0.13673,0.0497 -0.20772,0.0693 -0.0711,0.0195 -0.1438,0.0354 -0.21775,0.0478 -0.0732,0.0123 -0.14758,0.021 -0.22282,0.0262 -0.0538,0.003 -0.10801,0.005 -0.1625,0.005 -0.0769,3e-5 -0.15422,-0.004 -0.23179,-0.0108 -0.0772,-0.007 -0.15457,-0.018 -0.23173,-0.0324 -0.0776,-0.0145 -0.15489,-0.0325 -0.2316,-0.054 -0.0762,-0.0212 -0.15171,-0.0459 -0.22626,-0.0739 -0.0748,-0.028 -0.14849,-0.0594 -0.22086,-0.0939 -0.0723,-0.0348 -0.14305,-0.0728 -0.21213,-0.11375 -0.069,-0.0406 -0.13615,-0.0842 -0.20128,-0.13048 -0.0651,-0.0464 -0.12814,-0.0955 -0.18877,-0.14714 -0.0607,-0.0517 -0.11886,-0.10581 -0.17438,-0.16218 -0.0555,-0.0564 -0.10833,-0.11507 -0.15816,-0.17562 -0.0497,-0.0602 -0.0964,-0.12227 -0.1399,-0.18594 -0.0439,-0.0639 -0.0845,-0.1294 -0.12167,-0.19618 -0.0366,-0.0662 -0.0698,-0.13354 -0.0996,-0.20183 -0.0301,-0.0689 -0.0566,-0.13859 -0.0795,-0.20892 -0.0227,-0.0701 -0.0418,-0.14064 -0.0571,-0.21146 -0.011,-0.0497 -0.0202,-0.0995 -0.0275,-0.14922 -0.009,-0.0709 -0.015,-0.1417 -0.0168,-0.2121 -0.002,-0.0701 -7.4e-4,-0.13968 0.005,-0.20859 0.005,-0.0692 0.0135,-0.13769 0.0259,-0.20512 0.0133,-0.067 0.0303,-0.13276 0.051,-0.19718 0.0201,-0.0646 0.0439,-0.1278 0.0711,-0.1893 0.0276,-0.0613 0.0588,-0.12091 0.0933,-0.17849 0.0342,-0.0575 0.0717,-0.11302 0.1124,-0.16627 0.0408,-0.0532 0.0848,-0.10419 0.1317,-0.15264 0.047,-0.0485 0.0969,-0.0944 0.14959,-0.13759 0.0522,-0.0432 0.10714,-0.0836 0.1645,-0.12113 -1.6208,-1.58942 -3.50199,-2.45176 -5.32508,-2.45281 -4.21037,3e-4 -7.28682,4.59738 -6.84626,10.615 0.47168,6.43832 4.73661,11.99758 9.4956,11.99797 2.06108,-0.001 3.90339,-1.09203 5.17273,-3.04377 -0.0225,-0.0127 -0.0448,-0.0258 -0.067,-0.0391 -0.0746,-0.047 -0.14741,-0.0974 -0.21799,-0.1509 -0.0706,-0.0537 -0.13891,-0.11045 -0.2047,-0.17014 -0.0658,-0.0598 -0.12904,-0.12234 -0.18938,-0.18751 -0.0604,-0.0652 -0.1178,-0.13301 -0.17207,-0.20301 -0.0541,-0.0696 -0.10501,-0.14132 -0.15253,-0.21491 -0.0477,-0.0733 -0.092,-0.14839 -0.13278,-0.22497 -0.0402,-0.077 -0.0768,-0.15545 -0.10956,-0.23494 -0.0331,-0.0796 -0.0624,-0.16012 -0.0878,-0.24136 -0.0251,-0.0803 -0.0463,-0.16128 -0.0635,-0.24249 -0.0125,-0.058 -0.023,-0.11601 -0.0315,-0.17407 -0.0109,-0.0819 -0.0177,-0.16362 -0.0204,-0.24491 -0.003,-0.0809 -0.002,-0.16127 0.003,-0.24082 0.004,-0.0799 0.0129,-0.15894 0.0255,-0.23677 0.0135,-0.0773 0.031,-0.15322 0.0525,-0.22756 0.0209,-0.0746 0.0457,-0.14747 0.0743,-0.21843 0.029,-0.0708 0.0618,-0.1395 0.0982,-0.20593 0.0361,-0.0664 0.0757,-0.13037 0.11884,-0.1918 0.0432,-0.0614 0.0899,-0.12017 0.1397,-0.17605 0.0499,-0.0559 0.10301,-0.10886 0.15907,-0.15867 0.0556,-0.0498 0.11409,-0.0964 0.17525,-0.13969 0.0619,-0.0432 0.12648,-0.0829 0.19341,-0.11908 0.066,-0.0365 0.13437,-0.0693 0.20473,-0.0985 0.0709,-0.0287 0.14381,-0.0536 0.21834,-0.0747 0.074,-0.0214 0.14969,-0.0389 0.22663,-0.0526 0.0773,-0.0136 0.1558,-0.0232 0.23523,-0.0288 0.0563,-0.004 0.11301,-0.007 0.17006,-0.007 0.0807,5.1e-4 0.1619,0.005 0.24336,0.0135 0.0811,0.008 0.16229,0.0198 0.2434,0.0356 0.0809,0.0154 0.1616,0.0346 0.24179,0.0577 0.0608,0.0188 0.12121,0.0398 0.18111,0.0629 0,0 6.4e-4,-5e-5 6.4e-4,-5e-5" 
id="path875" inkscape:connector-curvature="0" style="fill:#000;fill-opacity:1;stroke:none;stroke-width:1.88976383;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="scale(0.26458333)">
</path>
</g>
<path d="m 100.31641,114.21289 a 0.91369383,0.91369383 0 0 0 -0.556644,0.22461 c 0,0 -0.563861,0.47703 -1.298828,0.95703 -0.734968,0.48001 -1.690091,0.89555 -2.035157,0.9043 l -0.21875,0.006 -3.765625,2.03711 -3.224609,-1.86133 -0.255859,0.008 c -0.08529,0.002 -0.652422,-0.21608 -1.085938,-0.5293 -0.433516,-0.31321 -0.757813,-0.63086 -0.757812,-0.63086 a 0.91369383,0.91369383 0 1 0 -1.283204,1.30079 c 0,0 0.410252,0.40562 0.970704,0.81054 0.462404,0.33409 1.051544,0.66509 1.765624,0.7793 l 3.841797,2.2168 4.455079,-2.41016 c 0.976091,-0.14451 1.855476,-0.6194 2.59375,-1.10156 0.841412,-0.54952 1.480472,-1.09375 1.480472,-1.09375 a 0.91369383,0.91369383 0 0 0 -0.625,-1.61719 z" id="path879" inkscape:connector-curvature="0" 
style="color:#000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000;solid-opacity:1;vector-effect:none;fill:#000;fill-opacity:1;fill-rule:nonzero;stroke:#fff;stroke-width:.30000001;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate">
</path>
<path d="m 98.515449,119.54459 c 0,4.26232 -2.909369,7.24894 -6.092825,6.7361 -2.809553,-0.4526 -4.855967,-3.53612 -4.855968,-6.93318 0,-3.39707 2.046414,-6.40692 4.855968,-6.75837 1.477642,-0.18485 2.983128,0.39305 4.153351,1.6596 1.225381,1.32624 1.939474,3.24901 1.939474,5.29585 0,0 0,0 0,0" id="path881" inkscape:connector-curvature="0" style="fill:red;fill-opacity:1;stroke:#000;stroke-width:.49087536;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 98.515449,119.54459 c 0,4.26232 -2.909369,7.24894 -6.092825,6.7361 -2.809553,-0.4526 -4.855967,-3.53612 -4.855968,-6.93318 0,-3.39707 2.046414,-6.40692 4.855968,-6.75837 1.477642,-0.18485 2.983128,0.39305 4.153351,1.6596 1.225381,1.32624 1.939474,3.24901 1.939474,5.29585 0,0 0,0 0,0" id="path883" inkscape:connector-curvature="0" style="opacity:.43300003;fill:url(#radialGradient919);fill-opacity:1;stroke:none;stroke-width:.49087536;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 89.680523,115.36153 c -0.167669,0.0846 -0.287037,0.25697 -0.314836,0.45345 0,0 0.34682,-0.17217 0.34682,-0.17217 0,0 0.188499,0.0475 0.188499,0.0475 0,0 0.104198,0.2821 0.104198,0.2821 0,0 -0.101376,0.19036 -0.101376,0.19036 0,0 -0.349112,0.16857 -0.349112,0.16857 0.0966,0.0777 0.217551,0.1135 0.340951,0.10063 0,0 0.370346,0.39924 0.370346,0.39924 0.08512,0.0971 0.214527,0.13491 0.338077,0.0982 0.124217,-0.0369 0.222641,-0.14323 0.256408,-0.27748 0.03382,-0.13445 -0.0027,-0.27489 -0.09519,-0.36612 0,0 -0.377331,-0.39714 -0.377331,-0.39714 0,0 -1.31e-4,-3.6e-4 -1.31e-4,-3.6e-4 0.0069,-0.0875 -0.0049,-0.17433 -0.03443,-0.25377 -0.05112,-0.13697 -0.151373,-0.24254 -0.278251,-0.29351 -0.126173,-0.0507 -0.268137,-0.0431 -0.394651,0.0205 0,0 7e-6,0 7e-6,0" id="path885" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 95.519914,114.94562 c 0.215606,0.0674 0.37121,0.24438 0.407704,0.46514 0,0 -0.44844,-0.14245 -0.44844,-0.14245 0,0 -0.23764,0.0822 -0.23764,0.0822 0,0 -0.129569,0.32944 -0.129569,0.32944 0,0 0.126045,0.19904 0.126045,0.19904 0,0 0.443353,0.14686 0.443353,0.14686 -0.124144,0.0995 -0.277986,0.1537 -0.433154,0.15311 0,0 -0.455124,0.47955 -0.455124,0.47955 -0.10242,0.1138 -0.256621,0.16554 -0.402153,0.13557 -0.144686,-0.0298 -0.258185,-0.13571 -0.296894,-0.27645 -0.03865,-0.14052 0.0031,-0.29438 0.109418,-0.40217 0,0 0.443112,-0.47645 0.443112,-0.47645 0,0 1.57e-4,-4e-4 1.57e-4,-4e-4 -0.0082,-0.0947 0.0059,-0.19125 0.0412,-0.28243 0.0614,-0.15783 0.182663,-0.2898 0.337741,-0.36694 0.156038,-0.0776 0.333813,-0.0935 0.49425,-0.0436 0,0 -3e-6,0 -3e-6,0" id="path887" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 96.480903,117.66908 c 0.223836,0.0804 0.385402,0.26925 0.423297,0.4962 0,0 -0.465583,-0.16965 -0.465583,-0.16965 0,0 -0.246662,0.0708 -0.246662,0.0708 0,0 -0.13447,0.32853 -0.13447,0.32853 0,0 0.130813,0.20968 0.130813,0.20968 0,0 0.460218,0.17394 0.460218,0.17394 -0.128881,0.0946 -0.288579,0.14135 -0.449633,0.13222 0,0 -0.472284,0.46347 -0.472284,0.46347 -0.106258,0.11027 -0.266227,0.15447 -0.417186,0.11593 -0.150067,-0.0383 -0.267775,-0.15244 -0.307916,-0.2979 -0.04008,-0.14522 0.0033,-0.2996 0.113479,-0.40353 0,0 0.459615,-0.46097 0.459615,-0.46097 0,0 1.63e-4,-4e-4 1.63e-4,-4e-4 -0.0085,-0.0969 0.0061,-0.19447 0.04274,-0.28542 0.0637,-0.1574 0.189516,-0.28522 0.350432,-0.35535 0.161931,-0.0706 0.346443,-0.0771 0.51298,-0.0175 0,0 -3e-6,0 -3e-6,0" id="path889" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 94.593863,119.87109 c 0.207823,0.0866 0.35779,0.27514 0.392959,0.49533 0,0 -0.432226,-0.18237 -0.432226,-0.18237 0,0 -0.229104,0.0582 -0.229104,0.0582 0,0 -0.124933,0.31122 -0.124933,0.31122 0,0 0.121534,0.20738 0.121534,0.20738 0,0 0.427398,0.18613 0.427398,0.18613 -0.119663,0.0859 -0.267967,0.12463 -0.417565,0.10938 0,0 -0.438882,0.42793 -0.438882,0.42793 -0.09878,0.1021 -0.247528,0.13837 -0.387928,0.0952 -0.139599,-0.0429 -0.249117,-0.15772 -0.286468,-0.29964 -0.03729,-0.14169 0.003,-0.28888 0.105595,-0.3847 0,0 0.427481,-0.42602 0.427481,-0.42602 0,0 1.51e-4,-3.8e-4 1.51e-4,-3.8e-4 -0.0079,-0.0937 0.0057,-0.18727 0.03974,-0.27347 0.05922,-0.14918 0.176175,-0.26727 0.325727,-0.32831 0.150461,-0.0614 0.321861,-0.0601 0.476527,0.004 0,0 -4e-6,0 -4e-6,0" id="path891" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 88.953111,117.8003 c -0.162316,0.0743 -0.277887,0.23757 -0.304803,0.42943 0,0 0.335749,-0.15099 0.335749,-0.15099 0,0 0.182458,0.0567 0.182458,0.0567 0,0 0.100844,0.28305 0.100844,0.28305 0,0 -0.09811,0.1819 -0.09811,0.1819 0,0 -0.337929,0.14739 -0.337929,0.14739 0.09352,0.0815 0.210592,0.12317 0.33003,0.11702 0,0 0.358395,0.41227 0.358395,0.41227 0.08235,0.10005 0.207567,0.14405 0.327106,0.11444 0.120174,-0.0298 0.215386,-0.12916 0.248042,-0.25943 0.0327,-0.13046 -0.0027,-0.27052 -0.09212,-0.36512 0,0 -0.365023,-0.41058 -0.365023,-0.41058 0,0 -1.25e-4,-3.5e-4 -1.25e-4,-3.5e-4 0.0066,-0.0857 -0.0048,-0.17174 -0.0333,-0.25144 -0.102868,-0.28587 -0.395433,-0.42104 -0.651205,-0.30433 0,0 -8e-6,0 -8e-6,0" id="path893" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 90.432193,119.76314 c -0.173293,0.0694 -0.296652,0.23274 -0.325379,0.42972 0,0 0.358434,-0.14058 0.358434,-0.14058 0,0 0.194856,0.067 0.194856,0.067 0,0 0.107721,0.2972 0.107721,0.2972 0,0 -0.104805,0.18346 -0.104805,0.18346 0,0 -0.360857,0.13663 -0.360857,0.13663 0.09984,0.0886 0.22486,0.13706 0.352421,0.13626 0,0 0.382906,0.44289 0.382906,0.44289 0.08802,0.10728 0.221854,0.15864 0.349646,0.13364 0.128493,-0.0251 0.230314,-0.12344 0.265244,-0.25663 0.03498,-0.13338 -0.0029,-0.27987 -0.09849,-0.38188 0,0 -0.39027,-0.44146 -0.39027,-0.44146 0,0 -1.36e-4,-3.7e-4 -1.36e-4,-3.7e-4 0.0071,-0.0883 -0.0051,-0.17778 -0.03561,-0.2615 -0.05286,-0.14435 -0.156529,-0.26166 -0.287713,-0.32608 -0.130445,-0.0641 -0.2772,-0.0705 -0.407972,-0.0183 0,0 3e-6,-1e-5 3e-6,-1e-5" id="path895" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 96.480895,121.574 c 0.223836,0.0973 0.385403,0.29824 0.423297,0.52805 0,0 -0.465583,-0.20468 -0.465583,-0.20468 0,0 -0.246662,0.0523 -0.246662,0.0523 0,0 -0.13447,0.31841 -0.13447,0.31841 0,0 0.130813,0.21953 0.130813,0.21953 0,0 0.460218,0.20856 0.460218,0.20856 -0.128882,0.0849 -0.288579,0.11963 -0.449634,0.0984 0,0 -0.472282,0.42794 -0.472282,0.42794 -0.106263,0.10225 -0.266225,0.13441 -0.417175,0.0845 -0.150058,-0.0496 -0.26776,-0.17258 -0.307902,-0.32105 -0.04008,-0.14823 0.0033,-0.29935 0.113453,-0.39499 0,0 0.459616,-0.42638 0.459616,-0.42638 0,0 1.62e-4,-3.9e-4 1.62e-4,-3.9e-4 -0.0085,-0.0975 0.0061,-0.19401 0.04274,-0.2822 0.13283,-0.31824 0.517817,-0.45757 0.863413,-0.30792 0,0 -3e-6,-3e-5 -3e-6,-3e-5" id="path897" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 88.953111,121.13883 c -0.162314,0.0621 -0.277881,0.21667 -0.304796,0.40651 0,0 0.335749,-0.12574 0.335749,-0.12574 0,0 0.182458,0.0705 0.182458,0.0705 0,0 0.100837,0.29064 0.100837,0.29064 0,0 -0.09811,0.17451 -0.09811,0.17451 0,0 -0.337922,0.12196 -0.337922,0.12196 0.09352,0.0886 0.210592,0.13902 0.330031,0.14185 0,0 0.358387,0.43925 0.358387,0.43925 0.08236,0.10619 0.207555,0.15957 0.327065,0.13894 0.120143,-0.0207 0.215331,-0.11294 0.247994,-0.24072 0.03271,-0.12796 -0.0026,-0.27065 -0.09202,-0.37199 0,0 -0.365023,-0.43804 -0.365023,-0.43804 0,0 -1.25e-4,-3.6e-4 -1.25e-4,-3.6e-4 0.0066,-0.0852 -0.0048,-0.1721 -0.0333,-0.25395 -0.10287,-0.2936 -0.395435,-0.45079 -0.651206,-0.35332 0,0 -1.5e-5,-3e-5 -1.5e-5,-3e-5" id="path899" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 94.593856,123.81572 c 0.207823,0.10303 0.35779,0.30336 0.392958,0.52632 0,0 -0.432227,-0.21645 -0.432227,-0.21645 0,0 -0.229103,0.0401 -0.229103,0.0401 0,0 -0.124932,0.30136 -0.124932,0.30136 0,0 0.121534,0.21697 0.121534,0.21697 0,0 0.427398,0.21983 0.427398,0.21983 -0.119663,0.0765 -0.267967,0.1035 -0.417565,0.0765 0,0 -0.438882,0.39331 -0.438882,0.39331 -0.09879,0.0943 -0.247525,0.11882 -0.387914,0.0646 -0.139588,-0.0539 -0.249097,-0.17732 -0.28645,-0.32217 -0.0373,-0.14463 0.003,-0.28863 0.105563,-0.37637 0,0 0.427481,-0.39229 0.427481,-0.39229 0,0 1.51e-4,-3.7e-4 1.51e-4,-3.7e-4 -0.0079,-0.0944 0.0057,-0.18682 0.03974,-0.27034 0.123484,-0.30132 0.481254,-0.41958 0.802253,-0.26094 0,0 -3e-6,-4e-5 -3e-6,-4e-5" id="path901" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 90.432199,123.37953 c -0.173296,0.0557 -0.296658,0.20935 -0.325385,0.40406 0,0 0.35844,-0.11231 0.35844,-0.11231 0,0 0.194856,0.0824 0.194856,0.0824 0,0 0.107721,0.3057 0.107721,0.3057 0,0 -0.104805,0.17519 -0.104805,0.17519 0,0 -0.360857,0.10816 -0.360857,0.10816 0.09984,0.0965 0.224859,0.1548 0.35242,0.16406 0,0 0.382907,0.4731 0.382907,0.4731 0.08802,0.11419 0.22185,0.1761 0.349629,0.16117 0.128481,-0.015 0.230291,-0.10527 0.265224,-0.23569 0.03498,-0.13061 -0.0028,-0.28007 -0.09845,-0.38962 0,0 -0.390272,-0.47225 -0.390272,-0.47225 0,0 -1.36e-4,-3.8e-4 -1.36e-4,-3.8e-4 0.0071,-0.0877 -0.0051,-0.17818 -0.03561,-0.2643 -0.109941,-0.30892 -0.422525,-0.48666 -0.695685,-0.39927 0,0 3e-6,-3e-5 3e-6,-3e-5" id="path903" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 90.920049,117.339 c -0.176994,0.0794 -0.30298,0.25105 -0.332317,0.45165 0,0 0.366079,-0.16119 0.366079,-0.16119 0,0 0.199037,0.0573 0.199037,0.0573 0,0 0.11004,0.29463 0.11004,0.29463 0,0 -0.107061,0.191 -0.107061,0.191 0,0 -0.368586,0.15729 -0.368586,0.15729 0.101975,0.0842 0.229668,0.12657 0.359969,0.11898 0,0 0.391173,0.4273 0.391173,0.4273 0.08993,0.10375 0.226673,0.14856 0.357245,0.1165 0.131296,-0.0322 0.235343,-0.137 0.271043,-0.27349 0.03575,-0.1367 -0.0029,-0.28277 -0.10063,-0.3808 0,0 -0.398792,-0.42547 -0.398792,-0.42547 0,0 -1.39e-4,-3.7e-4 -1.39e-4,-3.7e-4 0.0072,-0.0896 -0.0052,-0.17942 -0.03638,-0.26242 -0.05401,-0.14309 -0.159923,-0.25613 -0.293944,-0.31424 -0.133256,-0.0578 -0.283165,-0.0564 -0.416739,0.003 0,0 3e-6,0 3e-6,0" id="path905" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 94.026056,117.25624 c 0.203121,0.0749 0.349684,0.2535 0.384053,0.46934 0,0 -0.422434,-0.1579 -0.422434,-0.1579 0,0 -0.223947,0.0694 -0.223947,0.0694 0,0 -0.122131,0.31417 -0.122131,0.31417 0,0 0.118809,0.19875 0.118809,0.19875 0,0 0.41776,0.16182 0.41776,0.16182 -0.116956,0.0912 -0.261915,0.13714 -0.408148,0.12984 0,0 -0.429067,0.44594 -0.429067,0.44594 -0.09659,0.1061 -0.24203,0.14972 -0.379321,0.11435 -0.136516,-0.0352 -0.243621,-0.14296 -0.280152,-0.28136 -0.03647,-0.13819 0.003,-0.28585 0.103266,-0.38594 0,0 0.418029,-0.44346 0.418029,-0.44346 0,0 1.48e-4,-3.9e-4 1.48e-4,-3.9e-4 -0.0077,-0.0923 0.0056,-0.18547 0.03885,-0.27248 0.0579,-0.15057 0.172254,-0.27339 0.318466,-0.34147 0.14709,-0.0685 0.314639,-0.0761 0.465818,-0.0206 0,0 -4e-6,-10e-6 -4e-6,-10e-6" id="path907" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 94.026049,122.13121 c 0.203121,0.0949 0.349684,0.28798 0.384053,0.50721 0,0 -0.422434,-0.19955 -0.422434,-0.19955 0,0 -0.223947,0.0473 -0.223947,0.0473 0,0 -0.122131,0.30213 -0.122131,0.30213 0,0 0.118808,0.21046 0.118808,0.21046 0,0 0.41776,0.20301 0.41776,0.20301 -0.116956,0.0797 -0.261914,0.11131 -0.408147,0.0896 0,0 -0.429067,0.40364 -0.429067,0.40364 -0.09659,0.0966 -0.242027,0.12582 -0.37931,0.0769 -0.136508,-0.0486 -0.243607,-0.16697 -0.280139,-0.30897 -0.03648,-0.14177 0.003,-0.28554 0.103242,-0.37575 0,0 0.418029,-0.40224 0.418029,-0.40224 0,0 1.48e-4,-3.7e-4 1.48e-4,-3.7e-4 -0.0077,-0.093 0.0056,-0.18493 0.03885,-0.26865 0.120736,-0.30206 0.470509,-0.4309 0.784284,-0.28475 0,0 -4e-6,-3e-5 -4e-6,-3e-5" id="path909" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 90.920044,121.90776 c -0.176993,0.0619 -0.302978,0.22117 -0.332317,0.41887 0,0 0.366079,-0.1251 0.366079,-0.1251 0,0 0.199037,0.077 0.199037,0.077 0,0 0.110039,0.30548 0.110039,0.30548 0,0 -0.107061,0.18045 -0.107061,0.18045 0,0 -0.368585,0.12096 -0.368585,0.12096 0.101976,0.0943 0.229669,0.1492 0.359968,0.15445 0,0 0.391172,0.46587 0.391172,0.46587 0.08992,0.11265 0.226679,0.17097 0.357271,0.1518 0.131317,-0.0193 0.235381,-0.11381 0.271077,-0.2468 0.03575,-0.13319 -0.0029,-0.28309 -0.100689,-0.39075 0,0 -0.398792,-0.4648 -0.398792,-0.4648 0,0 -1.38e-4,-3.8e-4 -1.38e-4,-3.8e-4 0.0072,-0.0889 -0.0052,-0.17994 -0.03638,-0.266 -0.05401,-0.14843 -0.159922,-0.2719 -0.293942,-0.34322 -0.133256,-0.0709 -0.283166,-0.0843 -0.416739,-0.0378 0,0 2e-6,-2e-5 2e-6,-2e-5" id="path911" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 94.026056,113.42048 c 0.203121,0.0591 0.349684,0.22637 0.384053,0.43954 0,0 -0.422434,-0.12513 -0.422434,-0.12513 0,0 -0.223947,0.0868 -0.223947,0.0868 0,0 -0.122131,0.32365 -0.122131,0.32365 0,0 0.118809,0.18953 0.118809,0.18953 0,0 0.41776,0.12941 0.41776,0.12941 -0.116956,0.10026 -0.261915,0.15746 -0.408148,0.1615 0,0 -0.429067,0.47923 -0.429067,0.47923 -0.09659,0.1136 -0.24203,0.16849 -0.379321,0.14378 -0.136516,-0.0246 -0.243621,-0.12406 -0.280152,-0.25963 -0.03647,-0.13536 0.003,-0.28608 0.103266,-0.39395 0,0 0.418029,-0.47589 0.418029,-0.47589 0,0 1.48e-4,-4e-4 1.48e-4,-4e-4 -0.0077,-0.0917 0.0056,-0.1859 0.03885,-0.27549 0.0579,-0.15507 0.172254,-0.28676 0.318466,-0.36619 0.14709,-0.0799 0.314639,-0.10051 0.465818,-0.0567 0,0 -4e-6,0 -4e-6,0" id="path913" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
<path d="m 90.920049,113.74419 c -0.176994,0.0931 -0.302979,0.27456 -0.332317,0.47742 0,0 0.366079,-0.18958 0.366079,-0.18958 0,0 0.199037,0.0419 0.199037,0.0419 0,0 0.11004,0.28609 0.11004,0.28609 0,0 -0.107061,0.19931 -0.107061,0.19931 0,0 -0.368586,0.18589 -0.368586,0.18589 0.101975,0.0763 0.229668,0.10874 0.359969,0.091 0,0 0.391173,0.39695 0.391173,0.39695 0.08993,0.0968 0.226673,0.13098 0.357245,0.0888 0.131296,-0.0424 0.235343,-0.15526 0.271043,-0.29452 0.03575,-0.13947 -0.0029,-0.28254 -0.10063,-0.37299 0,0 -0.398792,-0.39454 -0.398792,-0.39454 0,0 -1.39e-4,-3.6e-4 -1.39e-4,-3.6e-4 0.0072,-0.0902 -0.0052,-0.17902 -0.03638,-0.25959 -0.05401,-0.13891 -0.159923,-0.24373 -0.293944,-0.29144 -0.133256,-0.0474 -0.283165,-0.0344 -0.416739,0.0356 0,0 3e-6,0 3e-6,0" id="path915" inkscape:connector-curvature="0" style="opacity:1;fill:#000;fill-opacity:1;stroke:none;stroke-width:4.20388079;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1">
</path>
</g>
</g>
</g>
</svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input type="radio" class="md-option" id="__palette_1" aria-label="Switch to dark mode" data-md-color-accent="red" data-md-color-media="" data-md-color-primary="black" data-md-color-scheme="default" name="__palette">
<label class="md-icon md-header__button" for="__palette_2" hidden title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z">
</path>
</svg>
</label>
<input type="radio" class="md-option" id="__palette_2" aria-label="Switch to light mode" data-md-color-accent="red" data-md-color-media="" data-md-color-primary="black" data-md-color-scheme="slate" name="__palette">
<label class="md-icon md-header__button" for="__palette_1" hidden title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z">
</path>
</svg>
</label>
</form>
<label class="md-icon md-header__button" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z">
</path>
</svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search">
</label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" aria-label="Szukaj" name="query" autocapitalize="off" autocomplete="off" autocorrect="off" data-md-component="search-query" placeholder="Szukaj" required spellcheck="false">
<label class="md-icon md-search__icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z">
</path>
</svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z">
</path>
</svg>
</label>
<nav class="md-search__options" aria-label="Szukaj">
<a href="javascript:void(0)" class="md-icon md-search__icon" title="Udostępnij" aria-label="Udostępnij" data-md-component="search-share" data-clipboard="" data-clipboard-text="" tabindex="-1">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z">
</path>
</svg>
</a>
<button class="md-icon md-search__icon" type="reset" aria-label="Wyczyść" tabindex="-1" title="Wyczyść">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z">
</path>
</svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest">
</div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
Inicjowanie wyszukiwania
</div>
<ol class="md-search-result__list" role="presentation">
</ol>
</div>
</div>
</div>
</div>
</div>
</nav>
<nav class="md-tabs" aria-label="Zakładki" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a href="../.." class="md-tabs__link">
<i class="fa-house fa-solid">
</i>
</a>
</li>
<li class="md-tabs__item">
<a href="../../python-kompendium/" class="md-tabs__link">
<i class="fa-brands fa-python">
</i>
</a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-grid md-main__inner">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--lifted md-nav--primary" aria-label="Nawigacja" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a href="https://testerembyc.pl" class="md-logo md-nav__button" title="TesteremByc.pl" aria-label="TesteremByc.pl" data-md-component="logo">
<img src="../../assets/images/logo.svg" alt="logo">
</a>
TesteremByc.pl
</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input type="checkbox" class="md-toggle md-nav__toggle" id="__nav_1">
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
<i class="fa-house fa-solid">
</i>
</span>
<span class="md-icon md-nav__icon">
</span>
</label>
<nav class="md-nav" data-md-level="1" aria-expanded="false" aria-labelledby="__nav_1_label">
<label class="md-nav__title" for="__nav_1">
<span class="md-icon md-nav__icon">
</span>
<i class="fa-house fa-solid">
</i>
</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a href="../.." class="md-nav__link">
<span class="md-ellipsis">
index
</span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input type="checkbox" class="md-toggle md-nav__toggle" id="__nav_1_2">
<label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
<span class="md-ellipsis">
Archiwum
</span>
<span class="md-icon md-nav__icon">
</span>
</label>
<nav class="md-nav" data-md-level="2" aria-expanded="false" aria-labelledby="__nav_1_2_label">
<label class="md-nav__title" for="__nav_1_2">
<span class="md-icon md-nav__icon">
</span>
Archiwum
</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a href="../archive/2023/" class="md-nav__link">
<span class="md-ellipsis">
2023
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../archive/2022/" class="md-nav__link">
<span class="md-ellipsis">
2022
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../archive/2021/" class="md-nav__link">
<span class="md-ellipsis">
2021
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../archive/2020/" class="md-nav__link">
<span class="md-ellipsis">
2020
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../archive/2019/" class="md-nav__link">
<span class="md-ellipsis">
2019
</span>
</a>
</li>
</ul>
</nav>

</li>
<li class="md-nav__item md-nav__item--nested">
<input type="checkbox" class="md-toggle md-nav__toggle" id="__nav_1_3">
<label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
<span class="md-ellipsis">
Kategorie
</span>
<span class="md-icon md-nav__icon">
</span>
</label>
<nav class="md-nav" data-md-level="2" aria-expanded="false" aria-labelledby="__nav_1_3_label">
<label class="md-nav__title" for="__nav_1_3">
<span class="md-icon md-nav__icon">
</span>
Kategorie
</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a href="../categories/felieton/" class="md-nav__link">
<span class="md-ellipsis">
felieton
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../categories/git/" class="md-nav__link">
<span class="md-ellipsis">
git
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../categories/ludzie/" class="md-nav__link">
<span class="md-ellipsis">
ludzie
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../categories/python/" class="md-nav__link">
<span class="md-ellipsis">
python
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../categories/youtube/" class="md-nav__link">
<span class="md-ellipsis">
youtube
</span>
</a>
</li>
</ul>
</nav>

</li>
<li class="md-nav__item md-nav__item--nested">
<input type="checkbox" class="md-toggle md-nav__toggle" id="__nav_1_4">
<label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
<span class="md-ellipsis">
Tagi
</span>
<span class="md-icon md-nav__icon">
</span>
</label>
<nav class="md-nav" data-md-level="2" aria-expanded="false" aria-labelledby="__nav_1_4_label">
<label class="md-nav__title" for="__nav_1_4">
<span class="md-icon md-nav__icon">
</span>
Tagi
</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a href="../tags/api/" class="md-nav__link">
<span class="md-ellipsis">
api
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/automatyzacja/" class="md-nav__link">
<span class="md-ellipsis">
automatyzacja
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/blog/" class="md-nav__link">
<span class="md-ellipsis">
blog
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/cd/" class="md-nav__link">
<span class="md-ellipsis">
ci-cd
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/code16challenge/" class="md-nav__link">
<span class="md-ellipsis">
code16challenge
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/cv/" class="md-nav__link">
<span class="md-ellipsis">
cv
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/definicja/" class="md-nav__link">
<span class="md-ellipsis">
definicja
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/dekorator/" class="md-nav__link">
<span class="md-ellipsis">
dekorator
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/ebook/" class="md-nav__link">
<span class="md-ellipsis">
ebook
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/eksploracja/" class="md-nav__link">
<span class="md-ellipsis">
eksploracja
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/funkcje/" class="md-nav__link">
<span class="md-ellipsis">
funkcje
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/github/" class="md-nav__link">
<span class="md-ellipsis">
github
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/halloween/" class="md-nav__link">
<span class="md-ellipsis">
halloween
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/historie/" class="md-nav__link">
<span class="md-ellipsis">
historie
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/howto/" class="md-nav__link">
<span class="md-ellipsis">
howto
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/istqb/" class="md-nav__link">
<span class="md-ellipsis">
istqb
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/itea/" class="md-nav__link">
<span class="md-ellipsis">
itea
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/komfort/" class="md-nav__link">
<span class="md-ellipsis">
komfort
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/kursy/" class="md-nav__link">
<span class="md-ellipsis">
kursy
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/lambda/" class="md-nav__link">
<span class="md-ellipsis">
lambda
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/linkedin/" class="md-nav__link">
<span class="md-ellipsis">
linkedin
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/nauka/" class="md-nav__link">
<span class="md-ellipsis">
nauka
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/ogolne/" class="md-nav__link">
<span class="md-ellipsis">
ogólne
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/plany/" class="md-nav__link">
<span class="md-ellipsis">
plany
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/podcast/" class="md-nav__link">
<span class="md-ellipsis">
podcast
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/profil/" class="md-nav__link">
<span class="md-ellipsis">
profil
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/rekrutacja/" class="md-nav__link">
<span class="md-ellipsis">
rekrutacja
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/requests/" class="md-nav__link">
<span class="md-ellipsis">
requests
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/rozwoj/" class="md-nav__link">
<span class="md-ellipsis">
rozwój
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/rpa/" class="md-nav__link">
<span class="md-ellipsis">
rpa
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/rzeczywistosc/" class="md-nav__link">
<span class="md-ellipsis">
rzeczywistość
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/testitka/" class="md-nav__link">
<span class="md-ellipsis">
testitka
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/testowanie/" class="md-nav__link">
<span class="md-ellipsis">
testowanie
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/testy/" class="md-nav__link">
<span class="md-ellipsis">
testy
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/trendbook/" class="md-nav__link">
<span class="md-ellipsis">
trendbook
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/unittest/" class="md-nav__link">
<span class="md-ellipsis">
unittest
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/vlog/" class="md-nav__link">
<span class="md-ellipsis">
vlog
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/zarobki/" class="md-nav__link">
<span class="md-ellipsis">
zarobki
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/zmiana/" class="md-nav__link">
<span class="md-ellipsis">
zmiana
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/uczniczqa/" class="md-nav__link">
<span class="md-ellipsis">
łuczniczqa
</span>
</a>
</li>
<li class="md-nav__item">
<a href="../tags/zycie/" class="md-nav__link">
<span class="md-ellipsis">
życie
</span>
</a>
</li>
</ul>
</nav>

</li>
</ul>
</nav>

</li>
<li class="md-nav__item">
<a href="../../python-kompendium/" class="md-nav__link">
<span class="md-ellipsis">
<i class="fa-brands fa-python">
</i>
</span>
</a>
</li>
</ul>
</nav>
</div>
<div class="md-sidebar__inner">
<div class="md-nav md-typeset tb-sidebar">
<div class="md-nav__title">
<a href="/pages/o-mnie/" class="md-nav__link md-nav__link--active">
O mnie
</a>
</div>
<div class="md-nav__item">
<img src="/images/pages/me_bw_small.jpg">
<p>
Nazywam się
<b>
Maciej Kusz
</b>
i od 2008 roku zajmuję się testowaniem oprogramowania. Na początku były to testy manualne, od 2011 początki testów automatycznych, a od 2013 automatyzacją testów z wykorzystaniem języka
<b>
Python
</b>
. Przez te kilka lat, zdarzyło mi się już być w kilku firmach i w kilku różnych projektach. Na stronie
<a href="/pages/o-mnie/">
o mnie
</a>
, znajdziesz ciut więcej informacji na ten temat.
</p>
</div>
</div>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary" aria-label="Spis treści">
<label class="md-nav__title" for="__toc">
<span class="md-icon md-nav__icon">
</span>
Spis treści
</label>
<ul class="md-nav__list" data-md-scrollfix="" data-md-component="toc">
<li class="md-nav__item">
<a href="#gdzie-skonczylismy" class="md-nav__link">
Gdzie skończyliśmy?
</a>
<nav class="md-nav" aria-label="Gdzie skończyliśmy?">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#w-pogoni-za-rozumem" class="md-nav__link">
W pogoni za rozumem
</a>
</li>
<li class="md-nav__item">
<a href="#kosmetyka" class="md-nav__link">
Kosmetyka
</a>
</li>
<li class="md-nav__item">
<a href="#wyrazenia-lambda" class="md-nav__link">
Wyrażenia Lambda
</a>
</li>
<li class="md-nav__item">
<a href="#lambda-po-raz-pierwszy" class="md-nav__link">
Lambda po raz pierwszy
</a>
</li>
<li class="md-nav__item">
<a href="#lambda-po-raz-drugi" class="md-nav__link">
Lambda po raz drugi
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#type" class="md-nav__link">
type
</a>
<nav class="md-nav" aria-label="type">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#dict-comprehension" class="md-nav__link">
dict comprehension
</a>
</li>
<li class="md-nav__item">
<a href="#najmniejszy-framework" class="md-nav__link">
Najmniejszy framework
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#wiecej-funkcjonalnosci" class="md-nav__link">
Więcej funkcjonalności
</a>
<nav class="md-nav" aria-label="Więcej funkcjonalności">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#wiecej-testow-w-tescie" class="md-nav__link">
Więcej testów w teście
</a>
</li>
<li class="md-nav__item">
<a href="#glob" class="md-nav__link">
glob
</a>
</li>
<li class="md-nav__item">
<a href="#globals" class="md-nav__link">
globals()
</a>
</li>
<li class="md-nav__item">
<a href="#obsuga-wielu-plikow-json" class="md-nav__link">
Obsługa wielu plików JSON
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#podsumowanie" class="md-nav__link">
Podsumowanie
</a>
</li>
<li class="md-nav__item">
<a href="#bonus" class="md-nav__link">
Bonus
</a>
</li>
<li class="md-nav__item">
<a href="#bonus-2" class="md-nav__link">
Bonus 2
</a>
</li>
</ul>
</nav>
</div>
<div class="md-sidebar__inner">
<div class="md-nav md-typeset tb-sidebar">
<div class="md-nav__title">
Newsletter
</div>
<div class="md-nav__item">
<p>
Chcesz być powiadamiany o nowościach na tej stronie oraz innych moich projektach? Jeśli tak, to zapisz się poniżej do newsletter'a.
<script async src="https://eocampaign1.com/form/7e5ea679-a893-11ec-9258-0241b9615763.js" data-form="7e5ea679-a893-11ec-9258-0241b9615763"></script>
Wszystkie podane przez Ciebie dane, będą przetwarzane zgodnie z
<a href="/pages/polityka-prywatnosci">
polityką prywatności
</a>
.
</p><hr>
<a href="/pages/regulamin">
Regulamin
</a>
<br>
<a href="#__consent">
Zarządzanie ciasteczkami
</a>
<p></p>
</div>
</div>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-typeset md-content__inner">
<div class="post-extra">
<div class="col">
<p class="post-date">
2021.01.06
</p>
</div>
<div class="col">
<a href="https://testerembyc.pl/posts/tags/requests/">
#requests
</a>
<a href="https://testerembyc.pl/posts/tags/unittest/">
#unittest
</a>
<a href="https://testerembyc.pl/posts/tags/lambda/">
#lambda
</a>
</div>
</div>
<h1>
Jeszcze mniejszy framework do testów w Pythonie
</h1>
<figure>
<p>
<img src="../../images/posts/2021/jeszcze-mniejszy-framework-do-testow-w-pythonie.jpg" alt="Jeszcze mniejszy framework do testów w Pythonie" loading="lazy">
</p>
<figcaption>
<p>
Wykorzystano zdjęcie autorstwa
<a href="https://www.pexels.com/pl-pl/@markusspiske">
Markus Spiske
</a>
z
<a href="https://www.pexels.com/">
Pexels
</a>
</p>
</figcaption>
</figure>
<p>
Poniższy wpis jest kontynuacją poprzedniego wpisu, gdzie próbowałem pokazać Ci jak w Pythonie można stworzyć
<a href="../najmniejszy-framework-do-testow-w-pythonie/" id="2020-najmniejszy-framework-do-testow-w-pythonie">
najmniejszy framework do testów
</a>
.
</p>
<p>
Czym się dzisiaj wspólnie zajmiemy?
</p>
<p>
Otóż odpowiemy sobie na 2 pytania:
</p>
<ol>
<li>
Czy aby na pewno 16 linijek kodu, to najmniejsza możliwa ilość?
</li>
<li>
Czy da się w tych 16 linijkach kodu stworzyć bardziej rozbudowany framework?
</li>
</ol>
<p>
Odpowiedzi na te pytania zapewne się domyślasz, ale jeśli chcesz wiedzieć jak, to nie pozostaje Ci nic innego jak zagłębić się w dalszą część tego wpisu.
</p>
<h2 id="gdzie-skonczylismy">
Gdzie skończyliśmy?
</h2>
<p>
Dla małego przypomnienia zacznijmy w miejscu, gdzie skończyliśmy. Kod naszego mini frameworka wygląda tak:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="k">class</span> <span class="nc">Tests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span> <span class="k">pass</span>
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>
</span><span id="__span-0-5"><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="k">def</span> <span class="nf">add_test</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="__span-0-6"><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a>    <span class="k">def</span> <span class="nf">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-7"><a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">])</span>
</span><span id="__span-0-8"><a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="nb">setattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">abstract_test</span><span class="p">)</span>
</span><span id="__span-0-9"><a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a>
</span><span id="__span-0-10"><a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-0-11"><a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a>    <span class="k">for</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-0-12"><a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a>        <span class="n">add_test</span><span class="p">(</span><span class="n">Tests</span><span class="p">,</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span><span class="p">)</span>
</span><span id="__span-0-13"><a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a>
</span><span id="__span-0-14"><a href="#__codelineno-0-14" id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
</span><span id="__span-0-15"><a href="#__codelineno-0-15" id="__codelineno-0-15" name="__codelineno-0-15"></a>    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<h3 id="w-pogoni-za-rozumem">
W pogoni za rozumem
</h3>
<h3 id="kosmetyka">
Kosmetyka
</h3>
<p>
Póki co nasz kod jest w miarę czytelny, pomimo złamania kilku reguł. Skoro i tak je łamiemy, to idźmy ciut głębiej i uprośćmy ten kod do poniższej postaci.
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>
</span><span id="__span-1-3"><a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="k">def</span> <span class="nf">add_test</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="__span-1-4"><a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a>    <span class="k">def</span> <span class="nf">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-1-5"><a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">])</span>
</span><span id="__span-1-6"><a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>    <span class="nb">setattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">abstract_test</span><span class="p">)</span>
</span><span id="__span-1-7"><a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a>
</span><span id="__span-1-8"><a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-1-9"><a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="k">class</span> <span class="nc">Tests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span> <span class="k">pass</span>
</span><span id="__span-1-10"><a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a>    <span class="k">for</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-1-11"><a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a>        <span class="n">add_test</span><span class="p">(</span><span class="n">Tests</span><span class="p">,</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span><span class="p">)</span>
</span><span id="__span-1-12"><a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a>
</span><span id="__span-1-13"><a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Zmian jest niewiele i to tylko kosmetyka:
</p>
<ul>
<li>
usunęliśmy sprawdzanie, z jakiego skryptu jest uruchamiany nasz kod,
</li>
<li>
przerzuciliśmy definicję klasy
<code>
Test
</code>
do wnętrza bloku
<code>
with open(...)
</code>
.
</li>
</ul>
<p>
Powyższa kosmetyka redukuję ilość linii kodu do 13.
</p>
<p>
Patrząc na kod, możemy zauważyć, że jednym z większych bloków jest definicja funkcji
<code>
add_test
</code>
. Zastanówmy się czy da się coś z tym tematem zrobić.
</p>
<h3 id="wyrazenia-lambda">
Wyrażenia Lambda
</h3>
<p>
Zanim jednak będziemy bardziej odchudzać kod frameworku, musimy poznać czym są tzw.
<strong>
wyrażenia Lambda
</strong>
w Pythonie.
</p>
<p>
<strong>
Wyrażenia Lambda
</strong>
to krótkie, anonimowe funkcje (opisane w
<a href="https://www.python.org/dev/peps/pep-0312/">
PEP 312
</a>
oraz
<a href="https://docs.python.org/3/tutorial/controlflow.html#lambda-expressions&gt;">
dokumentacji
</a>
). Funkcje takie są określane jako anonimowe, ponieważ zdefiniowane są w miejscu ich użycia.
<strong>
Funkcje Lambda
</strong>
mogą przyjmować dowolną liczbę argumentów, ale mogą zawierać tylko jedno wyrażenie. Ale jak działa Lambda?
</p>
<p>
Zacznijmy od czegoś prostego, czyli suma 2 liczb:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="n">add</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></code></pre>
</div>
<div class="highlight language-console">
<pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="go">4</span>
</span></code></pre>
</div>
<p>
Nic nadzwyczajnego, ale żeby tradycji stało się zadość, kilka słów wyjaśnienia jak to działa:
</p>
<ol>
<li>
Tworzymy wyrażenie Lambda, które przyjmuje dwie zmienne:
<code>
a
</code>
i
<code>
b
</code>
oraz wykonuje operację dodawania na tych zmiennych.
</li>
<li>
Wyrażenie to przypisujemy do zmiennej
<code>
add
</code>
. W tym momencie zmienna
<code>
add
</code>
staje się funkcją, której ciałem jest wyrażenie Lambda (opisywałem ten mechanizm we wpisie dotyczącym
<a href="../dekoratory-w-pythonie/" id="2020-dekoratory-w-pythonie">
dekoratorów
</a>
, gdzie tłumaczyłem, że
<a href="../dekoratory-w-pythonie/" id="2020-dekoratory-w-pythonie">
funkcja jest obiektem
</a>
.
</li>
<li>
Wywołujemy tak stworzoną funkcję z 2 parametrami. W wyniku wywołania otrzymujemy wynik dodawania.
</li>
</ol>
<p>
Odpowiednikiem takiego wyrażenia będzie poniższy kod:
</p>
<p>
</p><div class="highlight language-python">
<pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</span><span id="__span-4-3"><a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a>
</span><span id="__span-4-4"><a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></code></pre>
</div>
<div class="highlight language-console">
<pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="go">4</span>
</span></code></pre>
</div>
<p></p>
<p>
Zysk niby niewielki, ale zawsze coś. A co, gdybyśmy chcieli osiągnąć coś ciekawszego? Zobaczmy co się stanie, jak tradycyjna metoda, w wyniku będzie zwracała wyrażenie lambda:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">def</span> <span class="nf">multiplier</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>    <span class="k">return</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span> <span class="o">*</span> <span class="n">n</span>
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a>
</span><span id="__span-6-4"><a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="n">multiplier_1k</span> <span class="o">=</span> <span class="n">multiplier</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</span><span id="__span-6-5"><a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a>
</span><span id="__span-6-6"><a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="n">multiplier_1k</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span></code></pre>
</div>
<div class="highlight language-console">
<pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="go">3000</span>
</span></code></pre>
</div>
<p>
Zaczyna się robić ciekawiej. Zauważ, że w ten sposób moglibyśmy bardzo szybko zdefiniować inne metody np.
<code>
multiplier_10k = multiplier(10000)
</code>
, czy też
<code>
doubler = multiplier(2)
</code>
. Zaczynasz rozumieć z jak potężnym narzędziem mamy do czynienia?
</p>
<p>
Wszystko super, ale jak z tego skorzystać w naszym frameworku?
</p>
<h3 id="lambda-po-raz-pierwszy">
Lambda po raz pierwszy
</h3>
<p>
Skoro już wiemy, że przy użyciu wyrażenia lambda, można zastąpić definicję jakiejś metody, to spróbujmy to zaimplementować w naszym kodzie. Jak? Zerknij poniżej:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a>
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="k">def</span> <span class="nf">add_test</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="__span-8-4"><a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a>    <span class="nb">setattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">]))</span>
</span><span id="__span-8-5"><a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a>
</span><span id="__span-8-6"><a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-8-7"><a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a>    <span class="k">class</span> <span class="nc">Tests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span> <span class="k">pass</span>
</span><span id="__span-8-8"><a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a>    <span class="k">for</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-8-9"><a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a>        <span class="n">add_test</span><span class="p">(</span><span class="n">Tests</span><span class="p">,</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span><span class="p">)</span>
</span><span id="__span-8-10"><a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a>
</span><span id="__span-8-11"><a href="#__codelineno-8-11" id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Myślę, że zmiany nie wymagają większego komentarza, bo jedyne co tutaj zrobiliśmy to zastąpiliśmy definicję oraz wywołanie metody
<code>
abstract_test
</code>
wyrażeniem lambda. W wyniku, odchudziliśmy nasz kod do 11 linii kodu. Jest nieźle, ale może da się lepiej?
</p>
<h3 id="lambda-po-raz-drugi">
Lambda po raz drugi
</h3>
<p>
Skoro udało nam się pozbyć definiowania jednej metody, to może uda nam się wyrzucić jeszcze jedną?
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-9-2"><a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a>
</span><span id="__span-9-3"><a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="n">add_test</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span><span class="o">.</span><span class="n">status_code</span><span class="p">,
</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">]))</span>
</span><span id="__span-9-4"><a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a>
</span><span id="__span-9-5"><a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-9-6"><a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a>    <span class="k">class</span> <span class="nc">Tests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span> <span class="k">pass</span>
</span><span id="__span-9-7"><a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a>    <span class="k">for</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-9-8"><a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a>        <span class="n">add_test</span><span class="p">(</span><span class="n">Tests</span><span class="p">,</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span><span class="p">)</span>
</span><span id="__span-9-9"><a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a>
</span><span id="__span-9-10"><a href="#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Zauważ, że dalej podążamy utartym schematem. Wykonajmy jeszcze jeden drobny zabieg, a więc przenieśmy przypisanie Lambdy do zmiennej w inne miejsce:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>
</span><span id="__span-10-3"><a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-10-4"><a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a>    <span class="k">class</span> <span class="nc">Tests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span> <span class="k">pass</span>
</span><span id="__span-10-5"><a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a>    <span class="n">add_test</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span><span class="o">.</span><span class="n">status_code</span><span 
class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">]))</span>
</span><span id="__span-10-6"><a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a>    <span class="k">for</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-10-7"><a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a>        <span class="n">add_test</span><span class="p">(</span><span class="n">Tests</span><span class="p">,</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span><span class="p">)</span>
</span><span id="__span-10-8"><a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a>
</span><span id="__span-10-9"><a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Odchudziliśmy już nasz kod do 9 linii przy zachowaniu tej samej funkcjonalności. Czy to odchudzanie kiedyś się skończy? Tak, ale jeszcze nie w tym momencie. Zauważ, że sama definicja klasy
<code>
Tests
</code>
, metody testowej
<code>
add_test
</code>
oraz jej wielokrotne wywołanie zajmują aż 4 linijki kodu. Może damy radę jeszcze coś tutaj pokombinować?
</p>
<h2 id="type">
type
</h2>
<p>
Metoda
<code>
type
</code>
to jedna z metod wbudowanych Pythona i nie wymaga importu (jest zawsze dostępna, podobnie jak używana przez nas metoda
<code>
setattr
</code>
). Większość osób programujących w Pythonie używa tej metody do sprawdzania typu obiektu. Nie każdy jednak zdaje sobie sprawę, że
<code>
type
</code>
można wykorzystać też w innym celu.
<a href="https://docs.python.org/3/library/functions.html?highlight=type#type">
type
</a>
możemy również wykorzystać do dynamicznego tworzenia obiektów w Pythonie. Jak to działa? To nic skomplikowanego. W obecnym kodzie mamy następującą definicję klasy:
<code>
class Tests(unittest.TestCase): pass
</code>
. Jest to klasa, dziedzicząca po
<code>
unittest.TestCase
</code>
oraz nieposiadająca żadnych zmiennych, oraz metod. Przy użyciu
<code>
type
</code>
powyższa definicja wyglądałaby tak:
<code>
Tests = type("Tests", (unittest.TestCase,), {})
</code>
. Co tu się podziało?
</p>
<ol>
<li>
Przypisanie do zmiennej już znasz.
</li>
<li>
Jako pierwszy argument podaliśmy nazwę nowego obiektu.
</li>
<li>
Jako drugi argument podaliśmy tuple z obiektami, po jakich dziedziczy nowo tworzony obiekt.
</li>
<li>
Jako trzeci argument podaliśmy pusty słownik, ponieważ nasza klasa jest 'pusta' (to nie do końca prawda, bo dziedziczy, po innym obiekcie, ale nie wnikajmy w to tutaj).
</li>
</ol>
<p>
Po podstawieniu do naszego kodu, cały framework wyglądałby następująco:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-11-2"><a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a>
</span><span id="__span-11-3"><a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-11-4"><a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a>    <span class="n">Tests</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s2">"Tests"</span><span class="p">,</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="p">{})</span>
</span><span id="__span-11-5"><a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a>    <span class="n">add_test</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span><span class="o">.</span><span class="n">status_code</span><span 
class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">]))</span>
</span><span id="__span-11-6"><a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a>    <span class="k">for</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-11-7"><a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a>        <span class="n">add_test</span><span class="p">(</span><span class="n">Tests</span><span class="p">,</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">test_data</span><span class="p">)</span>
</span><span id="__span-11-8"><a href="#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a>
</span><span id="__span-11-9"><a href="#__codelineno-11-9" id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Na razie zysku brak. Ciągle mamy 9 linii kodu. Jednak dla wprawnego oka, przyzwyczajonego do kodu pisanego w Pythonie, widać, że coś tutaj możemy teraz uprościć.
</p>
<h3 id="dict-comprehension">
dict comprehension
</h3>
<p>
Zwrot
<strong>
dict comprehension
</strong>
nie posiada sensownego tłumaczenia (dlatego będę używał go w oryginale). Czym jest
<strong>
dict comprehension
</strong>
? Jest to sposób na uproszczenie zapisu, tworzenia słownika z wykorzystaniem pętli
<code>
for
</code>
, który opisany jest w
<a href="https://www.python.org/dev/peps/pep-0274/">
PEP 271
</a>
(istnieje również bardzo podobny mechanizm jak
<strong>
list comprehension
</strong>
, który opisany jest w
<a href="https://www.python.org/dev/peps/pep-0202/">
PEP 202
</a>
. W skrócie zapis:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-12-1"><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">,</span> <span class="s2">"d"</span><span class="p">]</span>
</span><span id="__span-12-2"><a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</span><span id="__span-12-3"><a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a>
</span><span id="__span-12-4"><a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="n">new_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-12-5"><a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a>
</span><span id="__span-12-6"><a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">keys</span><span class="p">):</span>
</span><span id="__span-12-7"><a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a>    <span class="n">new_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="__span-12-8"><a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a>
</span><span id="__span-12-9"><a href="#__codelineno-12-9" id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="n">new_dict</span>
</span></code></pre>
</div>
<div class="highlight language-console">
<pre><span></span><code><span id="__span-13-1"><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="go">{'a': 10, 'b': 20, 'c': 30, 'd': 40}</span>
</span></code></pre>
</div>
<p>
możemy zastąpić poprzez zapis:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-14-1"><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"c"</span><span class="p">,</span> <span class="s2">"d"</span><span class="p">]</span>
</span><span id="__span-14-2"><a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</span><span id="__span-14-3"><a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a>
</span><span id="__span-14-4"><a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="n">new_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">keys</span><span class="p">)}</span>
</span><span id="__span-14-5"><a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a>
</span><span id="__span-14-6"><a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="n">new_dict</span>
</span></code></pre>
</div>
<div class="highlight language-console">
<pre><span></span><code><span id="__span-15-1"><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="go">{'a': 10, 'b': 20, 'c': 30, 'd': 40}</span>
</span></code></pre>
</div>
<p>
Oczywiście taka konstrukcja może być wykorzystywana też w połączeniu z warunkami itp. Ale jak to może pomóc w odchudzeniu naszego kodu? Trzymaj się krzesła.
</p>
<h3 id="najmniejszy-framework">
Najmniejszy framework
</h3>
<p>
Poskładajmy więc to wszystko w całość:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-16-1"><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-16-2"><a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a>
</span><span id="__span-16-3"><a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-16-4"><a href="#__codelineno-16-4" id="__codelineno-16-4" name="__codelineno-16-4"></a>    <span class="n">tests_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
</span><span id="__span-16-5"><a href="#__codelineno-16-5" id="__codelineno-16-5" name="__codelineno-16-5"></a>        <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">]))(</span><span class="n">data</span><span class="p">)</span>
</span><span id="__span-16-6"><a href="#__codelineno-16-6" id="__codelineno-16-6" name="__codelineno-16-6"></a>                  <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span><span id="__span-16-7"><a href="#__codelineno-16-7" id="__codelineno-16-7" name="__codelineno-16-7"></a>    <span class="p">}</span>
</span><span id="__span-16-8"><a href="#__codelineno-16-8" id="__codelineno-16-8" name="__codelineno-16-8"></a>    <span class="n">Tests</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s2">"Tests"</span><span class="p">,</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="n">tests_dict</span><span class="p">)</span>
</span><span id="__span-16-9"><a href="#__codelineno-16-9" id="__codelineno-16-9" name="__codelineno-16-9"></a>
</span><span id="__span-16-10"><a href="#__codelineno-16-10" id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Jak to działa? Przy wykorzystaniu
<strong>
dict comprehension
</strong>
stworzyliśmy słownik
<code>
tests_dict
</code>
, który zawiera wszystkie metody testowe, które wcześniej tworzone były wewnątrz pętli
<code>
for
</code>
. Pominęliśmy również krok dotyczący definicji oraz wywołania metody
<code>
add_test
</code>
. Nie jest ona w tym momencie konieczna, ponieważ przypisujemy metodę bezpośrednio do zmiennej, która jest wartością słownika, przypisaną do odpowiedniego klucza w tym słowniku. Tak zdefiniowany słownik wstawiamy do dynamicznie tworzonej klasy.
</p>
<p>
Powyższy kod został przedstawiony w ten sposób, aby choć trochę zachować jego czytelność. Jeśli jednak pozbędziemy się niepotrzebnego formatowania oraz przypisania słownika do zmiennej
<code>
tests_dict
</code>
, nasz kod będzie wyglądał następująco:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-17-1"><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-17-2"><a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a>
</span><span id="__span-17-3"><a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-17-4"><a href="#__codelineno-17-4" id="__codelineno-17-4" name="__codelineno-17-4"></a>    <span class="n">Tests</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s2">"Tests"</span><span class="p">,</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">
])</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">]))(</span><span class="n">data</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
</span><span id="__span-17-5"><a href="#__codelineno-17-5" id="__codelineno-17-5" name="__codelineno-17-5"></a>
</span><span id="__span-17-6"><a href="#__codelineno-17-6" id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Tak dobrze widzisz, że nasz framework mieści się w
<strong>
6 linijkach kodu
</strong>
(pomijając puste linie, moglibyśmy odchudzić ten kod do zaledwie 4 linii kodu, co było by już tylko kosmetyczną zmianą). Nie wiem jak dla Ciebie, ale dla mnie to lekki obłęd.
</p>
<h2 id="wiecej-funkcjonalnosci">
Więcej funkcjonalności
</h2>
<p>
Skoro odchudziliśmy kod frameworku do zaledwie 6 linijek kodu, to do pierwotnie zakładanych 16 linijek, trochę nam brakuje. Spróbujmy wykorzystać ten zapas, do stworzenia testów, które testują coś więcej.
</p>
<p>
Ale co tak naprawdę możemy dodać do naszego frameworka, aby był bardziej rozbudowany? Do głowy przychodzą mi 3 rzeczy:
</p>
<ol>
<li>
Dodanie weryfikacji poprawności struktury danych, jakimi odpowiada testowany endpoint poprzez weryfikację listy kluczy.
</li>
<li>
Dodanie weryfikacji czasu odpowiedzi danego endpointa.
</li>
<li>
Wsparcie dla wielu plików JSON, co da nam możliwość rozbicia testów do testowania mniejszych funkcjonalności lub grupowania testów jako suity testów.
</li>
</ol>
<p>
Abyśmy mogli wprowadzić powyższe rozszerzenia, potrzebujemy delikatnie zmodyfikować obecny kod poprzez wydzielenie metody z testem z wnętrza słownika. Poniższy kod prezentuje jak tego dokonać:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-18-1"><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span>
</span><span id="__span-18-2"><a href="#__codelineno-18-2" id="__codelineno-18-2" name="__codelineno-18-2"></a>
</span><span id="__span-18-3"><a href="#__codelineno-18-3" id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="k">def</span> <span class="nf">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="__span-18-4"><a href="#__codelineno-18-4" id="__codelineno-18-4" name="__codelineno-18-4"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span>
</span><span id="__span-18-5"><a href="#__codelineno-18-5" id="__codelineno-18-5" name="__codelineno-18-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">])</span>
</span><span id="__span-18-6"><a href="#__codelineno-18-6" id="__codelineno-18-6" name="__codelineno-18-6"></a>
</span><span id="__span-18-7"><a href="#__codelineno-18-7" id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-18-8"><a href="#__codelineno-18-8" id="__codelineno-18-8" name="__codelineno-18-8"></a>    <span class="n">test</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="n">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</span><span id="__span-18-9"><a href="#__codelineno-18-9" id="__codelineno-18-9" name="__codelineno-18-9"></a>    <span class="n">Tests</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s2">"Tests"</span><span class="p">,</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">test</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
</span><span id="__span-18-10"><a href="#__codelineno-18-10" id="__codelineno-18-10" name="__codelineno-18-10"></a>
</span><span id="__span-18-11"><a href="#__codelineno-18-11" id="__codelineno-18-11" name="__codelineno-18-11"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Zmiany, które zostały wprowadzone, nie powinny być zaskoczeniem, gdyż bardzo podobny kod był w akapicie dotyczącym wykorzystania
<a href="./" id="2021-jeszcze-mniejszy-framework-do-testow-w-pythonie">
lambdy
</a>
.
</p>
<p>
Skoro mamy już podwaliny do dalszej zabawy, rozszerzmy kod o dodatkowe sprawdzenia.
</p>
<h3 id="wiecej-testow-w-tescie">
Więcej testów w teście
</h3>
<p>
Ponieważ wiemy już, co jeszcze chcemy testować, musimy znaleźć sposób na pobranie potrzebnych informacji. Okazuje się, że wszystko tak naprawdę już w naszym kodzie jest, ale jeszcze z tych informacji nie robimy użytku. Te i inne dodatkowe informacje otrzymujemy w
<a href="https://requests.readthedocs.io/en/master/api/#requests.Response">
odpowiedzi na wysłane żądanie
</a>
. Wartości, z których możemy skorzystać w teście to:
</p>
<ul>
<li>
<code>
resposne.json()
</code>
- zwraca słownik z danymi, którymi odpowiedział endpoint,
</li>
<li>
<code>
response.elapsed.total_seconds()
</code>
- zawiera czas pomiędzy wysłaniem żądania, a otrzymaniem odpowiedzi.
</li>
</ul>
<p>
Istnieją również inne ciekawe wartości, z których można skorzystać, np.
<code>
response.headers
</code>
, ale nie zmieścilibyśmy się w wymaganej ilości kodu oraz musielibyśmy przechowywać dużo więcej informacji w pliku *
<em>
JSON
</em>
.
</p>
<p>
Abyśmy mogli z tych informacji skorzystać, musimy dołożyć pewne dane do naszego pliku
<code>
tests.json
</code>
:
</p>
<div class="highlight language-json">
<pre><span></span><code><span id="__span-19-1"><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="p">{</span>
</span><span id="__span-19-2"><a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">  </span><span class="nt">"test_get_all_users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-3"><a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-4"><a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span>
</span><span id="__span-19-5"><a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://reqres.in/api/users"</span>
</span><span id="__span-19-6"><a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-19-7"><a href="#__codelineno-19-7" id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="w">    </span><span class="nt">"assert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-8"><a href="#__codelineno-19-8" id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="w">      </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
</span><span id="__span-19-9"><a href="#__codelineno-19-9" id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="w">      </span><span class="nt">"responseKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"page"</span><span class="p">,</span><span class="w"> </span><span class="s2">"total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"per_page"</span><span class="p">,</span><span class="w"> </span><span class="s2">"total_pages"</span><span class="p">,</span><span class="w"> </span><span class="s2">"data"</span><span class="p">,</span><span class="w"> </span><span class="s2">"support"</span><span class="p">],</span>
</span><span id="__span-19-10"><a href="#__codelineno-19-10" id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="w">      </span><span class="nt">"responseTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.300</span>
</span><span id="__span-19-11"><a href="#__codelineno-19-11" id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-19-12"><a href="#__codelineno-19-12" id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-19-13"><a href="#__codelineno-19-13" id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="w">  </span><span class="nt">"test_get_users_id_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-14"><a href="#__codelineno-19-14" id="__codelineno-19-14" name="__codelineno-19-14"></a><span class="w">    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-15"><a href="#__codelineno-19-15" id="__codelineno-19-15" name="__codelineno-19-15"></a><span class="w">      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span>
</span><span id="__span-19-16"><a href="#__codelineno-19-16" id="__codelineno-19-16" name="__codelineno-19-16"></a><span class="w">      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://reqres.in/api/users/2"</span>
</span><span id="__span-19-17"><a href="#__codelineno-19-17" id="__codelineno-19-17" name="__codelineno-19-17"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-19-18"><a href="#__codelineno-19-18" id="__codelineno-19-18" name="__codelineno-19-18"></a><span class="w">    </span><span class="nt">"assert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-19"><a href="#__codelineno-19-19" id="__codelineno-19-19" name="__codelineno-19-19"></a><span class="w">      </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
</span><span id="__span-19-20"><a href="#__codelineno-19-20" id="__codelineno-19-20" name="__codelineno-19-20"></a><span class="w">      </span><span class="nt">"responseKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"data"</span><span class="p">,</span><span class="w"> </span><span class="s2">"support"</span><span class="p">],</span>
</span><span id="__span-19-21"><a href="#__codelineno-19-21" id="__codelineno-19-21" name="__codelineno-19-21"></a><span class="w">      </span><span class="nt">"responseTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.300</span>
</span><span id="__span-19-22"><a href="#__codelineno-19-22" id="__codelineno-19-22" name="__codelineno-19-22"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-19-23"><a href="#__codelineno-19-23" id="__codelineno-19-23" name="__codelineno-19-23"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-19-24"><a href="#__codelineno-19-24" id="__codelineno-19-24" name="__codelineno-19-24"></a><span class="w">  </span><span class="nt">"test_get_non_existing_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-25"><a href="#__codelineno-19-25" id="__codelineno-19-25" name="__codelineno-19-25"></a><span class="w">    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-26"><a href="#__codelineno-19-26" id="__codelineno-19-26" name="__codelineno-19-26"></a><span class="w">      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span>
</span><span id="__span-19-27"><a href="#__codelineno-19-27" id="__codelineno-19-27" name="__codelineno-19-27"></a><span class="w">      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://reqres.in/api/users/23"</span>
</span><span id="__span-19-28"><a href="#__codelineno-19-28" id="__codelineno-19-28" name="__codelineno-19-28"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-19-29"><a href="#__codelineno-19-29" id="__codelineno-19-29" name="__codelineno-19-29"></a><span class="w">    </span><span class="nt">"assert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-30"><a href="#__codelineno-19-30" id="__codelineno-19-30" name="__codelineno-19-30"></a><span class="w">      </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span>
</span><span id="__span-19-31"><a href="#__codelineno-19-31" id="__codelineno-19-31" name="__codelineno-19-31"></a><span class="w">      </span><span class="nt">"responseKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
</span><span id="__span-19-32"><a href="#__codelineno-19-32" id="__codelineno-19-32" name="__codelineno-19-32"></a><span class="w">      </span><span class="nt">"responseTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.300</span>
</span><span id="__span-19-33"><a href="#__codelineno-19-33" id="__codelineno-19-33" name="__codelineno-19-33"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-19-34"><a href="#__codelineno-19-34" id="__codelineno-19-34" name="__codelineno-19-34"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-19-35"><a href="#__codelineno-19-35" id="__codelineno-19-35" name="__codelineno-19-35"></a><span class="w">  </span><span class="nt">"test_create_new_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-36"><a href="#__codelineno-19-36" id="__codelineno-19-36" name="__codelineno-19-36"></a><span class="w">    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-37"><a href="#__codelineno-19-37" id="__codelineno-19-37" name="__codelineno-19-37"></a><span class="w">      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span>
</span><span id="__span-19-38"><a href="#__codelineno-19-38" id="__codelineno-19-38" name="__codelineno-19-38"></a><span class="w">      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://reqres.in/api/users"</span><span class="p">,</span>
</span><span id="__span-19-39"><a href="#__codelineno-19-39" id="__codelineno-19-39" name="__codelineno-19-39"></a><span class="w">      </span><span class="nt">"json"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-40"><a href="#__codelineno-19-40" id="__codelineno-19-40" name="__codelineno-19-40"></a><span class="w">        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testerembyc"</span><span class="p">,</span>
</span><span id="__span-19-41"><a href="#__codelineno-19-41" id="__codelineno-19-41" name="__codelineno-19-41"></a><span class="w">        </span><span class="nt">"jon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tester"</span>
</span><span id="__span-19-42"><a href="#__codelineno-19-42" id="__codelineno-19-42" name="__codelineno-19-42"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-19-43"><a href="#__codelineno-19-43" id="__codelineno-19-43" name="__codelineno-19-43"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-19-44"><a href="#__codelineno-19-44" id="__codelineno-19-44" name="__codelineno-19-44"></a><span class="w">    </span><span class="nt">"assert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-45"><a href="#__codelineno-19-45" id="__codelineno-19-45" name="__codelineno-19-45"></a><span class="w">      </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span>
</span><span id="__span-19-46"><a href="#__codelineno-19-46" id="__codelineno-19-46" name="__codelineno-19-46"></a><span class="w">      </span><span class="nt">"responseKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"name"</span><span class="p">,</span><span class="w"> </span><span class="s2">"jon"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w"> </span><span class="s2">"createdAt"</span><span class="p">],</span>
</span><span id="__span-19-47"><a href="#__codelineno-19-47" id="__codelineno-19-47" name="__codelineno-19-47"></a><span class="w">      </span><span class="nt">"responseTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.300</span>
</span><span id="__span-19-48"><a href="#__codelineno-19-48" id="__codelineno-19-48" name="__codelineno-19-48"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-19-49"><a href="#__codelineno-19-49" id="__codelineno-19-49" name="__codelineno-19-49"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-19-50"><a href="#__codelineno-19-50" id="__codelineno-19-50" name="__codelineno-19-50"></a><span class="p">}</span>
</span></code></pre>
</div>
<p>
Przeróbmy teraz nasz kod, tak aby skorzystał z tych danych:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-20-1"><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">glob</span>
</span><span id="__span-20-2"><a href="#__codelineno-20-2" id="__codelineno-20-2" name="__codelineno-20-2"></a>
</span><span id="__span-20-3"><a href="#__codelineno-20-3" id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="k">def</span> <span class="nf">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="__span-20-4"><a href="#__codelineno-20-4" id="__codelineno-20-4" name="__codelineno-20-4"></a>    <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span>
</span><span id="__span-20-5"><a href="#__codelineno-20-5" id="__codelineno-20-5" name="__codelineno-20-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">])</span>
</span><span id="__span-20-6"><a href="#__codelineno-20-6" id="__codelineno-20-6" name="__codelineno-20-6"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertSetEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="nb">set</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'responseKeys'</span><span class="p">]))</span>
</span><span id="__span-20-7"><a href="#__codelineno-20-7" id="__codelineno-20-7" name="__codelineno-20-7"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertLessEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">elapsed</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">(),</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'responseTime'</span><span class="p">])</span>
</span><span id="__span-20-8"><a href="#__codelineno-20-8" id="__codelineno-20-8" name="__codelineno-20-8"></a>
</span><span id="__span-20-9"><a href="#__codelineno-20-9" id="__codelineno-20-9" name="__codelineno-20-9"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'tests.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-20-10"><a href="#__codelineno-20-10" id="__codelineno-20-10" name="__codelineno-20-10"></a>    <span class="n">test</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="n">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</span><span id="__span-20-11"><a href="#__codelineno-20-11" id="__codelineno-20-11" name="__codelineno-20-11"></a>    <span class="n">Tests</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s2">"Tests"</span><span class="p">,</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">test</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
</span><span id="__span-20-12"><a href="#__codelineno-20-12" id="__codelineno-20-12" name="__codelineno-20-12"></a>
</span><span id="__span-20-13"><a href="#__codelineno-20-13" id="__codelineno-20-13" name="__codelineno-20-13"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Sprawdzenie czasu odpowiedzi nie powinno być zaskoczeniem. Natomiast jeśli chodzi o porównanie struktury danych odpowiedzi wymaga drobnej ekwilibrystyki na danych:
</p>
<ul>
<li>
wyciągamy same klucze z odpowiedzi,
</li>
<li>
następnie listę zamieniamy na
<code>
set
</code>
,
</li>
<li>
listę oczekiwanych kluczy również zamieniamy na
<code>
set
</code>
.
</li>
</ul>
<p>
Zapytasz się po co to wszystko? Powód jest prosty, tzn. lista jest zbiorem uporządkowanych wartości i aby 2 listy były uznane za identyczne, obie listy poza zawieraniem tych samych wartości, muszą mieć jeszcze te wartości ułożone w takiej samej kolejności.
<code>
set
</code>
natomiast w tym względzie jest mniej restrykcyjny i wymaga tylko posiadania takich samych wartości, nie przejmując się zupełnie ich kolejnością. Dzięki temu, zdecydowanie ułatwiamy sobie wprowadzanie danych testowych oraz eliminujemy fałszywe błędy spowodowane przez inną kolejność zwracanych przez endpoint wartości.
</p>
<p>
W tym momencie mamy 13 linii kodu, więc teoretycznie moglibyśmy coś tutaj jeszcze dorzucić, ale musimy pamiętaj jeszcze o kwestii związanej z obsługą dodatkowy plików
<strong>
json
</strong>
. Zanim to zrobimy, musimy wprowadzić dodatkową bibliotekę oraz omówić jedną dodatkową metodę, których użyjemy do tego zadania.
</p>
<h3 id="glob">
glob
</h3>
<p>
Biblioteka
<a href="https://docs.python.org/3/library/glob.html">
glob
</a>
w dużym uproszczeniu służy do wyszukiwania plików i katalogów. Na nasze potrzeby wykorzystamy tylko jedną metodę. a dokładniej
<a href="https://docs.python.org/3/library/glob.html">
glob.iglob
</a>
. Wykorzystamy ja do wyszukiwania plików
<strong>
json
</strong>
.
</p>
<h3 id="globals">
globals()
</h3>
<p>
<a href="https://docs.python.org/3/library/functions.html#globals">
globals()
</a>
to kolejna z wbudowanych metod Pythona, która przechowuje zmienne globalne dla danego modułu. Na tym etapie, gdybyśmy w naszym kodzie wyświetli zawartość, którą zwraca
<code>
globals()
</code>
, zauważylibyśmy m.in. coś takiego:
</p>
<div class="highlight language-console">
<pre><span></span><code><span id="__span-21-1"><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="go">'Tests': &lt;class '__main__.Tests'&gt;</span>
</span></code></pre>
</div>
<p>
Jest to zmienna, w której przechowywana jest klasa z testami z pojedynczego pliku
<strong>
json
</strong>
. Po co nam to wiedzieć? Zapraszam dalej.
</p>
<h3 id="obsuga-wielu-plikow-json">
Obsługa wielu plików JSON
</h3>
<p>
Wiemy już, czego będziemy używać, a więc do dzieła. Rozdzielmy najpierw obecny plik
<code>
tests.json
</code>
na dwa mniejsze.
</p>
<p>
Pierwszy plik nazwiemy
<code>
users_get.json
</code>
będzie testował API dotyczące pobierania danych użytkowników z testowanej aplikacji:
</p>
<div class="highlight language-json">
<pre><span></span><code><span id="__span-22-1"><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="p">{</span>
</span><span id="__span-22-2"><a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">  </span><span class="nt">"test_get_all_users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-3"><a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-4"><a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span>
</span><span id="__span-22-5"><a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="w">      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://reqres.in/api/users"</span>
</span><span id="__span-22-6"><a href="#__codelineno-22-6" id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-22-7"><a href="#__codelineno-22-7" id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">    </span><span class="nt">"assert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-8"><a href="#__codelineno-22-8" id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="w">      </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
</span><span id="__span-22-9"><a href="#__codelineno-22-9" id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="w">      </span><span class="nt">"responseKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"page"</span><span class="p">,</span><span class="w"> </span><span class="s2">"total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"per_page"</span><span class="p">,</span><span class="w"> </span><span class="s2">"total_pages"</span><span class="p">,</span><span class="w"> </span><span class="s2">"data"</span><span class="p">,</span><span class="w"> </span><span class="s2">"support"</span><span class="p">],</span>
</span><span id="__span-22-10"><a href="#__codelineno-22-10" id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="w">      </span><span class="nt">"responseTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.300</span>
</span><span id="__span-22-11"><a href="#__codelineno-22-11" id="__codelineno-22-11" name="__codelineno-22-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-22-12"><a href="#__codelineno-22-12" id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-22-13"><a href="#__codelineno-22-13" id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="w">  </span><span class="nt">"test_get_users_id_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-14"><a href="#__codelineno-22-14" id="__codelineno-22-14" name="__codelineno-22-14"></a><span class="w">    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-15"><a href="#__codelineno-22-15" id="__codelineno-22-15" name="__codelineno-22-15"></a><span class="w">      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span>
</span><span id="__span-22-16"><a href="#__codelineno-22-16" id="__codelineno-22-16" name="__codelineno-22-16"></a><span class="w">      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://reqres.in/api/users/2"</span>
</span><span id="__span-22-17"><a href="#__codelineno-22-17" id="__codelineno-22-17" name="__codelineno-22-17"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-22-18"><a href="#__codelineno-22-18" id="__codelineno-22-18" name="__codelineno-22-18"></a><span class="w">    </span><span class="nt">"assert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-19"><a href="#__codelineno-22-19" id="__codelineno-22-19" name="__codelineno-22-19"></a><span class="w">      </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
</span><span id="__span-22-20"><a href="#__codelineno-22-20" id="__codelineno-22-20" name="__codelineno-22-20"></a><span class="w">      </span><span class="nt">"responseKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"data"</span><span class="p">,</span><span class="w"> </span><span class="s2">"support"</span><span class="p">],</span>
</span><span id="__span-22-21"><a href="#__codelineno-22-21" id="__codelineno-22-21" name="__codelineno-22-21"></a><span class="w">      </span><span class="nt">"responseTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.300</span>
</span><span id="__span-22-22"><a href="#__codelineno-22-22" id="__codelineno-22-22" name="__codelineno-22-22"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-22-23"><a href="#__codelineno-22-23" id="__codelineno-22-23" name="__codelineno-22-23"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-22-24"><a href="#__codelineno-22-24" id="__codelineno-22-24" name="__codelineno-22-24"></a><span class="w">  </span><span class="nt">"test_get_non_existing_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-25"><a href="#__codelineno-22-25" id="__codelineno-22-25" name="__codelineno-22-25"></a><span class="w">    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-26"><a href="#__codelineno-22-26" id="__codelineno-22-26" name="__codelineno-22-26"></a><span class="w">      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span>
</span><span id="__span-22-27"><a href="#__codelineno-22-27" id="__codelineno-22-27" name="__codelineno-22-27"></a><span class="w">      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://reqres.in/api/users/23"</span>
</span><span id="__span-22-28"><a href="#__codelineno-22-28" id="__codelineno-22-28" name="__codelineno-22-28"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-22-29"><a href="#__codelineno-22-29" id="__codelineno-22-29" name="__codelineno-22-29"></a><span class="w">    </span><span class="nt">"assert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-30"><a href="#__codelineno-22-30" id="__codelineno-22-30" name="__codelineno-22-30"></a><span class="w">      </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span>
</span><span id="__span-22-31"><a href="#__codelineno-22-31" id="__codelineno-22-31" name="__codelineno-22-31"></a><span class="w">      </span><span class="nt">"responseKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
</span><span id="__span-22-32"><a href="#__codelineno-22-32" id="__codelineno-22-32" name="__codelineno-22-32"></a><span class="w">      </span><span class="nt">"responseTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.300</span>
</span><span id="__span-22-33"><a href="#__codelineno-22-33" id="__codelineno-22-33" name="__codelineno-22-33"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-22-34"><a href="#__codelineno-22-34" id="__codelineno-22-34" name="__codelineno-22-34"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-22-35"><a href="#__codelineno-22-35" id="__codelineno-22-35" name="__codelineno-22-35"></a><span class="p">}</span>
</span></code></pre>
</div>
<p>
Drugi plik nazwiemy
<code>
users_create.json
</code>
będzie testował API dotyczące tworzenia nowych użytkowników w testowanej aplikacji:
</p>
<div class="highlight language-json">
<pre><span></span><code><span id="__span-23-1"><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="p">{</span>
</span><span id="__span-23-2"><a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="w">  </span><span class="nt">"test_create_new_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-3"><a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-4"><a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span>
</span><span id="__span-23-5"><a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://reqres.in/api/users"</span><span class="p">,</span>
</span><span id="__span-23-6"><a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">      </span><span class="nt">"json"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-7"><a href="#__codelineno-23-7" id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testerembyc"</span><span class="p">,</span>
</span><span id="__span-23-8"><a href="#__codelineno-23-8" id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">        </span><span class="nt">"jon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tester"</span>
</span><span id="__span-23-9"><a href="#__codelineno-23-9" id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-23-10"><a href="#__codelineno-23-10" id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-23-11"><a href="#__codelineno-23-11" id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w">    </span><span class="nt">"assert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-12"><a href="#__codelineno-23-12" id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="w">      </span><span class="nt">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span>
</span><span id="__span-23-13"><a href="#__codelineno-23-13" id="__codelineno-23-13" name="__codelineno-23-13"></a><span class="w">      </span><span class="nt">"responseKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"name"</span><span class="p">,</span><span class="w"> </span><span class="s2">"jon"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w"> </span><span class="s2">"createdAt"</span><span class="p">],</span>
</span><span id="__span-23-14"><a href="#__codelineno-23-14" id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="w">      </span><span class="nt">"responseTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.300</span>
</span><span id="__span-23-15"><a href="#__codelineno-23-15" id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-23-16"><a href="#__codelineno-23-16" id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-23-17"><a href="#__codelineno-23-17" id="__codelineno-23-17" name="__codelineno-23-17"></a><span class="p">}</span>
</span></code></pre>
</div>
<p>
Zauważ, że te pliki to tylko prosty podział i nie nastąpiła żadna modyfikacja danych, które oryginalnie zawarte były w pliku
<code>
tests.json
</code>
.
</p>
<p>
Przejdźmy teraz do wprowadzenia zmian w kodzie:
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-24-1"><a href="#__codelineno-24-1" id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">glob</span>
</span><span id="__span-24-2"><a href="#__codelineno-24-2" id="__codelineno-24-2" name="__codelineno-24-2"></a>
</span><span id="__span-24-3"><a href="#__codelineno-24-3" id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="k">def</span> <span class="nf">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span id="__span-24-4"><a href="#__codelineno-24-4" id="__codelineno-24-4" name="__codelineno-24-4"></a>    <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span>
</span><span id="__span-24-5"><a href="#__codelineno-24-5" id="__codelineno-24-5" name="__codelineno-24-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">])</span>
</span><span id="__span-24-6"><a href="#__codelineno-24-6" id="__codelineno-24-6" name="__codelineno-24-6"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertSetEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="nb">set</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'responseKeys'</span><span class="p">]))</span>
</span><span id="__span-24-7"><a href="#__codelineno-24-7" id="__codelineno-24-7" name="__codelineno-24-7"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertLessEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">elapsed</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">(),</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'responseTime'</span><span class="p">])</span>
</span><span id="__span-24-8"><a href="#__codelineno-24-8" id="__codelineno-24-8" name="__codelineno-24-8"></a>
</span><span id="__span-24-9"><a href="#__codelineno-24-9" id="__codelineno-24-9" name="__codelineno-24-9"></a><span class="k">for</span> <span class="n">file_name</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">iglob</span><span class="p">(</span><span class="s2">"*.json"</span><span class="p">):</span>
</span><span id="__span-24-10"><a href="#__codelineno-24-10" id="__codelineno-24-10" name="__codelineno-24-10"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-24-11"><a href="#__codelineno-24-11" id="__codelineno-24-11" name="__codelineno-24-11"></a>        <span class="n">test</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="n">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</span><span id="__span-24-12"><a href="#__codelineno-24-12" id="__codelineno-24-12" name="__codelineno-24-12"></a>        <span class="n">suite_name</span> <span class="o">=</span> <span class="n">file_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-24-13"><a href="#__codelineno-24-13" id="__codelineno-24-13" name="__codelineno-24-13"></a>        <span class="nb">globals</span><span class="p">()[</span><span class="n">suite_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">suite_name</span><span class="p">,</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">test</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">
items</span><span class="p">()})</span>
</span><span id="__span-24-14"><a href="#__codelineno-24-14" id="__codelineno-24-14" name="__codelineno-24-14"></a>
</span><span id="__span-24-15"><a href="#__codelineno-24-15" id="__codelineno-24-15" name="__codelineno-24-15"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Wprowadziliśmy kilka drobnych zmian:
</p>
<ol>
<li>
Dodaliśmy pętle
<code>
for
</code>
, która iteruje po znalezionych plikach
<strong>
json
</strong>
.
</li>
<li>
Dodaliśmy zmienną
<code>
suite_name
</code>
, która przechowuje nazwę suity testów, a która jest nazwą pliku
<strong>
json
</strong>
bez jego rozszerzenia.
</li>
<li>
W dynamiczny sposób dodajemy zmienne globalne, które są oddzielnymi klasami testów, gdzie każdemu plikowi
<strong>
json
</strong>
odpowiada jedna klasa z testami.
</li>
</ol>
<p>
Gdybyśmy teraz w naszym kodzie wyświetli zawartość, którą zwraca
<code>
globals()
</code>
, zauważylibyśmy m.in. coś takiego:
</p>
<div class="highlight language-console">
<pre><span></span><code><span id="__span-25-1"><a href="#__codelineno-25-1" id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="go">'user_create': &lt;class '__main__.user_create'&gt;, 'user_get': &lt;class '__main__.user_get'&gt;</span>
</span></code></pre>
</div>
<p>
Ile mamy linii kodu?
<strong>
15
</strong>
. Uff. Dalej mieścimy się w zakładanych 16 linijkach kodu.
</p>
<h2 id="podsumowanie">
Podsumowanie
</h2>
<p>
To była dosyć długa przygoda (aż dwa i to dosyć rozbudowane wpisy na blogu). Sporo Pythonowych
<em>
trików
</em>
, które na pierwszy rzut oka nie wydają się oczywiste, ale pokazują potęgę tego języka. Mam nadzieję, że ta podróż zachęci Cię do poznawania zarówno bibliotek Pythonowych jakie można wykorzystać w testach oraz wewnętrznych mechanizmów, jakie są w ten język wbudowane.
</p>
<h2 id="bonus">
Bonus
</h2>
<p>
Jeśli jesteś purystą i najważniejszą sprawą dla Ciebie jest zgodność kodu z
<strong>
PEP-8
</strong>
to poniżej wersja tego frameworka, która jest z nim zgodna oraz w dalszym ciągu mieści się w 16 linijkach kodu (sprawdza status odpowiedzi oraz wspiera wiele plików
<strong>
JSON
</strong>
):
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-26-1"><a href="#__codelineno-26-1" id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="kn">import</span> <span class="nn">unittest</span>
</span><span id="__span-26-2"><a href="#__codelineno-26-2" id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="kn">import</span> <span class="nn">xmlrunner</span>
</span><span id="__span-26-3"><a href="#__codelineno-26-3" id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="kn">import</span> <span class="nn">json</span>
</span><span id="__span-26-4"><a href="#__codelineno-26-4" id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="kn">import</span> <span class="nn">requests</span>
</span><span id="__span-26-5"><a href="#__codelineno-26-5" id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="kn">import</span> <span class="nn">glob</span>
</span><span id="__span-26-6"><a href="#__codelineno-26-6" id="__codelineno-26-6" name="__codelineno-26-6"></a>
</span><span id="__span-26-7"><a href="#__codelineno-26-7" id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="k">for</span> <span class="n">file_name</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">iglob</span><span class="p">(</span><span class="s2">"*.json"</span><span class="p">):</span>
</span><span id="__span-26-8"><a href="#__codelineno-26-8" id="__codelineno-26-8" name="__codelineno-26-8"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="__span-26-9"><a href="#__codelineno-26-9" id="__codelineno-26-9" name="__codelineno-26-9"></a>        <span class="n">tests_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
</span><span id="__span-26-10"><a href="#__codelineno-26-10" id="__codelineno-26-10" name="__codelineno-26-10"></a>            <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">])</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">]))(</span><span class="n">data</span><span class="p">)</span>
</span><span id="__span-26-11"><a href="#__codelineno-26-11" id="__codelineno-26-11" name="__codelineno-26-11"></a>                      <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="__span-26-12"><a href="#__codelineno-26-12" id="__codelineno-26-12" name="__codelineno-26-12"></a>        <span class="n">suite_name</span> <span class="o">=</span> <span class="n">file_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-26-13"><a href="#__codelineno-26-13" id="__codelineno-26-13" name="__codelineno-26-13"></a>        <span class="nb">globals</span><span class="p">()[</span><span class="n">suite_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">suite_name</span><span class="p">,</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="n">tests_dict</span><span class="p">)</span>
</span><span id="__span-26-14"><a href="#__codelineno-26-14" id="__codelineno-26-14" name="__codelineno-26-14"></a>
</span><span id="__span-26-15"><a href="#__codelineno-26-15" id="__codelineno-26-15" name="__codelineno-26-15"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Dodatkowo linki do repozytorium z najciekawszymi (według mnie) wersjami kodu, który omawialiśmy w tej mini serii znajdziesz poniżej:
</p>
<ul>
<li>
<a href="https://github.com/mkusz/the_smallest_rest_api_testing_framework/tree/first_article">
pierwszy artykuł
</a>
,
</li>
<li>
<a href="https://github.com/mkusz/the_smallest_rest_api_testing_framework/tree/more_functionality">
więcej funkcjonalności
</a>
,
</li>
<li>
<a href="https://github.com/mkusz/the_smallest_rest_api_testing_framework/tree/6_lines">
tylko 6 linii kodu
</a>
,
</li>
<li>
<a href="https://github.com/mkusz/the_smallest_rest_api_testing_framework/tree/pep8_valid">
zgodność z PEP-8
</a>
.
</li>
</ul>
<h2 id="bonus-2">
Bonus 2
</h2>
<p>
Po raz kolejny
<strong>
Jakub Spórna
</strong>
z bloga
<a href="https://sporna.dev/">
https://sporna.dev/
</a>
podrzucił jeszcze mniejszą wersję frameworka. Tym razem wziął na tapetę wersję najbardziej rozbudowaną funkcjonalność i postanowił ją troszeczkę bardziej pomniejszyć. Poniżej jego wersja (z minimalną modyfikacją dotyczącej nazw plików):
</p>
<div class="highlight language-python">
<pre><span></span><code><span id="__span-27-1"><a href="#__codelineno-27-1" id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">xmlrunner</span><span class="o">,</span> <span class="nn">json</span><span class="o">,</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">glob</span>
</span><span id="__span-27-2"><a href="#__codelineno-27-2" id="__codelineno-27-2" name="__codelineno-27-2"></a>
</span><span id="__span-27-3"><a href="#__codelineno-27-3" id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="k">def</span> <span class="nf">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
</span><span id="__span-27-4"><a href="#__codelineno-27-4" id="__codelineno-27-4" name="__codelineno-27-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'statusCode'</span><span class="p">])</span>
</span><span id="__span-27-5"><a href="#__codelineno-27-5" id="__codelineno-27-5" name="__codelineno-27-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertSetEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="nb">set</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'responseKeys'</span><span class="p">]))</span>
</span><span id="__span-27-6"><a href="#__codelineno-27-6" id="__codelineno-27-6" name="__codelineno-27-6"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">assertLessEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">elapsed</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">(),</span> <span class="n">data</span><span class="p">[</span><span class="s1">'assert'</span><span class="p">][</span><span class="s1">'responseTime'</span><span class="p">])</span>
</span><span id="__span-27-7"><a href="#__codelineno-27-7" id="__codelineno-27-7" name="__codelineno-27-7"></a>
</span><span id="__span-27-8"><a href="#__codelineno-27-8" id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="n">test</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="n">abstract_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">[</span><span class="s1">'request'</span><span class="p">]))</span>
</span><span id="__span-27-9"><a href="#__codelineno-27-9" id="__codelineno-27-9" name="__codelineno-27-9"></a><span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">file_name</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span> <span class="p">),</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">test</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="nb">open</span><span 
class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span> <span class="k">for</span> <span class="n">file_name</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">iglob</span><span class="p">(</span><span class="s2">"*.json"</span><span class="p">)})</span>
</span><span id="__span-27-10"><a href="#__codelineno-27-10" id="__codelineno-27-10" name="__codelineno-27-10"></a><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">testRunner</span><span class="o">=</span><span class="n">xmlrunner</span><span class="o">.</span><span class="n">XMLTestRunner</span><span class="p">())</span>
</span></code></pre>
</div>
<p>
Nie będę już analizował zmian, gdyż pozostawię to dla Ciebie w ramach treningu.
</p>
<p>
A może Ty również pokusisz się o jakaś wersję tego kodu, np. rozbudowaną o jakieś dodatkowe sprawdzenia?
</p>
<hr>
<p class="obsidian_backlink_title">
Backlinks:
</p>
<div class="obsidian_backlink">
<details class="backlink">
<summary>
<i class="fa-brands fa-python">
</i>
</summary>
<p>
</p><p class="obsidian_backlink">
-
<a href="https://testerembyc.pl/python-kompendium/#01-posts2021-jeszcze-mniejszy-framework-do-testow-w-pythonie">
Jeszcze mniejszy framework do testów w Pythonie
</a>
</p>
<hr>
<p class="obsidian_backlink">
- glob - wyszukiwanie plików i katalogów,
</p>
<hr>
<p class="obsidian_backlink">
- type - sprawdzenie typu obiektu lub dynamiczne ich tworzenie,
</p>
<hr>
<p class="obsidian_backlink">
- dict comprehension
</p>
<hr>
<p class="obsidian_backlink">
- wyrażenia Lambda
</p>
<p></p>
</details>
<details class="backlink">
<summary>
Najmniejszy framework do testów w Pythonie
</summary>
<p>
</p><p class="obsidian_backlink">
&gt; Do tego artykułu istnieje kontynuacja, ale zachęcam do przeczytania obu artykułów w kolejności, w jakiej były publikowane. Jeśli jednak znasz już ten artykuł, to kolejny zatytułowany jest
<a href="https://testerembyc.pl/posts/najmniejszy-framework-do-testow-w-pythonie/#2021-jeszcze-mniejszy-framework-do-testow-w-pythonie">
jeszcze mniejszy framework do testów w pythonie
</a>
i również zachęcam do jego lektury.
</p>
<hr>
<p class="obsidian_backlink">
&gt; Kontynuację zmagań z najmniejszym frameworkiem do testów, możesz odnaleźć w kolejnym artykule zatytułowanym
<a href="https://testerembyc.pl/posts/najmniejszy-framework-do-testow-w-pythonie/#2021-jeszcze-mniejszy-framework-do-testow-w-pythonie">
jeszcze mniejszy framework do testów
</a>
. Zapraszam do jego lektury.
</p>
<p></p>
</details>
</div>
<script async src="https://giscus.app/client.js" crossorigin="anonymous" data-category="Komentarze na blogu" data-category-id="DIC_kwDOGBXvjM4CWu1l" data-emit-metadata="0" data-input-position="top" data-lang="pl" data-loading="lazy" data-mapping="pathname" data-reactions-enabled="1" data-repo="mkusz/testerembyc-web" data-repo-id="MDEwOlJlcG9zaXRvcnk0MDQwOTA3NjQ=" data-strict="1" data-theme="preferred_color_scheme"></script>
<script>var theme,giscus=document.querySelector("script[src*=giscus]"),palette=__md_get("__palette");palette&&"object"==typeof palette.color&&(theme="slate"===palette.color.scheme?"dark":"light",giscus.setAttribute("data-theme",theme)),document.addEventListener("DOMContentLoaded",function(){document.querySelector("[data-md-component=palette]").addEventListener("change",function(){var e=__md_get("__palette");e&&"object"==typeof e.color&&(e="slate"===e.color.scheme?"dark":"light",document.querySelector(".giscus-frame").contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app"))})})</script>
<div class="md-typeset tb-ext">
<hr>
<div class="tb-ext-grid">
<div class="tb-ext-grid__img">
<img src="/images/pages/jak_zaczac_automatyzowac_small.png">
</div>
<p class="tb-ext-grid__desc">
<b>
Jak zacząć automatyzować testy?
</b>
Poznaj 12 pytań, które pomogą Ci rozpocząć proces automatyzacji testów. W zupełnym oderwaniu od języka programowania, frameworków do testów oraz technologi w jakiej napisana została aplikacja, którą będziesz testować. Całość opisana prostym i zrozumiałym językiem.
<br>
<a href="/pages/jak-zaczac-automatyzowac-testy/" class="md-button md-button--primary">
Pobieram darmowy poradnik
</a>
</p>
</div>

</div>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
</div>
<button class="md-icon md-top" type="button" data-md-component="top" hidden>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z">
</path>
</svg>
Powrót do góry
</button>
</main>
<footer class="md-footer">
<nav class="md-grid md-footer__inner" aria-label="Stopka">
<a href="../plany-vs-rzeczywistosc/" class="md-footer__link md-footer__link--prev" rel="prev" aria-label="Poprzednia strona: Plany vs. rzeczywistość (vlog 001)">
<div class="md-icon md-footer__button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z">
</path>
</svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
Poprzednia strona
</span>
<div class="md-ellipsis">
Plany vs. rzeczywistość (vlog 001)
</div>
</div>
</a>
<a href="../najmniejszy-framework-do-testow-w-pythonie/" class="md-footer__link md-footer__link--next" rel="next" aria-label="Następna strona: Najmniejszy framework do testów w Pythonie">
<div class="md-footer__title">
<span class="md-footer__direction">
Następna strona
</span>
<div class="md-ellipsis">
Najmniejszy framework do testów w Pythonie
</div>
</div>
<div class="md-icon md-footer__button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z">
</path>
</svg>
</div>
</a>
</nav>
<div class="md-typeset md-footer-meta">
<div class="md-grid md-footer-meta__inner">
<div class="md-copyright">
<div class="md-copyright__highlight">
© 2019-2023 Maciej Kusz
</div>
Utworzono z wykorzystaniem
<a href="https://www.mkdocs.org/" rel="noopener" target="_blank">
MkDocs
</a>
,
<a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
Material for MkDocs
</a>
,
<a href="https://mkusz.github.io/mkdocs-publisher/" rel="noopener" target="_blank">
MkDocs Publisher
</a>
oraz
<a href="https://pages.github.com" rel="noopener" target="_blank">
GitHub Pages
</a>
.
</div>
<div class="md-social">
<a href="/feed_rss_created.xml" class="md-social__link" title="" rel="noopener" target="_blank">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20 5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z">
</path>
</svg>
</a>
<a href="https://www.facebook.com/testerembyc" class="md-social__link" title="www.facebook.com" rel="noopener" target="_blank">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
<!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
<path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z">
</path>
</svg>
</a>
<a href="https://www.instagram.com/testerembyc/" class="md-social__link" title="www.instagram.com" rel="noopener" target="_blank">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
<!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
<path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z">
</path>
</svg>
</a>
<a href="https://www.youtube.com/@testerembyc" class="md-social__link" title="www.youtube.com" rel="noopener" target="_blank">
<svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg">
<!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
<path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z">
</path>
</svg>
</a>
<a href="https://www.linkedin.com/in/maciej-kusz/" class="md-social__link" title="www.linkedin.com" rel="noopener" target="_blank">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
<!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
<path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z">
</path>
</svg>
</a>
<a href="https://github.com/mkusz" class="md-social__link" title="github.com" rel="noopener" target="_blank">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
<!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.-->
<path 
d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
</path>
</svg>
</a>
<a href="mailto:maciej@testerembyc.pl" class="md-social__link" title="" rel="noopener" target="_blank">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="m4 8 8 5 8-5-8-5-8 5m18 0v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8c0-.73.39-1.36.97-1.71L12 .64l9.03 5.65c.58.35.97.98.97 1.71Z">
</path>
</svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-typeset md-dialog__inner">
</div>
</div>
<div class="md-consent" data-md-component="consent" hidden id="__consent">
<div class="md-consent__overlay">
</div>
<aside class="md-consent__inner">
<form class="md-typeset md-consent__form md-grid" name="consent">
<h4>
Lubisz ciasteczka?
</h4>
<p>
Używam ich, aby dostarczyć Ci lepszych treści. Chcesz wiedzieć więcej? Zerknij do
<a href="/pages/polityka-prywatnosci/" target="_blank">
polityki prywatności
</a>
.
</p>
<input type="checkbox" class="md-toggle" id="__settings">
<div class="md-consent__settings">
<ul class="task-list">
<li class="task-list-item">
<label class="task-list-control">
<input type="checkbox" name="analytics" checked>
<span class="task-list-indicator">
</span>
Google Analytics
</label>
</li>
</ul>
</div>
<div class="md-consent__controls">
<button class="md-button md-button--primary">
Akceptuj
</button>
<label class="md-button" for="__settings">
Zarządzaj ustawieniami
</label>
</div>
</form>
</aside>
</div>
<script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
<script id="__config" type="application/json">
{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.footer", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Skopiowano do schowka", "clipboard.copy": "Kopiuj do schowka", "search.result.more.one": "1 wi\u0119cej na tej stronie", "search.result.more.other": "# wi\u0119cej na tej stronie", "search.result.none": "Brak wynik\u00f3w wyszukiwania", "search.result.one": "Wyniki wyszukiwania: 1", "search.result.other": "Wyniki wyszukiwania: #", "search.result.placeholder": "Zacznij pisa\u0107, aby szuka\u0107", "search.result.term.missing": "Brak", "select.version": "Wybierz wersj\u0119"}}
</script>
<script defer>!function(e,t,n,c,o,a){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),(c.push=c).loaded=!0,c.version="2.0",c.queue=[],(o=t.createElement(n)).async=!0,o.src="https://connect.facebook.net/en_US/fbevents.js",(a=t.getElementsByTagName(n)[0]).parentNode.insertBefore(o,a))}(window,document,"script"),fbq("init","444619046317574"),fbq("track","PageView")</script>
<noscript>
<img src="https://www.facebook.com/tr?id=444619046317574&amp;ev=PageView&amp;noscript=1" alt="Facebook Pixel" height="1" style="display:none" width="1">

</noscript>
</body>
</html>